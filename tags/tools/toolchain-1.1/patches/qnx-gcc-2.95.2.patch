diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-cygwin32x86.nto gcc/build-cygwin32x86.nto
--- gcc-2.95.2/build-cygwin32x86.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-cygwin32x86.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=i386-pc-cygwin32 ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-linux gcc/build-linux
--- gcc-2.95.2/build-linux	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-linux	2001-05-26 03:39:03.000000000 +1000
@@ -0,0 +1,39 @@
+#!/bin/bash
+
+basedir=`pwd`
+dir=/opt/QNXsdk/host/linux/x86/usr
+
+if [ -z "$target" ]; then
+	echo "Don't run this script without setting target!"
+	exit 1
+fi
+
+rm -rf linux/$target
+mkdir -p linux/$target
+cd linux/$target
+
+if $basedir/configure \
+	--srcdir=$basedir \
+	--target=$target \
+	--prefix=$dir \
+	--exec-prefix=$dir \
+	--with-local-prefix=$dir \
+	--enable-haifa \
+	--enable-languages=c++ \
+	--enable-multilib \
+	--enable-threads=posix \
+	--enable-shared \
+	--verbose
+then
+	echo "hacking gcc/Makefile"
+	ex gcc/Makefile <<EOF
+%s/^OLDCC = cc/OLDCC = .\/xgcc -B.\//
+w
+q
+EOF
+
+fi
+
+rm -rf ${basedir}/linux/${target}/${target}
+
+make
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-linuxx86.nto gcc/build-linuxx86.nto
--- gcc-2.95.2/build-linuxx86.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-linuxx86.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=i386-linux ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-nto gcc/build-nto
--- gcc-2.95.2/build-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-nto	2001-06-01 13:49:38.000000000 +1000
@@ -0,0 +1,43 @@
+#!/bin/sh
+
+basedir=`pwd`
+
+if [ -z "$target" ]; then
+	echo "Don't run this script without setting target!"
+	exit 1
+fi
+
+case "$target" in
+	nto*)	dir=/usr ;;
+	*)	dir=/opt/QNXsdk/host/qnx6/x86/usr ;;
+esac
+
+rm -rf nto/$target
+mkdir -p nto/$target
+cd nto/$target
+
+export CC="env QCC_CONF_PATH=$QCC_CONF_PATH QNX_TARGET=$QNX_TARGET QSSL_TARGET=$QNX_TARGET qcc -Vgcc_ntox86"
+export LDFLAGS="-Wl,-s"
+if $basedir/configure \
+	--srcdir=$basedir \
+	--target=$target \
+	--prefix=$dir \
+	--exec-prefix=$dir \
+	--with-local-prefix=$dir \
+	--enable-haifa \
+	--enable-languages=c++ \
+	--enable-multilib \
+	--enable-threads=posix \
+	--enable-shared \
+	--verbose
+then
+	echo "hacking gcc/Makefile"
+	sed -e "s/OLDCC = cc/OLDCC = .\/xgcc -B.\/ -I \$\(QNX_TARGET\)\/usr\/include/" gcc/Makefile > gcc/Makefile.qnx
+	mv gcc/Makefile.qnx gcc/Makefile
+	sed -e "/^INCLUDES = /s/$/ -I\$\(QNX_TARGET\)\/usr\/include/" gcc/Makefile > gcc/Makefile.qnx
+	mv gcc/Makefile.qnx gcc/Makefile
+fi
+
+rm -rf ${basedir}/nto/${target}/${target}
+
+make
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoarm.nto gcc/build-ntoarm.nto
--- gcc-2.95.2/build-ntoarm.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoarm.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoarm ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoarm.qnx4 gcc/build-ntoarm.qnx4
--- gcc-2.95.2/build-ntoarm.qnx4	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoarm.qnx4	2001-03-21 05:10:36.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoarm ./build-qnx4
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoarm.solsparc gcc/build-ntoarm.solsparc
--- gcc-2.95.2/build-ntoarm.solsparc	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoarm.solsparc	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoarm ./build-solsparc
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoarm.win32 gcc/build-ntoarm.win32
--- gcc-2.95.2/build-ntoarm.win32	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoarm.win32	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoarm ./build-win32
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntomips.nto gcc/build-ntomips.nto
--- gcc-2.95.2/build-ntomips.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntomips.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntomips ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntomips.qnx4 gcc/build-ntomips.qnx4
--- gcc-2.95.2/build-ntomips.qnx4	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntomips.qnx4	2001-03-21 05:10:36.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntomips ./build-qnx4
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntomips.solsparc gcc/build-ntomips.solsparc
--- gcc-2.95.2/build-ntomips.solsparc	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntomips.solsparc	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntomips ./build-solsparc
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntomips.win32 gcc/build-ntomips.win32
--- gcc-2.95.2/build-ntomips.win32	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntomips.win32	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntomips ./build-win32
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoppc.nto gcc/build-ntoppc.nto
--- gcc-2.95.2/build-ntoppc.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoppc.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoppc ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoppc.qnx4 gcc/build-ntoppc.qnx4
--- gcc-2.95.2/build-ntoppc.qnx4	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoppc.qnx4	2001-03-21 05:10:36.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoppc ./build-qnx4
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoppc.solsparc gcc/build-ntoppc.solsparc
--- gcc-2.95.2/build-ntoppc.solsparc	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoppc.solsparc	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoppc ./build-solsparc
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntoppc.win32 gcc/build-ntoppc.win32
--- gcc-2.95.2/build-ntoppc.win32	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntoppc.win32	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntoppc ./build-win32
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntosh.linux gcc/build-ntosh.linux
--- gcc-2.95.2/build-ntosh.linux	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntosh.linux	2001-05-26 03:39:03.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntosh ./build-linux
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntosh.nto gcc/build-ntosh.nto
--- gcc-2.95.2/build-ntosh.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntosh.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntosh ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntosh.qnx4 gcc/build-ntosh.qnx4
--- gcc-2.95.2/build-ntosh.qnx4	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntosh.qnx4	2001-03-21 05:10:36.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntosh ./build-qnx4
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntosh.solsparc gcc/build-ntosh.solsparc
--- gcc-2.95.2/build-ntosh.solsparc	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntosh.solsparc	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntosh ./build-solsparc
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntosh.win32 gcc/build-ntosh.win32
--- gcc-2.95.2/build-ntosh.win32	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntosh.win32	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntosh ./build-win32
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntox86.nto gcc/build-ntox86.nto
--- gcc-2.95.2/build-ntox86.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntox86.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntox86 ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntox86.qnx4 gcc/build-ntox86.qnx4
--- gcc-2.95.2/build-ntox86.qnx4	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntox86.qnx4	2001-03-21 05:10:36.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntox86 ./build-qnx4
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntox86.solsparc gcc/build-ntox86.solsparc
--- gcc-2.95.2/build-ntox86.solsparc	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntox86.solsparc	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntox86 ./build-solsparc
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-ntox86.win32 gcc/build-ntox86.win32
--- gcc-2.95.2/build-ntox86.win32	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-ntox86.win32	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=ntox86 ./build-win32
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-pinfo gcc/build-pinfo
--- gcc-2.95.2/build-pinfo	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-pinfo	2001-05-25 03:43:51.000000000 +1000
@@ -0,0 +1,327 @@
+#!/bin/sh
+
+LICE=GPL
+
+# common pinfo files 
+DESC="GCC 2.95.2"
+
+TARGETS="ntox86 ntoppc ntomips ntosh ntoarm"
+
+STACKSIZE=${STACKSIZE:-2048000}
+
+for target in $TARGETS
+do
+
+  file=nto/${target}/gcc/cc1
+  echo NAME=cc1 > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/lib/gcc-lib/${target}/2.95.2/ >> ${file}.pinfo
+  echo INSTALLNAME=cc1 >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  echo "Setting Stack Size for $file"
+  ldrel -L -S $STACKSIZE $file
+
+  file=nto/${target}/gcc/cc1plus
+  echo NAME=cc1plus > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/lib/gcc-lib/${target}/2.95.2/ >> ${file}.pinfo
+  echo INSTALLNAME=cc1plus >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  echo "Setting Stack Size for $file"
+  ldrel -L -S $STACKSIZE $file
+
+  file=nto/${target}/gcc/collect2
+  echo NAME=collect2 > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/lib/gcc-lib/${target}/2.95.2/ >> ${file}.pinfo
+  echo INSTALLNAME=collect2 >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  file=nto/${target}/gcc/cpp
+  echo NAME=cpp > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/lib/gcc-lib/${target}/2.95.2/ >> ${file}.pinfo
+  echo INSTALLNAME=cpp >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  file=nto/${target}/gcc/c++filt
+  echo NAME=c++filt > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/bin/ >> ${file}.pinfo
+  echo INSTALLNAME=${target}-c++filt >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  file=nto/${target}/gcc/protoize
+  echo NAME=protoize > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/bin/ >> ${file}.pinfo
+  echo INSTALLNAME=${target}-protoize >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  file=nto/${target}/gcc/unprotoize
+  echo NAME=unprotoize > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/bin/ >> ${file}.pinfo
+  echo INSTALLNAME=${target}-unprotoize >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+ 
+  file=nto/${target}/gcc/xgcc
+  echo NAME=xgcc > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/bin/ >> ${file}.pinfo
+  echo INSTALLNAME=${target}-gcc >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  file=nto/${target}/gcc/g++
+  echo NAME=g++ > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/bin/ >> ${file}.pinfo
+  echo INSTALLNAME=${target}-g++ >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+  file=nto/${target}/gcc/c++
+  echo NAME=c++ > ${file}.pinfo
+  echo DESCRIPTION=$DESC >> ${file}.pinfo
+  echo INSTALLDIR=/usr/bin/ >> ${file}.pinfo
+  echo INSTALLNAME=${target}-c++ >> ${file}.pinfo
+  echo LICE=$LICE >> ${file}.pinfo
+  echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+done
+
+# x86 so pinfo files
+DESC="X86 GCC 2.95.2 Shared Object"
+
+file=nto/ntox86/ntox86/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntox86/lib/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntox86/ntox86/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntox86/lib/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+# ppc so pinfo files
+DESC="PPC GCC 2.95.2 Shared Object"
+
+file=nto/ntoppc/ntoppc/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/nof/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/nof/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/nof/pic/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/nof/pic/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/nof/pic/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/nof/pic/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/nof/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/nof/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/pic/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/pic/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/pic/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/pic/exceptions >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoppc/ntoppc/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoppc/lib/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+
+#mips pinfo files
+DESC="MIPS GCC 2.95.2 Shared Object"
+
+
+file=nto/ntomips/ntomips/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/qnxpic/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/qnxpic/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/qnxpic/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/qnxpic/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/qnxpic/exceptions/el/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/qnxpic/exceptions/el/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/qnxpic/el/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/qnxpic/el/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/exceptions/el/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/exceptions/el/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntomips/ntomips/el/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntomips/lib/el/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+
+# arm pinfo files
+DESC="ARM GCC 2.95.2 Shared Object"
+
+file=nto/ntoarm/ntoarm/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/exceptions/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/exceptions/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/exceptions/pic/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/exceptions/pic/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/exceptions/pic/le/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/exceptions/pic/le/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/exceptions/le/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/exceptions/le/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/pic/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/pic/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/pic/le/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/pic/le/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+file=nto/ntoarm/ntoarm/le/libstdc++/libstdc++.so.2.10.0
+echo NAME=libstdc++.so.2.10.0 > ${file}.pinfo
+echo DESCRIPTION=$DESC >> ${file}.pinfo
+echo INSTALLDIR=/usr/ntoarm/lib/le/ >> ${file}.pinfo
+echo INSTALLNAME=libstdc++.so.2.10.0 >> ${file}.pinfo
+echo LICE=$LICE >> ${file}.pinfo
+echo DATE=`date +%Y%m%d%H` >> ${file}.pinfo
+
+#sh pinfo files
+DESC="SH GCC 2.95.2 Shared Object"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-qnx4 gcc/build-qnx4
--- gcc-2.95.2/build-qnx4	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-qnx4	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,58 @@
+#!/bin/sh
+
+basedir=`pwd`
+dir=/usr/gcc
+
+if [ -z "$target" ]; then
+	echo "Don't run this script without setting target!"
+	exit 1
+fi
+
+rm -rf qnx4/$target
+mkdir -p qnx4/$target
+cd qnx4/$target
+
+export CC=${CC:-'qcc -Vgcc_qnx4'}
+export CXX=${CXX:-'qcc -Vgcc_qnx4'}
+export cc=${CC:-'qcc -Vgcc_qnx4'}
+export cxx=${CC:-'qcc -Vgcc_qnx4'}
+
+if $basedir/configure \
+	--srcdir=$basedir \
+	--host=i386-qnx \
+	--target=$target \
+	--prefix=$dir \
+	--exec-prefix=$dir \
+	--with-local-prefix=$dir \
+	--enable-haifa \
+	--enable-languages=c++ \
+	--enable-multilib \
+	--enable-threads=posix \
+	--verbose
+then
+	echo "hacking gcc/Makefile"
+	ex gcc/Makefile <<EOF
+%s/^OLDCC = cc/OLDCC = .\/xgcc -B.\//
+w
+q
+EOF
+
+# this is because the intl.all target screws the qnx4 expr, and
+# we don't do anything for this target anyway
+ex gcc/Makefile <<EOF
+/^intl.all/+2,+4d
+/^intl.all/
++2
+i
+	/bin/true
+.
+w
+q
+EOF
+
+else
+	echo "Configure failed
+	exit 1
+fi
+
+make
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-solsparc gcc/build-solsparc
--- gcc-2.95.2/build-solsparc	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-solsparc	2001-05-18 04:43:18.000000000 +1000
@@ -0,0 +1,39 @@
+#!/bin/bash
+
+basedir=`pwd`
+dir=/opt/QNXsdk/host/solaris/sparc/usr
+
+if [ -z "$target" ]; then
+	echo "Don't run this script without setting target!"
+	exit 1
+fi
+
+rm -rf solsparc/$target
+mkdir -p solsparc/$target
+cd solsparc/$target
+
+if $basedir/configure \
+	--srcdir=$basedir \
+	--target=$target \
+	--prefix=$dir \
+	--exec-prefix=$dir \
+	--with-local-prefix=$dir \
+	--enable-haifa \
+	--enable-languages=c++ \
+	--enable-multilib \
+	--enable-threads=posix \
+	--enable-shared \
+	--verbose
+then
+	echo "hacking gcc/Makefile"
+	ex gcc/Makefile <<EOF
+%s/^OLDCC = cc/OLDCC = .\/xgcc -B.\//
+w
+q
+EOF
+
+fi
+
+rm -rf ${basedir}/solsparc/${target}/${target}
+
+make
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-solsparc.nto gcc/build-solsparc.nto
--- gcc-2.95.2/build-solsparc.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-solsparc.nto	2001-03-01 05:36:21.000000000 +1000
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+target=sparc-sun-solaris2.6 ./build-nto
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/build-win32 gcc/build-win32
--- gcc-2.95.2/build-win32	1970-01-01 10:00:00.000000000 +1000
+++ gcc/build-win32	2001-05-18 04:31:17.000000000 +1000
@@ -0,0 +1,46 @@
+#!/bin/sh
+
+basedir=`pwd`
+dir=/usr/gcc
+
+if [ -z "$target" ]; then
+	echo "Don't run this script without setting target!"
+	exit 1
+fi
+
+rm -rf win32/$target
+mkdir -p win32/$target
+cd win32/$target
+
+if $basedir/configure \
+	--srcdir=$basedir \
+	--target=$target \
+	--prefix=$dir \
+	--exec-prefix=$dir \
+	--with-local-prefix=$dir \
+	--enable-haifa \
+	--enable-languages=c++ \
+	--enable-multilib \
+	--enable-threads=posix \
+	--enable-shared \
+	--verbose
+then
+	echo "hacking gcc/Makefile"
+	ex gcc/Makefile <<EOF
+%s/^OLDCC = cc/OLDCC = .\/xgcc -B.\//
+w
+q
+EOF
+
+	cp -v $basedir/gcc/fixinc/inclhack.sh gcc/fixinc.sh
+	ex gcc/fixinc.sh <<EOF
+/^case "\`\$PWDCMD/,/esac/+1d
+w
+q
+EOF
+else
+	echo "Configure Failed!"
+	exit 1
+fi
+rm -rf ${basedir}/win32/${target}/${target}
+make
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/config/mh-mipspic gcc/config/mh-mipspic
--- gcc-2.95.2/config/mh-mipspic	1970-01-01 10:00:00.000000000 +1000
+++ gcc/config/mh-mipspic	2001-03-01 05:24:37.000000000 +1000
@@ -0,0 +1 @@
+PICFLAG=-fpic
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/config/mt-mipspic gcc/config/mt-mipspic
--- gcc-2.95.2/config/mt-mipspic	1970-01-01 10:00:00.000000000 +1000
+++ gcc/config/mt-mipspic	2001-03-01 05:24:37.000000000 +1000
@@ -0,0 +1 @@
+PICFLAG_FOR_TARGET=-fpic
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/config.guess gcc/config.guess
--- gcc-2.95.2/config.guess	1999-05-31 02:04:33.000000000 +1000
+++ gcc/config.guess	2001-03-01 05:24:36.000000000 +1000
@@ -1,6 +1,7 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
-#   Copyright (C) 1992, 93, 94, 95, 96, 97, 1998, 1999 Free Software Foundation, Inc.
+#   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999
+#   Free Software Foundation, Inc.
 #
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -23,6 +24,7 @@
 
 # Written by Per Bothner <bothner@cygnus.com>.
 # The master version of this file is at the FSF in /home/gd/gnu/lib.
+# Please send patches to the Autoconf mailing list <autoconf@gnu.org>.
 #
 # This script attempts to guess a canonical system name similar to
 # config.sub.  If it succeeds, it prints the system name on stdout, and
@@ -35,6 +37,20 @@
 # (but try to keep the structure clean).
 #
 
+# Use $HOST_CC if defined. $CC may point to a cross-compiler
+if test x"$CC_FOR_BUILD" = x; then
+  if test x"$HOST_CC" != x; then
+    CC_FOR_BUILD="$HOST_CC"
+  else
+    if test x"$CC" != x; then
+      CC_FOR_BUILD="$CC"
+    else
+      CC_FOR_BUILD=cc
+    fi
+  fi
+fi
+
+
 # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
 # (ghazi@noc.rutgers.edu 8/24/94.)
 if (test -f /.attbin/uname) >/dev/null 2>&1 ; then
@@ -46,7 +62,8 @@
 UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown
 UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
 
-trap 'rm -f dummy.c dummy.o dummy; exit 1' 1 2 15
+dummy=dummy-$$
+trap 'rm -f $dummy.c $dummy.o $dummy; exit 1' 1 2 15
 
 # Note: order is significant - the case branches are not exclusive.
 
@@ -59,7 +76,7 @@
 	# A Tn.n version is a released field test version.
 	# A Xn.n version is an unreleased experimental baselevel.
 	# 1.2 uses "1.2" for uname -r.
-	cat <<EOF >dummy.s
+	cat <<EOF >$dummy.s
 	.globl main
 	.ent main
 main:
@@ -76,9 +93,9 @@
 	ret \$31,(\$26),1
 	.end main
 EOF
-	${CC-cc} dummy.s -o dummy 2>/dev/null
+	$CC_FOR_BUILD $dummy.s -o $dummy 2>/dev/null
 	if test "$?" = 0 ; then
-		./dummy
+		./$dummy
 		case "$?" in
 			7)
 				UNAME_MACHINE="alpha"
@@ -97,15 +114,15 @@
 				;;
 		esac
 	fi
-	rm -f dummy.s dummy
+	rm -f $dummy.s $dummy
 	echo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[VTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
 	exit 0 ;;
     Alpha\ *:Windows_NT*:*)
-        # How do we know it's Interix rather than generic posix subsystem?
-	# Should we change UNAME_MACHINE based on the output of uname 
-	# instead of the specific alpha model.
+	# How do we know it's Interix rather than the generic POSIX subsystem?
+	# Should we change UNAME_MACHINE based on the output of uname instead
+	# of the specific Alpha model?
 	echo alpha-pc-interix
-	exit 0;;
+	exit 0 ;;
     21064:Windows_NT:50:3)
 	echo alpha-dec-winnt3.5
 	exit 0 ;;
@@ -148,7 +165,7 @@
     SR2?01:HI-UX/MPP:*:*)
 	echo hppa1.1-hitachi-hiuxmpp
 	exit 0;;
-    Pyramid*:OSx*:*:*|MIS*:OSx*:*:*)
+    Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
 	if test "`(/bin/universe) 2>/dev/null`" = att ; then
 		echo pyramid-pyramid-sysv3
@@ -156,7 +173,7 @@
 		echo pyramid-pyramid-bsd
 	fi
 	exit 0 ;;
-    NILE:*:*:dcosx)
+    NILE*:*:*:dcosx)
 	echo pyramid-pyramid-svr4
 	exit 0 ;;
     sun4H:SunOS:5.*:*)
@@ -207,6 +224,32 @@
     atari*:OpenBSD:*:*)
 	echo m68k-unknown-openbsd${UNAME_RELEASE}
 	exit 0 ;;
+    # The situation for MiNT is a little confusing.  The machine name
+    # can be virtually everything (everything which is not
+    # "atarist" or "atariste" at least should have a processor 
+    # > m68000).  The system name ranges from "MiNT" over "FreeMiNT"
+    # to the lowercase version "mint" (or "freemint").  Finally
+    # the system name "TOS" denotes a system which is actually not
+    # MiNT.  But MiNT is downward compatible to TOS, so this should
+    # be no problem.
+    atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
+        echo m68k-atari-mint${UNAME_RELEASE}
+	exit 0 ;;
+    atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
+	echo m68k-atari-mint${UNAME_RELEASE}
+        exit 0 ;;
+    *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
+        echo m68k-atari-mint${UNAME_RELEASE}
+	exit 0 ;;
+    milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
+        echo m68k-milan-mint${UNAME_RELEASE}
+        exit 0 ;;
+    hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
+        echo m68k-hades-mint${UNAME_RELEASE}
+        exit 0 ;;
+    *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
+        echo m68k-unknown-mint${UNAME_RELEASE}
+        exit 0 ;;
     sun3*:NetBSD:*:*)
 	echo m68k-sun-netbsd${UNAME_RELEASE}
 	exit 0 ;;
@@ -228,6 +271,9 @@
     powerpc:machten:*:*)
 	echo powerpc-apple-machten${UNAME_RELEASE}
 	exit 0 ;;
+    macppc:NetBSD:*:*)
+        echo powerpc-apple-netbsd${UNAME_RELEASE}
+        exit 0 ;;
     RISC*:Mach:*:*)
 	echo mips-dec-mach_bsd4.3
 	exit 0 ;;
@@ -237,12 +283,16 @@
     VAX*:ULTRIX*:*:*)
 	echo vax-dec-ultrix${UNAME_RELEASE}
 	exit 0 ;;
-    2020:CLIX:*:*)
+    2020:CLIX:*:* | 2430:CLIX:*:*)
 	echo clipper-intergraph-clix${UNAME_RELEASE}
 	exit 0 ;;
     mips:*:*:UMIPS | mips:*:*:RISCos)
-	sed 's/^	//' << EOF >dummy.c
-	int main (argc, argv) int argc; char **argv; {
+	sed 's/^	//' << EOF >$dummy.c
+#ifdef __cplusplus
+	int main (int argc, char *argv[]) {
+#else
+	int main (argc, argv) int argc; char *argv[]; {
+#endif
 	#if defined (host_mips) && defined (MIPSEB)
 	#if defined (SYSTYPE_SYSV)
 	  printf ("mips-mips-riscos%ssysv\n", argv[1]); exit (0);
@@ -257,10 +307,10 @@
 	  exit (-1);
 	}
 EOF
-	${CC-cc} dummy.c -o dummy \
-	  && ./dummy `echo "${UNAME_RELEASE}" | sed -n 's/\([0-9]*\).*/\1/p'` \
-	  && rm dummy.c dummy && exit 0
-	rm -f dummy.c dummy
+	$CC_FOR_BUILD $dummy.c -o $dummy \
+	  && ./$dummy `echo "${UNAME_RELEASE}" | sed -n 's/\([0-9]*\).*/\1/p'` \
+	  && rm $dummy.c $dummy && exit 0
+	rm -f $dummy.c $dummy
 	echo mips-mips-riscos${UNAME_RELEASE}
 	exit 0 ;;
     Night_Hawk:Power_UNIX:*:*)
@@ -312,7 +362,7 @@
 	exit 0 ;;
     *:AIX:2:3)
 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
-		sed 's/^		//' << EOF >dummy.c
+		sed 's/^		//' << EOF >$dummy.c
 		#include <sys/systemcfg.h>
 
 		main()
@@ -323,8 +373,8 @@
 			exit(0);
 			}
 EOF
-		${CC-cc} dummy.c -o dummy && ./dummy && rm dummy.c dummy && exit 0
-		rm -f dummy.c dummy
+		$CC_FOR_BUILD $dummy.c -o $dummy && ./$dummy && rm $dummy.c $dummy && exit 0
+		rm -f $dummy.c $dummy
 		echo rs6000-ibm-aix3.2.5
 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
 		echo rs6000-ibm-aix3.2.4
@@ -333,7 +383,8 @@
 	fi
 	exit 0 ;;
     *:AIX:*:4)
-	if /usr/sbin/lsattr -EHl proc0 | grep POWER >/dev/null 2>&1; then
+	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | head -1 | awk '{ print $1 }'`
+	if /usr/sbin/lsattr -EHl ${IBM_CPU_ID} | grep POWER >/dev/null 2>&1; then
 		IBM_ARCH=rs6000
 	else
 		IBM_ARCH=powerpc
@@ -366,33 +417,29 @@
     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
 	echo m68k-hp-bsd4.4
 	exit 0 ;;
-    *9??*:MPE/iX:*:*)
-	echo hppa1.0-hp-mpeix
-	exit 0 ;;
     9000/[34678]??:HP-UX:*:*)
 	case "${UNAME_MACHINE}" in
 	    9000/31? )            HP_ARCH=m68000 ;;
 	    9000/[34]?? )         HP_ARCH=m68k ;;
-	    9000/[678][0-9][0-9] )
-
-              sed 's/^              //' << EOF >dummy.c
+	    9000/[678][0-9][0-9])
+              sed 's/^              //' << EOF >$dummy.c
               #include <stdlib.h>
               #include <unistd.h>
-              
+
               int main ()
               {
               #if defined(_SC_KERNEL_BITS)
                   long bits = sysconf(_SC_KERNEL_BITS);
-              #endif 
+              #endif
                   long cpu  = sysconf (_SC_CPU_VERSION);
-              
-                  switch (cpu) 
+
+                  switch (cpu)
               	{
               	case CPU_PA_RISC1_0: puts ("hppa1.0"); break;
               	case CPU_PA_RISC1_1: puts ("hppa1.1"); break;
-              	case CPU_PA_RISC2_0: 
+              	case CPU_PA_RISC2_0:
               #if defined(_SC_KERNEL_BITS)
-              	    switch (bits) 
+              	    switch (bits)
               		{
               		case 64: puts ("hppa2.0w"); break;
               		case 32: puts ("hppa2.0n"); break;
@@ -400,20 +447,20 @@
               		} break;
               #else  /* !defined(_SC_KERNEL_BITS) */
               	    puts ("hppa2.0"); break;
-              #endif 
+              #endif
               	default: puts ("hppa1.0"); break;
               	}
                   exit (0);
               }
 EOF
-	(${CC-cc} dummy.c -o dummy 2>/dev/null ) && HP_ARCH=`./dummy`
-	rm -f dummy.c dummy
+	($CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null ) && HP_ARCH=`./$dummy`
+	rm -f $dummy.c $dummy
 	esac
 	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`
 	echo ${HP_ARCH}-hp-hpux${HPUX_REV}
 	exit 0 ;;
     3050*:HI-UX:*:*)
-	sed 's/^	//' << EOF >dummy.c
+	sed 's/^	//' << EOF >$dummy.c
 	#include <unistd.h>
 	int
 	main ()
@@ -438,8 +485,8 @@
 	  exit (0);
 	}
 EOF
-	${CC-cc} dummy.c -o dummy && ./dummy && rm dummy.c dummy && exit 0
-	rm -f dummy.c dummy
+	$CC_FOR_BUILD $dummy.c -o $dummy && ./$dummy && rm $dummy.c $dummy && exit 0
+	rm -f $dummy.c $dummy
 	echo unknown-hitachi-hiuxwe2
 	exit 0 ;;
     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )
@@ -448,6 +495,9 @@
     9000/8??:4.3bsd:*:*)
 	echo hppa1.0-hp-bsd
 	exit 0 ;;
+    *9??*:MPE/iX:*:*)
+	echo hppa1.0-hp-mpeix
+	exit 0 ;;
     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )
 	echo hppa1.1-hp-osf
 	exit 0 ;;
@@ -499,6 +549,9 @@
     CRAY*TS:*:*:*)
 	echo t90-cray-unicos${UNAME_RELEASE}
 	exit 0 ;;
+    CRAY*T3E:*:*:*)
+	echo alpha-cray-unicosmk${UNAME_RELEASE}
+	exit 0 ;;
     CRAY-2:*:*:*)
 	echo cray2-cray-unicos
         exit 0 ;;
@@ -510,21 +563,38 @@
     F301:UNIX_System_V:*:*)
        echo f301-fujitsu-uxpv`echo $UNAME_RELEASE | sed 's/ .*//'`
        exit 0 ;;
+    *:procnto*:*:* | *:QNX:[0123456789]*:*)
+	if test "${UNAME_MACHINE}" = "x86pc"; then
+	    UNAME_MACHINE=pc
+	fi
+	echo `uname -p`-${UNAME_MACHINE}-nto-qnx
+	exit 0;;
+    *:QNX:*:*)
+	echo i386-pc-qnx
+	exit 0;;
     hp3[0-9][05]:NetBSD:*:*)
 	echo m68k-hp-netbsd${UNAME_RELEASE}
 	exit 0 ;;
     hp300:OpenBSD:*:*)
 	echo m68k-unknown-openbsd${UNAME_RELEASE}
 	exit 0 ;;
-    i?86:BSD/386:*:* | *:BSD/OS:*:*)
+    i?86:BSD/386:*:* | i?86:BSD/OS:*:*)
 	echo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}
 	exit 0 ;;
+    sparc*:BSD/OS:*:*)
+	echo sparc-unknown-bsdi${UNAME_RELEASE}
+	exit 0 ;;
+    *:BSD/OS:*:*)
+	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
+	exit 0 ;;
     *:FreeBSD:*:*)
-        if test -x /usr/bin/objformat -a "elf" = "`/usr/bin/objformat`"; then
-          echo ${UNAME_MACHINE}-unknown-freebsdelf
-        else
-	  echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-_].*//'`
-      fi
+	if test -x /usr/bin/objformat; then
+	    if test "elf" = "`/usr/bin/objformat`"; then
+		echo ${UNAME_MACHINE}-unknown-freebsdelf`echo ${UNAME_RELEASE}|sed -e 's/[-_].*//'`
+		exit 0
+	    fi
+	fi
+	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
 	exit 0 ;;
     *:NetBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-netbsd`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
@@ -533,23 +603,22 @@
 	echo ${UNAME_MACHINE}-unknown-openbsd`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
 	exit 0 ;;
     i*:CYGWIN*:*)
-	echo ${UNAME_MACHINE}-pc-cygwin32
+	echo ${UNAME_MACHINE}-pc-cygwin
 	exit 0 ;;
     i*:MINGW*:*)
 	echo ${UNAME_MACHINE}-pc-mingw32
 	exit 0 ;;
     i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
-        # How do we know it's Interix rather than generic posix subsystem?
+	# How do we know it's Interix rather than the generic POSIX subsystem?
 	# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we
-	# change UNAME_MACHINE based on the output of uname instead of
-	# i386?
+	# UNAME_MACHINE based on the output of uname instead of i386?
 	echo i386-pc-interix
 	exit 0 ;;
     i*:UWIN*:*)
 	echo ${UNAME_MACHINE}-pc-uwin
 	exit 0 ;;
     p*:CYGWIN*:*)
-	echo powerpcle-unknown-cygwin32
+	echo powerpcle-unknown-cygwin
 	exit 0 ;;
     prep*:SunOS:5.*:*)
 	echo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
@@ -566,8 +635,9 @@
 	esac
 
 	# The BFD linker knows what the default object file format is, so
-	# first see if it will tell us.
-	ld_help_string=`ld --help 2>&1`
+	# first see if it will tell us. cd to the root directory to prevent
+	# problems with other programs or directories called `ld' in the path.
+	ld_help_string=`cd /; ld --help 2>&1`
 	ld_supported_emulations=`echo $ld_help_string \
 			 | sed -ne '/supported emulations:/!d
 				    s/[ 	][ 	]*/ /g
@@ -575,6 +645,7 @@
 				    s/ .*//
 				    p'`
         case "$ld_supported_emulations" in
+	  *ia64)      echo "${UNAME_MACHINE}-unknown-linux"         ; exit 0 ;;
 	  i?86linux)  echo "${UNAME_MACHINE}-pc-linux-gnuaout"      ; exit 0 ;;
 	  i?86coff)   echo "${UNAME_MACHINE}-pc-linux-gnucoff"      ; exit 0 ;;
 	  sparclinux) echo "${UNAME_MACHINE}-unknown-linux-gnuaout" ; exit 0 ;;
@@ -582,7 +653,7 @@
 	  m68klinux)  echo "${UNAME_MACHINE}-unknown-linux-gnuaout" ; exit 0 ;;
 	  elf32ppc | elf32ppclinux)
 		# Determine Lib Version
-		cat >dummy.c <<EOF
+		cat >$dummy.c <<EOF
 #include <features.h>
 #if defined(__GLIBC__)
 extern char __libc_version[];
@@ -601,19 +672,19 @@
 }
 EOF
 		LIBC=""
-		${CC-cc} dummy.c -o dummy 2>/dev/null
+		$CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null
 		if test "$?" = 0 ; then
-			./dummy | grep 1\.99 > /dev/null
+			./$dummy | grep 1\.99 > /dev/null
 			if test "$?" = 0 ; then
 				LIBC="libc1"
 			fi
 		fi	
-		rm -f dummy.c dummy
+		rm -f $dummy.c $dummy
 		echo powerpc-unknown-linux-gnu${LIBC} ; exit 0 ;;
 	esac
 
 	if test "${UNAME_MACHINE}" = "alpha" ; then
-		sed 's/^	//'  <<EOF >dummy.s
+		sed 's/^	//'  <<EOF >$dummy.s
 		.globl main
 		.ent main
 	main:
@@ -631,9 +702,9 @@
 		.end main
 EOF
 		LIBC=""
-		${CC-cc} dummy.s -o dummy 2>/dev/null
+		$CC_FOR_BUILD $dummy.s -o $dummy 2>/dev/null
 		if test "$?" = 0 ; then
-			./dummy
+			./$dummy
 			case "$?" in
 			7)
 				UNAME_MACHINE="alpha"
@@ -650,22 +721,23 @@
 			16)
 				UNAME_MACHINE="alphaev6"
 				;;
-			esac	
+			esac
 
-			objdump --private-headers dummy | \
+			objdump --private-headers $dummy | \
 			  grep ld.so.1 > /dev/null
 			if test "$?" = 0 ; then
 				LIBC="libc1"
 			fi
-		fi	
-		rm -f dummy.s dummy
+		fi
+		rm -f $dummy.s $dummy
 		echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC} ; exit 0
 	elif test "${UNAME_MACHINE}" = "mips" ; then
-	  cat >dummy.c <<EOF
-main(argc, argv)
-     int argc;
-     char *argv[];
-{
+	  cat >$dummy.c <<EOF
+#ifdef __cplusplus
+	int main (int argc, char *argv[]) {
+#else
+	int main (argc, argv) int argc; char *argv[]; {
+#endif
 #ifdef __MIPSEB__
   printf ("%s-unknown-linux-gnu\n", argv[1]);
 #endif
@@ -675,8 +747,8 @@
   return 0;
 }
 EOF
-	  ${CC-cc} dummy.c -o dummy 2>/dev/null && ./dummy "${UNAME_MACHINE}" && rm dummy.c dummy && exit 0
-	  rm -f dummy.c dummy
+	  $CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null && ./$dummy "${UNAME_MACHINE}" && rm $dummy.c $dummy && exit 0
+	  rm -f $dummy.c $dummy
 	else
 	  # Either a pre-BFD a.out linker (linux-gnuoldld)
 	  # or one that does not give us useful --help.
@@ -695,12 +767,13 @@
 	    ;;
 	  esac
 	  # Determine whether the default compiler is a.out or elf
-	  cat >dummy.c <<EOF
+	  cat >$dummy.c <<EOF
 #include <features.h>
-main(argc, argv)
-     int argc;
-     char *argv[];
-{
+#ifdef __cplusplus
+	int main (int argc, char *argv[]) {
+#else
+	int main (argc, argv) int argc; char *argv[]; {
+#endif
 #ifdef __ELF__
 # ifdef __GLIBC__
 #  if __GLIBC__ >= 2
@@ -717,8 +790,8 @@
   return 0;
 }
 EOF
-	  ${CC-cc} dummy.c -o dummy 2>/dev/null && ./dummy "${UNAME_MACHINE}" && rm dummy.c dummy && exit 0
-	  rm -f dummy.c dummy
+	  $CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null && ./$dummy "${UNAME_MACHINE}" && rm $dummy.c $dummy && exit 0
+	  rm -f $dummy.c $dummy
 	fi ;;
 # ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.  earlier versions
 # are messed up and put the nodename in both sysname and nodename.
@@ -741,17 +814,13 @@
 	fi
 	exit 0 ;;
     i?86:*:5:7*)
-       UNAME_REL=`(/bin/uname -X|egrep Release|sed -e 's/.*= //')`
-       (/bin/uname -X|egrep i80486 >/dev/null) && UNAME_MACHINE=i486
-       (/bin/uname -X|egrep '^Machine.*Pentium' >/dev/null) \
-               && UNAME_MACHINE=i586
-# 5.0.4c returns "Pent II".  5.0.5 returns PentII
-       (/bin/uname -X|egrep '^Machine.*Pent.*II' >/dev/null) \
-               && UNAME_MACHINE=i686
-       (/bin/uname -X|egrep '^Machine.*Pentium Pro' >/dev/null) \
-               && UNAME_MACHINE=i686
-       echo ${UNAME_MACHINE}-${UNAME_SYSTEM}${UNAME_VERSION}-sysv${UNAME_RELEASE}
-       exit 0 ;;
+	UNAME_REL=`(/bin/uname -X|egrep Release|sed -e 's/.*= //')`
+	(/bin/uname -X|egrep i80486 >/dev/null) && UNAME_MACHINE=i486
+	(/bin/uname -X|egrep '^Machine.*Pentium' >/dev/null) && UNAME_MACHINE=i586
+	(/bin/uname -X|egrep '^Machine.*Pent.*II' >/dev/null) && UNAME_MACHINE=i686
+	(/bin/uname -X|egrep '^Machine.*Pentium Pro' >/dev/null) && UNAME_MACHINE=i585
+	echo ${UNAME_MACHINE}-${UNAME_SYSTEM}${UNAME_VERSION}-sysv${UNAME_RELEASE}
+	exit 0 ;;
     i?86:*:3.2:*)
 	if test -f /usr/options/cb.name; then
 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
@@ -761,12 +830,10 @@
 		(/bin/uname -X|egrep i80486 >/dev/null) && UNAME_MACHINE=i486
 		(/bin/uname -X|egrep '^Machine.*Pentium' >/dev/null) \
 			&& UNAME_MACHINE=i586
-		(/bin/uname -X|egrep '^Machine.*PentII' >/dev/null) \
+		(/bin/uname -X|egrep '^Machine.*Pent ?II' >/dev/null) \
 			&& UNAME_MACHINE=i686
-		(/bin/uname -X|egrep '^Machine.*Pent II' >/dev/null) \
+		(/bin/uname -X|egrep '^Machine.*Pentium Pro' >/dev/null) \
 			&& UNAME_MACHINE=i686
-                (/bin/uname -X|egrep '^Machine.*Pentium Pro' >/dev/null) \
-                        && UNAME_MACHINE=i686
 		echo ${UNAME_MACHINE}-pc-sco$UNAME_REL
 	else
 		echo ${UNAME_MACHINE}-pc-sysv32
@@ -813,7 +880,7 @@
     mc68030:UNIX_System_V:4.*:*)
 	echo m68k-atari-sysv4
 	exit 0 ;;
-    i?86:LynxOS:2.*:*)
+    i?86:LynxOS:2.*:* | i?86:LynxOS:3.[01]*:*)
 	echo i386-unknown-lynxos${UNAME_RELEASE}
 	exit 0 ;;
     TSUNAMI:LynxOS:2.*:*)
@@ -825,6 +892,9 @@
     SM[BE]S:UNIX_SV:*:*)
 	echo mips-dde-sysv${UNAME_RELEASE}
 	exit 0 ;;
+    RM*:ReliantUNIX-*:*:*)
+	echo mips-sni-sysv4
+	exit 0 ;;
     RM*:SINIX-*:*:*)
 	echo mips-sni-sysv4
 	exit 0 ;;
@@ -855,7 +925,7 @@
     news*:NEWS-OS:*:6*)
 	echo mips-sony-newsos6
 	exit 0 ;;
-    R3000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R4000:UNIX_SV:*:*)
+    R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
 	if [ -d /usr/nec ]; then
 	        echo mips-nec-sysv${UNAME_RELEASE}
 	else
@@ -871,12 +941,24 @@
     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
 	echo i586-pc-beos
 	exit 0 ;;
+    SX-4:SUPER-UX:*:*)
+	echo sx4-nec-superux${UNAME_RELEASE}
+	exit 0 ;;
+    SX-5:SUPER-UX:*:*)
+	echo sx5-nec-superux${UNAME_RELEASE}
+	exit 0 ;;
+    Power*:Rhapsody:*:*)
+	echo powerpc-apple-rhapsody${UNAME_RELEASE}
+	exit 0 ;;
+    *:Rhapsody:*:*)
+	echo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}
+	exit 0 ;;
 esac
 
 #echo '(No uname command or uname output not recognized.)' 1>&2
 #echo "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" 1>&2
 
-cat >dummy.c <<EOF
+cat >$dummy.c <<EOF
 #ifdef _SEQUENT_
 # include <sys/types.h>
 # include <sys/utsname.h>
@@ -914,7 +996,10 @@
 #endif
   int version;
   version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
-  printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
+  if (version < 4)
+    printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
+  else
+    printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
   exit (0);
 #endif
 
@@ -974,8 +1059,8 @@
 }
 EOF
 
-${CC-cc} dummy.c -o dummy 2>/dev/null && ./dummy && rm dummy.c dummy && exit 0
-rm -f dummy.c dummy
+$CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null && ./$dummy && rm $dummy.c $dummy && exit 0
+rm -f $dummy.c $dummy
 
 # Apollos put the system type in the environment.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/config.sub gcc/config.sub
--- gcc-2.95.2/config.sub	1999-08-04 18:09:26.000000000 +1000
+++ gcc/config.sub	2001-03-02 23:13:45.000000000 +1000
@@ -68,6 +68,7 @@
 # Here we must recognize all the valid KERNEL-OS combinations.
 maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
 case $maybe_os in
+  nto-qnx* | \
   linux-gnu*)
     os=-$maybe_os
     basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
@@ -98,14 +99,14 @@
 		os=
 		basic_machine=$1
 		;;
-	-sim | -cisco | -oki | -wec | -winbond )	# EGCS LOCAL
+	-sim | -cisco | -oki | -wec | -winbond)
 		os=
 		basic_machine=$1
 		;;
-	-scout)						# EGCS LOCAL
+	-scout)
 		;;
-	-wrs)						# EGCS LOCAL
-		os=-vxworks
+	-wrs)
+		os=vxworks
 		basic_machine=$1
 		;;
 	-hiux*)
@@ -162,39 +163,24 @@
 case $basic_machine in
 	# Recognize the basic CPU types without company name.
 	# Some are omitted here because they have special meanings below.
-	tahoe | i860 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
-		| arme[lb] | pyramid | mn10200 | mn10300 \
-		| tron | a29k | 580 | i960 | h8300 \
+	tahoe | i860 | ia64 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
+		| arme[lb] | pyramid | mn10200 | mn10300 | tron | a29k \
+		| 580 | i960 | h8300 \
+		| x86 | ppcbe | mipsbe | mipsle | shbe | shle | armbe | armle \
 		| hppa | hppa1.0 | hppa1.1 | hppa2.0 | hppa2.0w | hppa2.0n \
-		| alpha | alphaev5 | alphaev56 | alphapca56 | alphaev6 \
-		| we32k | ns16k | clipper | i370 | sh | powerpc | powerpcle \
-		| 1750a | dsp16xx | pdp11 \
-		| mips64 | mipsel | mips64el | mips64orion | mips64orionel \
-		| mipstx39 | mipstx39el \
-		| sparc | sparclet | sparclite | sparc64 | sparcv9 | v850 | c4x)
-		basic_machine=$basic_machine-unknown
-		;;
-	m88110 | m680[012346]0 | m683?2 | m68360 | m5200 | z8k | v70 \
-	        | h8500 | w65) # EGCS LOCAL
-		;;
-	thumb)
+		| alpha | alphaev[4-7] | alphaev56 | alphapca5[67] \
+		| we32k | ns16k | clipper | i370 | sh | powerpc | ppc | powerpcle \
+		| 1750a | dsp16xx | pdp11 | mips16 | mips64 | mipsel | mips64el \
+		| mips64orion | mips64orionel | mipstx39 | mipstx39el \
+		| mips64vr4300 | mips64vr4300el | mips64vr4100 | mips64vr4100el \
+		| mips64vr5000 | miprs64vr5000el | mcore \
+		| sparc | sparclet | sparclite | sparc64 | sparcv9 | v850 | c4x \
+		| thumb | d10v)
 		basic_machine=$basic_machine-unknown
 		;;
-	mips64vr4300 | mips64vr4300el) # EGCS LOCAL jsmith/vr4300
-		basic_machine=$basic_machine-unknown
-		;;
-	mips64vr4100 | mips64vr4100el) # EGCS LOCAL jsmith/vr4100
-		basic_machine=$basic_machine-unknown
-		;;
-	mips64vr5000 | mips64vr5000el) # EGCS LOCAL ian/vr5000
-		basic_machine=$basic_machine-unknown
-		;;
-	mips16)
-		basic_machine=$basic_machine-unknown
-		;;
-	d10v)
-		basic_machine=$basic_machine-unknown
+	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | z8k | v70 | h8500 | w65)
 		;;
+
 	# We use `pc' rather than `unknown'
 	# because (1) that's what they normally are, and
 	# (2) the word "unknown" tends to confuse beginning users.
@@ -207,44 +193,29 @@
 		exit 1
 		;;
 	# Recognize the basic CPU types with company name.
-	vax-* | tahoe-* | i[34567]86-* | i860-* | m32r-* | m68k-* | m68000-* \
+	# FIXME: clean up the formatting here.
+	vax-* | tahoe-* | i[34567]86-* | i860-* | ia64-* | m32r-* | m68k-* | m68000-* \
 	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \
 	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
-	      | power-* | none-* | 580-* | cray2-* | h8300-* | i960-* \
+	      | power-* | none-* | 580-* | cray2-* | h8300-* | h8500-* | i960-* \
 	      | xmp-* | ymp-* \
-	      | hppa-* | hppa1.0-* | hppa1.1-* \
-	      | hppa2.0-* | hppa2.0w-* | hppa2.0n-* \
-	      | alpha-* | alphaev5-* | alphaev56-* | alphapca56-* \
-	      | alphaev6-* | we32k-* | cydra-* | ns16k-* | pn-* | np1-* \
-	      | xps100-* | clipper-* | orion-* \
+	      | x86-* | ppcbe-* | mipsbe-* | mipsle-* | shbe-* | shle-* | armbe-* | armle-* \
+	      | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* | hppa2.0n-* \
+	      | alpha-* | alphaev[4-7]-* | alphaev56-* | alphapca5[67]-* \
+	      | we32k-* | cydra-* | ns16k-* | pn-* | np1-* | xps100-* \
+	      | clipper-* | orion-* \
 	      | sparclite-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
-	      | sparc64-* | sparcv9-* | sparc86x-* | mips64-* | mipsel-* \
-	      | mips64el-* | mips64orion-* | mips64orionel-*  \
-	      | mipstx39-* | mipstx39el-* \
-	      | f301-* | arm*-*)
-		;;
-	m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | h8500-* | d10v-*) # EGCS LOCAL
-		;;
-	thumb-*) # EGCS LOCAL angela/thumb
-		;;
-	v850-*) # EGCS LOCAL
-	        ;;
-	d30v-*) # EGCS LOCAL
-	        ;;
-	mips64vr4300-* | mips64vr4300el-*) # EGCS LOCAL jsmith/vr4300
-		;;
-	mips64vr4100-* | mips64vr4100el-*) # EGCS LOCAL jsmith/vr4100
-		;;
-	mips16-*) # EGCS LOCAL krk/mips16
-		;;
-	tic30-*) # EGCS LOCAL ian/tic30
-		;;
-	c30-*) # EGCS LOCAL ian/tic30
-		basic_machine=tic30-unknown
+	      | sparc64-* | sparcv9-* | sparc86x-* | mips16-* | mips64-* | mipsel-* \
+	      | mips64el-* | mips64orion-* | mips64orionel-* \
+	      | mips64vr4100-* | mips64vr4100el-* | mips64vr4300-* | mips64vr4300el-* \
+	      | mipstx39-* | mipstx39el-* | mcore-* \
+	      | f301-* | armv*-* | t3e-* \
+	      | m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | d10v-* \
+	      | thumb-* | v850-* | d30v-* | tic30-* | c30-* )
 		;;
 	# Recognize the various machine names and aliases which stand
 	# for a CPU type and a company and sometimes even an OS.
-	386bsd)						# EGCS LOCAL
+	386bsd)
 		basic_machine=i386-unknown
 		os=-bsd
 		;;
@@ -254,11 +225,11 @@
 	3b*)
 		basic_machine=we32k-att
 		;;
-	a29khif)					# EGCS LOCAL
+	a29khif)
 		basic_machine=a29k-amd
 		os=-udi
 		;;
-	adobe68k)					# EGCS LOCAL
+	adobe68k)
 		basic_machine=m68010-adobe
 		os=-scout
 		;;
@@ -291,7 +262,7 @@
 		basic_machine=m68k-apollo
 		os=-sysv
 		;;
-	apollo68bsd)					# EGCS LOCAL
+	apollo68bsd)
 		basic_machine=m68k-apollo
 		os=-bsd
 		;;
@@ -371,7 +342,7 @@
 	encore | umax | mmax)
 		basic_machine=ns32k-encore
 		;;
-	es1800 | OSE68k | ose68k | ose | OSE)		# EGCS LOCAL
+	es1800 | OSE68k | ose68k | ose | OSE)
 		basic_machine=m68k-ericsson
 		os=-ose
 		;;
@@ -393,11 +364,11 @@
 		basic_machine=h8300-hitachi
 		os=-hms
 		;;
-	h8300xray)					# EGCS LOCAL
+	h8300xray)
 		basic_machine=h8300-hitachi
 		os=-xray
 		;;
-	h8500hms)					# EGCS LOCAL
+	h8500hms)
 		basic_machine=h8500-hitachi
 		os=-hms
 		;;
@@ -416,22 +387,6 @@
 		basic_machine=m68k-hp
 		os=-hpux
 		;;
-        w89k-*)						# EGCS LOCAL
-                basic_machine=hppa1.1-winbond
-                os=-proelf
-                ;;
-        op50n-*)					# EGCS LOCAL
-                basic_machine=hppa1.1-oki
-                os=-proelf
-                ;;
-        op60c-*)					# EGCS LOCAL
-                basic_machine=hppa1.1-oki
-                os=-proelf
-                ;;
-        hppro)						# EGCS LOCAL
-                basic_machine=hppa1.1-hp
-                os=-proelf
-                ;;
 	hp3k9[0-9][0-9] | hp9[0-9][0-9])
 		basic_machine=hppa1.0-hp
 		;;
@@ -441,22 +396,21 @@
 	hp9k3[2-9][0-9])
 		basic_machine=m68k-hp
 		;;
-	hp9k6[0-9][0-9] | hp6[0-9][0-9] )
+	hp9k6[0-9][0-9] | hp6[0-9][0-9])
 		basic_machine=hppa1.0-hp
 		;;
-	hp9k7[0-79][0-9] | hp7[0-79][0-9] )
+	hp9k7[0-79][0-9] | hp7[0-79][0-9])
 		basic_machine=hppa1.1-hp
 		;;
-	hp9k78[0-9] | hp78[0-9] )
+	hp9k78[0-9] | hp78[0-9])
 		# FIXME: really hppa2.0-hp
 		basic_machine=hppa1.1-hp
 		;;
-	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | \
-	hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893 )
+	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
 		# FIXME: really hppa2.0-hp
 		basic_machine=hppa1.1-hp
 		;;
-	hp9k8[0-9][13679] | hp8[0-9][13679] )
+	hp9k8[0-9][13679] | hp8[0-9][13679])
 		basic_machine=hppa1.1-hp
 		;;
 	hp9k8[0-9][0-9] | hp8[0-9][0-9])
@@ -465,10 +419,14 @@
 	hppa-next)
 		os=-nextstep3
 		;;
-	hppaosf)					# EGCS LOCAL
+	hppaosf)
 		basic_machine=hppa1.1-hp
 		os=-osf
 		;;
+	hppro)
+		basic_machine=hppa1.1-hp
+		os=-proelf
+		;;
 	i370-ibm* | ibm*)
 		basic_machine=i370-ibm
 		os=-mvs
@@ -490,15 +448,15 @@
 		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
 		os=-solaris2
 		;;
-	i386mach)					# EGCS LOCAL
+	i386mach)
 		basic_machine=i386-mach
 		os=-mach
 		;;
-	i386-vsta | vsta)				# EGCS LOCAL
+	i386-vsta | vsta)
 		basic_machine=i386-unknown
 		os=-vsta
 		;;
-	i386-go32 | go32)				# EGCS LOCAL
+	i386-go32 | go32)
 		basic_machine=i386-unknown
 		os=-go32
 		;;
@@ -534,6 +492,10 @@
 	miniframe)
 		basic_machine=m68000-convergent
 		;;
+	*mint | *MiNT)
+		basic_machine=m68k-atari
+		os=-mint
+		;;
 	mipsel*-linux*)
 		basic_machine=mipsel-unknown
 		os=-linux-gnu
@@ -548,12 +510,12 @@
 	mips3*)
 		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown
 		;;
-	monitor)					# EGCS LOCAL
+	monitor)
 		basic_machine=m68k-rom68k
 		os=-coff
 		;;
-	msdos)						# EGCS LOCAL
-		basic_machine=i386-unknown	
+	msdos)
+		basic_machine=i386-unknown
 		os=-msdos
 		;;
 	ncr3000)
@@ -561,7 +523,7 @@
 		os=-sysv4
 		;;
 	netbsd386)
-		basic_machine=i386-unknown		# EGCS LOCAL
+		basic_machine=i386-unknown
 		os=-netbsd
 		;;
 	netwinder)
@@ -580,7 +542,7 @@
 		basic_machine=mips-sony
 		os=-newsos
 		;;
-	necv70)						# EGCS LOCAL
+	necv70)
 		basic_machine=v70-nec
 		os=-sysv
 		;;
@@ -609,18 +571,52 @@
 		basic_machine=i960-intel
 		os=-nindy
 		;;
-	mon960)						# EGCS LOCAL
+	ntox86)
+		basic_machine=i386${os:--unknown}
+		os=-nto-qnx
+		;;
+	ntoppc)
+		basic_machine=ppc${os:--unknown}
+		os=-nto-qnx
+		;;
+	ntoarm)
+                basic_machine=arm${os:--unknown}
+                os=-nto-qnx
+                ;;
+	ntomips)
+                basic_machine=mips${os:--unknown}
+                os=-nto-qnx
+                ;;
+	ntosh)
+                basic_machine=sh${os:--unknown}
+                os=-nto-qnx
+                ;;
+	nto*le | nto*be)
+		basic_machine=${basic_machine%%be}
+		basic_machine=${basic_machine%%le}
+		basic_machine=${basic_machine##nto}${os:--unknown}
+		os=-nto-qnx
+		;;
+	nto*)
+		basic_machine=${basic_machine##nto}${os:--unknown}
+		os=-nto-qnx
+		;;
+	mon960)
 		basic_machine=i960-intel
 		os=-mon960
 		;;
 	np1)
 		basic_machine=np1-gould
 		;;
-	OSE68000 | ose68000)				# EGCS LOCAL
+	op50n-* | op60c-*)
+		basic_machine=hppa1.1-oki
+		os=-proelf
+		;;
+	OSE68000 | ose68000)
 		basic_machine=m68000-ericsson
 		os=-ose
 		;;
-	os68k)						# EGCS LOCAL
+	os68k)
 		basic_machine=m68k-none
 		os=-os68k
 		;;
@@ -677,7 +673,7 @@
 	ps2)
 		basic_machine=i386-ibm
 		;;
-	rom68k)						# EGCS LOCAL
+	rom68k)
 		basic_machine=m68k-rom68k
 		os=-coff
 		;;
@@ -687,7 +683,7 @@
 	rtpc | rtpc-*)
 		basic_machine=romp-ibm
 		;;
-	sa29200)					# EGCS LOCAL
+	sa29200)
 		basic_machine=a29k-amd
 		os=-udi
 		;;
@@ -698,7 +694,7 @@
 		basic_machine=sh-hitachi
 		os=-hms
 		;;
-	sparclite-wrs)					# EGCS LOCAL
+	sparclite-wrs)
 		basic_machine=sparclite-wrs
 		os=-vxworks
 		;;
@@ -709,10 +705,10 @@
 	spur)
 		basic_machine=spur-unknown
 		;;
-	st2000)						# EGCS LOCAL
+	st2000)
 		basic_machine=m68k-tandem
 		;;
-	stratus)					# EGCS LOCAL
+	stratus)
 		basic_machine=i860-stratus
 		os=-sysv4
 		;;
@@ -760,6 +756,10 @@
 		basic_machine=i386-sequent
 		os=-dynix
 		;;
+	t3e)
+		basic_machine=t3e-cray
+		os=-unicos
+		;;
 	tx39)
 		basic_machine=mipstx39-unknown
 		;;
@@ -777,7 +777,7 @@
 		basic_machine=a29k-nyu
 		os=-sym1
 		;;
-	v810 | necv810)					# EGCS LOCAL
+	v810 | necv810)
 		basic_machine=v810-nec
 		os=-none
 		;;
@@ -804,9 +804,13 @@
 		basic_machine=a29k-wrs
 		os=-vxworks
 		;;
-	w65*)						# EGCS LOCAL
- 		basic_machine=w65-wdc
- 		os=-none
+	w65*)
+		basic_machine=w65-wdc
+		os=-none
+		;;
+	w89k-*)
+		basic_machine=hppa1.1-winbond
+		os=-proelf
 		;;
 	xmp)
 		basic_machine=xmp-cray
@@ -815,7 +819,7 @@
         xps | xps100)
 		basic_machine=xps100-honeywell
 		;;
-	z8k-*-coff)					# EGCS LOCAL
+	z8k-*-coff)
 		basic_machine=z8k-unknown
 		os=-sim
 		;;
@@ -826,13 +830,13 @@
 
 # Here we handle the default manufacturer of certain CPU types.  It is in
 # some cases the only manufacturer, in others, it is the most popular.
-	w89k)						# EGCS LOCAL
+	w89k)
 		basic_machine=hppa1.1-winbond
 		;;
-	op50n)						# EGCS LOCAL
+	op50n)
 		basic_machine=hppa1.1-oki
 		;;
-	op60c)						# EGCS LOCAL
+	op60c)
 		basic_machine=hppa1.1-oki
 		;;
 	mips)
@@ -869,16 +873,16 @@
 	orion105)
 		basic_machine=clipper-highlevel
 		;;
-	mac | mpw | mac-mpw)				# EGCS LOCAL
+	mac | mpw | mac-mpw)
 		basic_machine=m68k-apple
 		;;
-	pmac | pmac-mpw)				# EGCS LOCAL
+	pmac | pmac-mpw)
 		basic_machine=powerpc-apple
 		;;
- 	c4x*)
- 		basic_machine=c4x-none
- 		os=-coff
-  		;;
+	c4x*)
+		basic_machine=c4x-none
+		os=-coff
+		;;
 	*)
 		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
 		exit 1
@@ -937,18 +941,28 @@
 	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
 	      | -mingw32* | -linux-gnu* | -uxpv* | -beos* | -mpeix* | -udk* \
-	      | -interix* | -uwin* )
+	      | -interix* | -uwin* | -rhapsody* | -openstep* | -oskit*)
 	# Remember, each alternative MUST END IN *, to match a version number.
 		;;
-	# EGCS LOCAL
+	-qnx*)
+		case $basic_machine in
+			x86-* | i[34567]86-*)
+				;;
+			*)
+				os=-nto$os
+				;;
+		esac
+		;;
+	-nto*)
+		os=-nto-qnx
+		;;
 	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
-	      | -windows* | -osx | -abug |  -netware* | -os9* | -beos* \
-	      | -macos* | -mpw* | -magic* | -mon960* | -lnews* )
+	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
+	      | -macos* | -mpw* | -magic* | -mon960* | -lnews*)
 		;;
 	-mac*)
 		os=`echo $os | sed -e 's|mac|macos|'`
 		;;
-	# END EGCS LOCAL
 	-linux*)
 		os=`echo $os | sed -e 's|linux|linux-gnu|'`
 		;;
@@ -973,7 +987,7 @@
 	-acis*)
 		os=-aos
 		;;
-	-386bsd)					# EGCS LOCAL
+	-386bsd)
 		os=-bsd
 		;;
 	-ctix* | -uts*)
@@ -1007,15 +1021,18 @@
 	# This must come after -sysvr4.
 	-sysv*)
 		;;
-	-ose*)						# EGCS LOCAL
+	-ose*)
 		os=-ose
 		;;
-	-es1800*)					# EGCS LOCAL
+	-es1800*)
 		os=-ose
 		;;
 	-xenix)
 		os=-xenix
 		;;
+        -*mint | -*MiNT)
+	        os=-mint
+		;;
 	-none)
 		;;
 	*)
@@ -1065,15 +1082,15 @@
 		# default.
 		# os=-sunos4
 		;;
-	m68*-cisco)					# EGCS LOCAL
+	m68*-cisco)
 		os=-aout
 		;;
-	mips*-cisco)					# EGCS LOCAL
+	mips*-cisco)
+		os=-elf
+		;;
+	mips*-*)
 		os=-elf
 		;;
-        mips*-*)                                        # EGCS LOCAL
-                os=-elf
-                ;;
 	*-tti)	# must be before sparc entry or we get the wrong os.
 		os=-sysv3
 		;;
@@ -1086,13 +1103,13 @@
 	*-ibm)
 		os=-aix
 		;;
-	*-wec)						# EGCS LOCAL
+	*-wec)
 		os=-proelf
 		;;
-	*-winbond)					# EGCS LOCAL
+	*-winbond)
 		os=-proelf
 		;;
-	*-oki)						# EGCS LOCAL
+	*-oki)
 		os=-proelf
 		;;
 	*-hp)
@@ -1158,15 +1175,18 @@
 	f301-fujitsu)
 		os=-uxpv
 		;;
-	*-rom68k)					# EGCS LOCAL
+	*-rom68k)
 		os=-coff
 		;;
-	*-*bug)						# EGCS LOCAL
+	*-*bug)
 		os=-coff
 		;;
-	*-apple)					# EGCS LOCAL
+	*-apple)
 		os=-macos
 		;;
+	*-atari*)
+		os=-mint
+		;;
 	*)
 		os=-none
 		;;
@@ -1224,12 +1244,15 @@
 			-aux*)
 				vendor=apple
 				;;
-			-hms*)				# EGCS LOCAL
+			-hms*)
 				vendor=hitachi
 				;;
-			-mpw* | -macos*)		# EGCS LOCAL
+			-mpw* | -macos*)
 				vendor=apple
 				;;
+			-*mint | -*MiNT)
+				vendor=atari
+				;;
 		esac
 		basic_machine=`echo $basic_machine | sed "s/unknown/$vendor/"`
 		;;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/configure gcc/configure
--- gcc-2.95.2/configure	1999-04-03 00:17:40.000000000 +1000
+++ gcc/configure	2001-03-01 04:54:50.000000000 +1000
@@ -86,7 +86,7 @@
 target_alias=NOTARGET
 target_makefile_frag=
 undefs=NOUNDEFS
-version="$Revision: 1.22 $"
+version="$Revision: 1.1.1.1 $"
 x11=default
 bindir='${exec_prefix}/bin'
 sbindir='${exec_prefix}/sbin'
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/cccp.c gcc/gcc/cccp.c
--- gcc-2.95.2/gcc/cccp.c	1999-06-02 03:10:01.000000000 +1000
+++ gcc/gcc/cccp.c	2001-03-01 05:24:37.000000000 +1000
@@ -1227,6 +1227,9 @@
   /* Target-name to write with the dependency information.  */
   char *deps_target = 0;
 
+#ifdef __QNXNTO__
+  munlockall(); /* allow for some swapping of memory */
+#endif
 #if defined (RLIMIT_STACK) && defined (HAVE_GETRLIMIT) && defined (HAVE_SETRLIMIT)
   /* Get rid of any avoidable limit on stack size.  */
   {
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/ChangeLog.lib gcc/gcc/ChangeLog.lib
--- gcc-2.95.2/gcc/ChangeLog.lib	1998-12-17 06:52:47.000000000 +1000
+++ gcc/gcc/ChangeLog.lib	1970-01-01 10:00:00.000000000 +1000
@@ -1,3781 +0,0 @@
-Wed Jan  1 17:54:47 1998  J.J. van der Heijden <J.J.vanderHeijden@student.utwente.nl>
-
-        * pexecute.c (pexecute, [_WIN32]): Yes, mask termstat for mingw32.
-
-Mon Dec 22 18:59:34 1997  Pascal Obry  <pascal.obry@der.edfgdf.fr>
-
-	* pexecute.c (pexecute, [_WIN32]): For mingw32, don't mask termstat.
-
-Sat Dec 13 09:39:32 1997  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* pexecute.c (fix_argv): Remove outer "const" from return type.
-	(pexecute): errmsg_arg is pointer to const.
-
-Sat Nov 29 08:06:34 1997  Jan-Jaap van der Heijden  <janjaap@student.utwente.nl>
-
-	* pexecute.c: Include signal.h for _WIN32.
-
-Wed Nov 26 17:31:44 1997  J.J. van der Heijden <J.J.vanderHeijden@student.utwente.nl>
-
-	* pexecute.c (pwait): For _WIN32, distinguish whether child process
-	caught fatal signal or reported nonzero exit code.
-
-Wed Nov 26 13:24:30 1997  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* choose-temp.c (sys/file.h): Include if HAVE_SYS_FILE_H.
-
-Mon Nov 17 09:07:52 1997  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* choose-temp.c (choose_temp_base): Remove incorrect code for VMS.
-
-Sun Oct 19 10:34:11 1997  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* pexecute.c (fix_argv, pexecute): Cast result of xmalloc.
-
-Sat Oct 18 16:55:18 1997  Jason Merrill  <jason@yorick.cygnus.com>
-
-	* obstack.h (obstack_empty_p): New macro.
-
-Mon Sep 29 12:27:59 1997  Ian Lance Taylor  <ian@cygnus.com>
-
-	* pexecute.c: Use spawn if __CYGWIN32__.
-
-Wed Sep 10 15:14:20 1997  Jeffrey A Law  (law@cygnus.com)
-
-	* config.sub: Use "amigaos" instread of "amigados".  Still
-	recognize "amigados" for backward compatability.
-
-Tue Sep  9 18:23:57 1997  Doug Evans  <dje@cygnus.com>
-
-	* config.sub: Recognize ARC cpu.
-
-1997-09-09  Richard Kenner  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* config.guess (alpha): Replace CPU-determining program with one
-	that's more precise and also supports pca56 and ev6.
-	Handle those in returned name.
-
-1997-09-08  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* config.guess (alpha:OSF1:*:*): For V4.0, get the letter suffix.
-
-1997-09-05  Jeffrey A Law  (law@cygnus.com)
-
-	* config.sub: Recognize v850-elf.
-
-1997-08-26  Richard Henderson  <rth@cygnus.com>
-
-	* config.guess (*:Linux:*:*): Recognize alpha-linux-gnulibc1.
-
-1997-08-17  Jeff Law  <law@cygnus.com>
-
-	* config.sub: Recognize tx39/r3900.
-
-1997-08-08  Paul Eggert  <eggert@twinsun.com>
-
-	* choose-temp.c, pexecute.c:
- 	Include "config.h" first, as per autoconf manual.
-
-1997-08-01  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* config.sub: Translate -svr4 to -sysv4 and -unixware to -sysv4.2uw.
-
-1997-07-26  Per Bothner  <bothner@pogo.gnu.ai.mit.edu>
-
-	* config.guess:  Recognize SunOS 3.x.
-	From Tom Schmidt <tschmidt@micron.com>.
-
-1997-07-22  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* getloadavg.c: Test `__unix' along with `unix'.
-
-Sun Jul 20 20:58:43 1997  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* config.guess (alpha*): Run program to see if ev4, ev5, or ev56.
-	* config.sub (alphaev5, alphaev56): New CPU types.
-
-Wed Jul 16 10:46:14 1997  Richard Earnshaw <rearnsha@cambridge.arm.com>
-
-	* config.guess (arm32:NetBSD:*:*): Canonicalize to normal format
-	for ARM systems.
-
-Tue Jul 15 09:13:05 1997  Jim Meyering  <meyering@psilocin.gnu.ai.mit.edu>
-
-	* getloadavg.c: Add comment describing HAVE_PSTAT_GETDYNAMIC.
-	
-1997-07-14  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* config.guess (pc:*:*:*): New entry, for DJGPP.
-
-1997-07-07  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* config.guess (i?86:UNIX_SV:4.2MP:2.*): Recognize unixware.
-
-1997-07-06  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* getloadavg.c [OSF_ALPHA]:
-	Include sys/mbuf.h, sys/socket.h, net/route.h.
-
-1997-06-30  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* getloadavg.c [__GNU__]: Test for not NeXT.
-
-Fri Jun 27 15:20:29 1997  Scott Christley <scottc@net-community.com>
-
-	* config.sub (-mingw32*): New OS.
-	* config.guess (i*:MINGW*:*): New case.
-	* pexecute.c (fix_argv): New function.
-	(pexecute): Win32 but not Cygwin32 needs its arguments fixed.
-	Add underscore to cwait function call.
-
-Mon Jun 23 10:51:53 1997  Jeffrey A Law  (law@cygnus.com)
-
-	* config.sub (mn10200): Recognize new basic machine.
-
-1997-06-22  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* config.guess: Add mips-sony-newsos6.
-
-1997-06-09  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* config.guess: Use i?86, not i.86.
-	Don't test /usr/lib/ldscripts; instead, test whether ld_help_string
-	does not contain "supported emulations".
-	Use a case statement to distinguish systems when there IS
-	"supported emulations".
-
-1997-06-07  H.J. Lu  (hjl@gnu.ai.mit.edu)
-
-	* config.guess (*:Linux:*:*): Always use ${VENDOR}.
-
-1997-06-05  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>
-
-	* config.guess (*:Linux:*:*): Don't test for elf_i.86 or m68kelf.
-	
-	* config.guess (*:Linux:*:*): Recognize sparclinux.
-	Don't recognize UNAME_MACHINE = sparc.
-	Make the sample program check for libc version
-	and handle various machine types.
-
-	* config.sub (mipsel*-linux* and mips*-linux*):
-	Set `os' to -linux-gnu directly, don't go via -linux.
-
-Mon May 26 12:46:25 1997  Paul Eggert  <eggert@twinsun.com>
-
-	* getopt.c, getopt.h, getopt1.c: Moved to libc-copy/copies.
-
-Wed May  7 15:17:59 1997  Thomas Bushnell, n/BSG  <thomas@gnu.ai.mit.edu>
-
-	* config.guess: Recognize either / or - as a machine/suptype
-	separator from uname -m to cope with older systems that have the
-	older uname.  Suggested by Michael Snyder (msnyder@cygnus.com).
-
-Mon May  5 18:05:35 1997  Per Bothner  <bothner@frobnitz.gnu.ai.mit.edu>
-
-	* config.guess: CLIX patch from Thomas Dickey via
-	urs@akk.uni-karlsruhe.de (Urs Janssen).
-	
-Thu Apr 17 13:59:13 1997  Per Fogelstrom  <pefo@openbsd.org>
-
-	* config.guess: Fixes for MIPS OpenBSD systems.
-
-Fri Apr 11 16:39:06 1997  Niklas Hallqvist  <niklas@appli.se>
-
-	* config.guess: Recognize OpenBSD systems correctly.
-
-Mon Mar 24 15:38:37 1997  Doug Evans  <dje@cygnus.com>
-
-	* config.sub: Recognize m32r and mn10300 cpus.
-
-Sat Feb 22 22:36:44 1997  Miles Bader  <miles@gnu.ai.mit.edu>
-
-	* getloadavg.c [__GNU__] (NeXT, host_self): New macros, to make
-	hurd systems use the NeXT code for getting load averages.
-
-Sat Feb 15 19:03:48 1997  Geoffrey Noer  (noer@cygnus.com)
-
-	* pexecute.c: Remove special cases for cygwin32.
-	(pwait): Remove local definition of `pid'.
-
-Wed Jan 15 22:36:59 1997  Jim Meyering  <meyering@kropotkin.gnu.ai.mit.edu>
-
-	* getloadavg.c [hpux && HAVE_PSTAT_GETDYNAMIC]: Use HPUX's
-	pstat_getdynamic function so we don't need any special privileges
-	to determine load averages.  Patch from Kaveh Ghazi, based on a
-	sample implementation from Richard J. Rauenzahn.
-	Indent cpp-directives to reflect nesting.
-
-Tue Jan  7 14:29:37 1997  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
-
-	* config.guess: Add hppa1.1-hitachi-hiuxmpp support, passed along
- 	by rms.
-
-Sat Jan  4 22:43:21 1997  Miles Bader  <miles@gnu.ai.mit.edu>
-
-	* config.guess (*:GNU:*:*): The machine/subtype separator printed
-	by uname -m is now `-', not '/'.
-
-Fri Jan  3 08:38:49 1997  Philippe De Muyter  (phdm@info.ucl.ac.be)
-
-	* config.guess (M68*:*:R3V[567]*:*): Use uppercase 'M'.
-
-Tue Dec 31 15:51:13 1996  Ian Lance Taylor  <ian@cygnus.com>
-
-	* config.guess, config.sub: Recognize mips-unknown-linux-gnu.
-
-Tue Dec 10 09:44:57 1996  Paul Eggert  <eggert@twinsun.com>
-
-	* choose-temp.c (choose_temp_base): Don't dump core if TMPDIR is empty.
-
-	* choose-temp.c (try): Insist that temp dir be searchable.
-
-Sat Dec  7 17:48:02 1996  Dave Love  <d.love@dl.ac.uk>
-
-	* config.guess (PENTIUM:CPunix:4.0*:*): New case.
-
-Sun Nov 24 19:41:31 1996  Per Bothner  <bothner@frobnitz.gnu.ai.mit.edu>
-
-	* config.guess:  Recognize machten.
-	From Eric W. Bates <ericx@vineyard.net>.
-
-Sun Nov 24 18:17:53 1996  Dave Love  <d.love@dl.ac.uk>
-
-	* config.guess (PENTIUM:CPunix:4.0*:*): New case.
-
-Fri Nov 22 11:44:13 1996  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
-
-	* config.guess: Undo accidental lowercasing in
-	m68k-motorola-sysv regexp.
-
-Wed Nov 20 16:27:37 1996  David J. MacKenzie  <djm@churchy.gnu.ai.mit.edu>
-
-	* config.guess, config.sub: Additions for the Fujitsu UXP/V.
-	From joda@pdc.kth.se (Johan Danielsson).
-	
-Tue Nov 19 13:34:12 1996  David J. MacKenzie  <djm@churchy.gnu.ai.mit.edu>
-
-	* getpagesize.h: If no sys/param.h, default to 8k.
-	Indent for readability.
-
-Wed Nov 13 14:59:46 1996  Per Bothner  <bothner@deneb.cygnus.com>
-
-	* config.guess:  Patch for Dansk Data Elektronik servers,
-	from Niels Skou Olsen <nso@dde.dk>.
-
-	For ncr, use /bin/uname rather than uname, since GNU uname does not
-	support -p.  Suggested by Mark Mitchell <mmitchell@usa.net>.
-
-	Patch for MIPS R4000 running System V,
-	from Eric S. Raymond <esr@snark.thyrsus.com>.
-
-	Fix thinko for nextstep.
-
-	Patch for OSF1 in i?86, from Dan Murphy <dlm@osf.org> via Harlan Stenn.
-
-	Sat Jun 24 18:58:17 1995  Morten Welinder  <terra+@cs.cmu.edu>
-	* config.guess: Guess mips-dec-mach_bsd4.3.
-
-	Thu Oct 10 04:07:04 1996  Harlan Stenn <harlan@pfcs.com>
-	* config.guess (i?86-ncr-sysv*):  Emit just enough of the minor
-	release numbers.
-	* config.guess (mips-mips-riscos*):  Emit just enough of the
-	release number.
-
-	Tue Oct  8 10:37:22 1996  Frank Vance <fvance@waii.com>
-	* config.guess (sparc-auspex-sunos*):  Added.
-	(f300-fujitsu-*): Added.
-
-	Wed Sep 25 22:00:35 1996  Jeff Woolsey <woolsey@jlw.com>
-	* config.guess:  Recognize a Tadpole as a sparc.
-
-Wed Nov 13 00:53:09 1996  David J. MacKenzie  <djm@churchy.gnu.ai.mit.edu>
-
-	* config.guess: Don't assume that NextStep version is either 2 or
-	3.  NextStep 4 (aka OpenStep 4) has come out now.
-
-Tue Nov 12 18:26:15 1996  Doug Rupp  (rupp@gnat.com)
-
-	* pexecute.c (vfork): Supply new definition for VMS.
-	(pwait): Use waitpid instead of wait for VMS.
-
-Mon Nov 11 23:52:03 1996  David J. MacKenzie  <djm@churchy.gnu.ai.mit.edu>
-
-	* config.guess: Support Cray T90 that reports itself as "CRAY TS".
-	From Rik Faith <faith@cs.unc.edu>.
-
-Fri Nov  8 11:34:58 1996  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
-
-	* config.sub: Contributions from bug-gnu-utils to:
-	Support plain "hppa" (no version given) architecture, reported by
-	OpenStep.
-	OpenBSD like NetBSD.
-	LynxOs is not a hardware supplier.
-
-	* config.guess: Contributions from bug-gnu-utils to add support for:
- 	OpenBSD like NetBSD.
-	Stratus systems.
-	More Pyramid systems.
-	i[n>4]86 Intel chips.
-	M680[n>4]0 Motorola chips.
-	Use unknown instead of lynx for hardware manufacturer.
-
-Mon Oct 28 17:15:52 1996  Christian Limpach  <chris@nice.ch>
-
-	* config.sub: Recognize hppa-next as a valid CPU-COMPANY combination.
-
-Wed Oct 23 17:36:39 1996  Doug Rupp  (rupp@gnat.com)
-
-	* choose-temp.c (choose_temp_base): On VMS, use proper syntax
-	for current directory.
-
-Wed Oct  9 23:30:18 1996  Jim Meyering  <meyering@wombat.gnu.ai.mit.edu>
-
-	* getloadavg.c: [__hpux]: Define hpux.  From Eric Backus.
-	[__sun]: Define sun.  Reported by Kaveh Ghazi.
-
-Mon Sep 23 22:45:15 1996  Sean McNeil  <sean@mcneil.com>
-
-	* config.sub (-vxsim*): New operating system.
-
-	1996-09-12  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>
-
-	* config.guess: Use pc instead of unknown, for pc clone systems.
-	Change linux to linux-gnu.
-
-Thu Sep 12 20:12:26 1996  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>
-
-	* config.sub: Use pc instead of unknown, for pc clones.
-	Use -linux-gnu for Linux-based GNU systems.
-
-1996-09-04  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>
-
-	* getloadavg.c (getloadavg): Add new code for SUNOS_5 to use -lkstat.
-
-Sat Aug 17 15:23:39 1996  Geoffrey Noer  <noer@cygnus.com>
-
-	* choose-temp.c: Delete !defined(_WIN32) condition when including
-	sys/file.h (NO_SYS_FILE_H is still used).
-	* getopt.c: Change win32 test from WIN32 to _WIN32.
-	* pexecute.c: Update test for win32 (&& ! cygwin32).
-
-Mon Jul 15 23:51:11 1996  Karl Heuer  <kwzh@gnu.ai.mit.edu>
-
-	* config.guess: Avoid non-portable tr syntax.
-
-Mon Jul 15 11:53:00 1996  Jeffrey A Law  (law@cygnus.com)
-
-	* config.guess (HP 9000/811): Recognize this as a PA1.1
-	machine.
-
-Thu Jul 11 17:02:23 1996  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
-
-	* install-sh: Add MIT copyright notice.  From gordoni@cygnus.com.
-
-Sun Jul  7 13:27:04 1996  Joel Sherrill  <joel@merlin.gcs.redstone.army.mil>
-
-	* config.sub: Recognize rtems as an o/s.
-
-Tue Jul  2 16:45:02 1996  Torbjorn Granlund  <tege@spiff.gnu.ai.mit.edu>
-
-	* config.guess: Generalize C90 alternative to all x90 machines.
-
-Fri Jun 28 13:29:05 1996  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
-
-	* config.guess (mips:*:*:UMIPS): Fix typo in last change.
-
-Tue Jun 25 22:43:48 1996  Doug Evans  <dje@cygnus.com>
-
-        * pexecute.c (PEXECUTE_VERBOSE): Define.
-	(MPW pexecute): Check flags & PEXECUTE_VERBOSE instead of verbose_flag.
-
-Mon Jun 24 14:32:22 1996  Jim Wilson  <wilson@cygnus.com>
-
-	* getopt.c (getpid): Don't redefine it if __CYGWIN32__ is defined.
-
-Thu Jun 20 12:20:33 1996  Michael Meissner  <meissner@tiktok.cygnus.com>
-
-	* config.guess (*:Linux:*:*): Add support for PowerPC Linux.
-
-Mon Jun 10 16:10:57 1996  Doug Evans  <dje@cygnus.com>
-
-	* pexecute.c: New file.
-
-Fri Jun  7 18:16:52 1996  Harlan Stenn <harlan@pfcs.com>
-
-	* config.guess (i?86-ncr-sysv*):  Emit minor release numbers.
-	Recognize the NCR 4850 machine and NCR Pentium-based platforms.
-
-Wed Jun  5 00:09:17 1996  Per Bothner  <bothner@wombat.gnu.ai.mit.edu>
-
-	* config.guess:  Combine mips-mips-riscos cases, and use cpp to
-	distinguish sysv/svr4/bsd variants.
-	Based on a patch from Harlan Stenn <harlan@pfcs.com>.
-
-Mon Jun  3 08:49:14 1996  Karl Heuer  <kwzh@gnu.ai.mit.edu>
-
-	* config.guess (*:Linux:*:*): Add guess for sparc-unknown-linux.
-
-Mon May 27 20:16:42 1996  Karl Heuer  <kwzh@gnu.ai.mit.edu>
-
-	* getloadavg.c [SOLARIS2]: Define SUNOS_5.
-
-Fri May 24 18:34:53 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>
-
-	* config.guess (AViiON:dgux:*:*): Fix typo in recognizing mc88110.
-
-Wed May 22 17:20:59 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>
-
-	* getloadavg.c [WIN32]: No-op as for [MSDOS].
-
-	* getopt.c [WIN32] (getpid): Define using GetCurrentProcessId.
-
-	* getopt.c [VMS]: Include unixlib.h, string.h.
-
-Tue May 21 18:55:59 1996  Roland McGrath  <roland@delasyd.gnu.ai.mit.edu>
-
-	* config.sub: Restore `hp9k2[0-9][0-9] | hp9k31[0-9])' case line
- 	apparently accidentally removed in the last change.
-
-Mon May 20 11:58:15 1996  Jeffrey A. Law  <law@cygnus.com>
-
-	* config.sub: Recognize -proelf as a basic system type.
-
-Fri May  3 02:35:56 1996  Noah Friedman  <friedman@prep.ai.mit.edu>
-
-        * mkinstalldirs: Don't report an error if mkdir fails because
-        a directory was created by another process.
-
-Sun Apr 21 09:50:09 1996  Stephen L Moshier  (moshier@world.std.com)
-
-	* choose-temp.c: Include sys/types.h before sys/file.h for sco3.2v5.
-
-Tue Apr  9 14:37:31 1996  Ulrich Drepper  <drepper@cygnus.com>
-
-	* obstack.h [__STDC__] (obstack_init, obstack_begin,
- 	obstack_specify_allocation, obstack_specify_allocation_with_arg,
- 	obstack_chunkfun, obstack_freefun): Duplicate definition with complete
- 	type cast.
-
-Wed Apr 17 14:28:43 1996  Doug Evans  <dje@cygnus.com>
-
-	* choose-temp.c: Don't include sys/file.h ifdef NO_SYS_FILE_H.
-	#include <stdio.h>.
-	(choose_temp_base): Make tmp,usrtmp, static locals.
-
-Mon Apr 15 14:08:12 1996  Doug Evans  <dje@canuck.cygnus.com>
-
-	* choose-temp.c: New file.
-
-Fri Apr 12 20:03:59 1996  Per Bothner  <bothner@spiff.gnu.ai.mit.edu>
-
-	* config.guess:  Combine two OSF1 rules.
-	Also recognize field test versions.  From mjr@zk3.dec.com.
-
-	* config.guess (dgux):  Use /usr/bin/uname rather than uname,
-	because GNU uname does not support -p.  From pmr@pajato.com.
-
-Mon Apr  8 16:16:20 1996  Michael Meissner  <meissner@tiktok.cygnus.com>
-
-	* config.guess (prep*:SunOS:5.*:*): Turn into
-	powerpele-unknown-solaris2.
-
-Thu Mar 28 02:06:03 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>
-
-	* error.c (_): New macro, define iff undefined.
-	(private_strerror): Use it for message string.
-	(error_at_line): New function.
-	(error_one_per_line): New variable.
-	* error.h (error_at_line, error_one_per_line): Declare them.
-
-Thu Mar 21 14:42:26 1996  Doug Evans  <dje@cygnus.com>
-
-	* config.sub (os): sunos[3456] -> sunos[34],
-	sunos[56] have their own entries.
-
-Wed Mar 20 09:59:30 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>
-
-	* signame.c [HAVE_STRING_H]: Include string.h.
-
-Tue Mar 19 20:07:39 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>
-
-	* alloca.c (NULL): Define only if not already defined.
-
-	* alloca.c [HAVE_STRING_H]: Include string.h.
-	[HAVE_STDLIB_H]: Include stdlib.h.
-
-Thu Mar 14 19:12:52 1996  Ian Lance Taylor  <ian@cygnus.com>
-
-	* config.guess: Recognize mips-*-sysv*, with a specific case for
-	NEC (which has its own compiler and libraries).
-
-Sat Mar  9 23:52:33 1996  Jim Meyering  (meyering@na-net.ornl.gov)
-
-	* getdate.y (RelativeMonth): Add 1900 to the year so that relative
-	date specs that push the year through the end of the century work.
-	For example, `date -d "01/01/1998 3 years" +%Y' now prints 2001.
-	From Peter Dalgaard (pd@kubism.ku.dk).
-
-Tue Mar  5 18:43:43 1996  Richard Henderson  <rth@tamu.edu>
-
-	* config.sub: Add -apple and -aux.
-
-Tue Mar  5 03:02:53 1996  Erik Naggum  <erik@naggum.no>
-
-	* config.sub (moss): Fix previous change.
-
-Mon Mar  4 18:03:38 1996  Bryan Ford  (baford@cs.utah.edu)
-
-	* config.sub: Accept -moss* as op sys.
-
-Fri Mar  1 09:57:54 1996  Roland McGrath  <roland@charlie-brown.gnu.ai.mit.edu>
-
-	* config.sub: Recognize cpu-vendor [ctj]90-cray, default
-	c90-cray-unicos.  From tege.
-
-Wed Feb 28 19:55:05 1996  Miles Bader  <miles@gnu.ai.mit.edu>
-
-	* getopt.c (_getopt_internal): Always set OPTOPT to *something* if
-	returning '?', so it can be distinguished from an option.
-
-Thu Feb 22 15:51:09 1996  Karl Heuer  <kwzh@gnu.ai.mit.edu>
-
-	* getdate.y (Convert): Accept dates beyond 1999.
-
-Tue Feb 13 13:20:32 1996  Miles Bader  <miles@gnu.ai.mit.edu>
-
-	* getopt.c (_getopt_internal): Give FIRST_NONOPT & LAST_NONOPT
- 	 rational values if OPTIND has been moved back by the user.
-
-Mon Feb 12 18:23:35 1996  Doug Evans  <dje@cygnus.com>
-
-	* config.sub: Recognize sparclet cpu.
-	
-Sun Feb 11 18:40:11 1996  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* config.sub: Fix typo in previous change.
-
-Sat Feb 10 08:28:12 1996  Martin Anantharaman  <martin@goofy.imech.uni-duisburg.de>
-
-	* config.sub (-psos*): New case.
-	
-Thu Feb  8 15:37:52 1996  Brendan Kehoe  <brendan@lisa.cygnus.com>
-
-	* config.guess (UNAME_VERSION): Recognize X4.x as an OSF version.
-
-Sun Feb  4 16:51:11 1996  Steve Chamberlain  <sac@slash.cygnus.com>
-
-	* config.guess (*:CYGWIN*): New
-
-Mon Feb 12 15:33:59 1996  Christian Bauernfeind <chrisbfd@theorie3.physik.uni-erlangen.de>
-
-	* config.guess:  Support m68k-cbm-sysv4.
-
-Sat Feb 10 12:06:42 1996  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>
-
-	* config.guess (*:Linux:*:*): Guess m68k-unknown-linux and
-	m68k-unknown-linuxaout from linker help string.  Put quotes around
-	$ld_help_string.
-
-Wed Feb  7 15:31:09 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getopt.c [__GNU_LIBRARY__]: Include <unistd.h>.
-
-	* getopt.c (nonoption_flags, nonoption_flags_len): New variables.
-	(_getopt_initialize): If not POSIXLY_CORRECT, check for special
-	environment variable from Bash 2.0 and set those vars from it.
-	(_getopt_internal): Do not consider as options argv elts whose
-	nonoption_flags elt from the shell is '1'.
-
-Thu Feb  1 09:10:02 1996  Steve Chamberlain  <sac@slash.cygnus.com>
-
-	* config.sub (-cygwin32): New.
-	
-Wed Jan 31 14:13:25 1996  Richard Henderson  <rth@tamu.edu>
-
-	* config.sub: Add support for A/UX.
-	* config.guess: Recognize A/UX.
-
-Tue Jan 23 13:15:50 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* obstack.h [__STDC__] (struct obstack, _obstack_begin,
-	_obstack_begin_1): Use prototypes in function decls.
-	* obstack.c (CALL_CHUNKFUN, CALL_FREEFUN): Cast function type for
-	call w/o extra_arg.
-
-	* error.c (error_print_progname) [__STDC__]: Declare with
-	prototype.
-	[_LIBC]: Include errno.h to declare program_invocation_name.
-
-	* getopt.c [__STDC__] (exchange, _getopt_initialize): Declare
-	prototypes for these.
-
-Mon Jan 22 08:53:45 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* xmalloc.c [__STDC__] (fixup_null_alloc): Declare prototype.
-
-Sun Jan 21 01:08:09 1996  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* error.h: Declare error_print_progname.  Add comments.
-
-Wed Jan 17 17:39:51 1996  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* config.sub: Default OS to nextstep if machine vendor is Next.
-	-ns2 is an alias for -nextstep.
-
-Wed Jan 17 09:51:58 1996  Doug Evans  <dje@cygnus.com>
-
-	* config.sub: Recognize go32* as an os.
-
-Sun Jan  7 02:00:27 1996  Karl Heuer  <kwzh@gnu.ai.mit.edu>
-
-	* alloca.c (alloca): If malloc fails, just abort.
-
-Mon Jan 15 20:59:49 1996  J. Kean Johnston  <hug@netcom.com>
-
-	* config.sub (sco5): New case.
-	
-Tue Dec 19 15:56:15 1995  Eli Zaretskii  <eliz@is.elta.co.il>
-
-	* getloadavg.c (getloadavg) [MSDOS]: Return 0 load instead of
-	failing the call.
-
-Fri Dec 15 22:34:08 1995  Stan Coxs  <coxs@dg-rtp.dg.com>
-
-	* config.guess (AViiON): Add ix86-dg-dgux
-	* config.sub (i*86*) Change [345] to [3456]
-
-Thu Dec  7 09:03:24 1995  Tom Horsley  <Tom.Horsley@mail.hcsc.com>
-
-	* config.guess (powerpc-harris-powerunix): Add guess for port
-	to new target.
-
-Wed Dec  6 09:44:53 1995  Paul Eggert  <eggert@twinsun.com>
-
-	* install-sh (transformbasename): Fix misspelling in initialization.
-
-Wed Dec  6 06:58:23 1995  Richard Earnshaw (rearnsha@armltd.co.uk)
-
-	* config.sub: Recognize aof in the OS field.
-
-Tue Dec  5 18:36:41 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* error.c [_LIBC]: Adapt for use in GNU libc.
-
-Mon Dec  4 13:21:51 1995  Jeffrey A. Law  <law@mole.gnu.ai.mit.edu>
-
-	* config.guess: Recognize HP model 816 machines as having
-	a PA1.1 processor.
-
-Thu Nov 30 16:57:33 1995  Per Bothner  <bothner@wombat.gnu.ai.mit.edu>
-
-	* config.guess:  Recognize Pentium under SCO.
-	From Robert Lipe <robertl@arnet.com>.
-
-Tue Nov 21 16:59:12 1995  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* getdate.y: If config.h defines FORCE_ALLOCA_H, include alloca.h.
-
-Mon Oct 16 11:34:00 1995  Jeffrey A. Law  <law@mole.gnu.ai.mit.edu>
-
-	* config.guess: Recognize HP model 819 machines as having
-	a PA 1.1 processor.
-
-Sat Sep 30 14:03:17 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getopt.c (_): New macro, define if not already defined.
-	(gettext): Never define as a macro.
-	(_getopt_internal): Use ``_("message")'' instead of
-	`gettext ("message")''.
-
-Mon Aug 14 19:27:56 1995  Per Bothner  <bothner@kalessin.cygnus.com>
-
-	* config.guess (*Linux*):  Add missing "exit"s.
-	Also, need specific check for alpha-unknown-linux (uses COFF).
-
-Fri Jul 28 00:16:31 1995  Jeffrey A. Law  <law@rtl.cygnus.com>
-
-	* config.guess: Recognize lynx-2.3.
-
-Thu Jul 27 13:31:05 1995  Fred Fish  (fnf@cygnus.com)
-
-	* config.guess (*:Linux:*:*): First try asking the linker what the
-	default object file format is (elf, aout, or coff).  Then if this
-	fails, try previous methods.
-
-Mon Aug  7 16:48:13 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c [ps2]: Use nlist instead of knlist #ifdef _AIX.
-
-Fri Aug  4 10:27:54 1995  Jim Meyering  (meyering@comco.com)
-
-	* getopt.c (_getopt_internal) [lint]: Initialize INDFOUND to
-	avoid warning from gcc.
-
-Tue Aug  1 14:29:43 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c (getloadavg): Set FD_CLOEXEC flag on /dev/kmem file
- 	descriptor.
-
-Wed Jul 26 00:26:34 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
-
-	* mkinstalldirs: Remove weird unnecessary shell construction.
-
-Wed Jun 28 17:57:27 1995  David Edelsohn  <edelsohn@mhpcc.edu>
-
-	* config.guess (AIX4): More robust release numbering discovery.
-
-Thu Jun 22 19:01:24 1995  Kenneth Stailey  (kstailey@eagle.dol-esa.gov)
-
-	* config.guess (i386-sequent-ptx): Properly get version number.
-
-Thu Jun 22 18:36:42 1995  Uwe Seimet  (seimet@iris1.chemie.uni-kl.de)
-
-	* config.guess (mips:*:4*:UMIPS): New case.
-
-Tue Jun 20 02:41:41 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c [convex] (LOAD_AVE_TYPE, LDAV_CVT): Define to
- 	double, no conversion.
-
-	* obstack.c (OBSTACK_INTERFACE_VERSION): New macro.  Rewrote
- 	conditionals to use that macro to ensure that the installed GNU
- 	libc supports the interface the obstack.h corresponding to this
- 	obstack.c needs, and only then elide the code in this file.
-
-Sun May 28 18:53:29 1995  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)
-
-	* config.guess (21064:Windows_NT:50:3): New case.
-
-Fri May 19 16:52:50 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* error.c (error_message_count): New variable.
-	(error): Increment it.
-	* error.h: Declare error_message_count.
-
-Mon May 15 17:47:55 1995  Per Bothner  (bothner@spiff.gnu.ai.mit.edu)
-
-	* config.guess:  Recognize Cray90 (from Pete TerMaat).
-
-Thu May 11 17:13:14 1995  Per Bothner  (bothner@wombat.gnu.ai.mit.edu)
-
-	* config.guess:  Recognize PCs running Solaris2.
-	(Patch from Bruno Haible <haible@ma2s2.mathematik.uni-karlsruhe.de>.)
-	* config.guess:  Merge two CRAY*Y-MP entries.
-	Ignore system field for Cray xmp and cray2 since "uname -s" on
-	a Cray gets you the hostname, which is useless.
-	(According to Pete TerMaat <pete@guava.cray.com>.)
-
-Wed May 10 11:03:56 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c: AIX support from Tim Bell <tbel@afsmail.cern.ch>:
-	[_AIX] (LOAD_AVE_TYPE, FSCALE, NLIST_STRUCT): Define these for AIX.
-	(getloadavg) [_AIX]: Use `knlist' instead of `nlist'.
-
-Fri May  5 05:50:56 1995  Allen Briggs  (briggs@puma.bevd.blacksburg.va.us)
-
-	* config.guess: Add more NetBSD cases: atari, sun3*, and mac68k.
-
-Wed May  3 16:22:31 1995  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* crt0.c: Add APOLLO alternative.
-
-Sat Apr 29 15:48:03 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* signame.c: Move include of config.h before all others.
-
-Thu Apr 27 11:33:29 1995  Michael Meissner  (meissner@cygnus.com)
-
-	* config.guess (*:Linux:*:*): Check for whether the pre-BFD linker is
-	installed, and if so return linuxoldld as the system name.
-
-Thu Apr 27 13:11:11 1995  Jim Meyering  (meyering@comco.com)
-
-	* error.h: Use __-protected versions of `format' and `printf'
-	attributes only with gcc-2.7 and later.
-
-Thu Apr 27 09:22:33 1995  Peder Chr. Norgaard <pcn@tbit.dk>
-
-        * config.guess (i[34]86:*:3.2:*) test for /usr/options/cb.name
-	before calling uname.
-
-Wed Apr 26 17:19:34 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* signame.c [HAVE_UNISTD_H]: Include unistd.h so it can declare
- 	sys_siglist.
-
-Wed Apr 26 14:00:00 1995  Michael Meissner  (meissner@cygnus.com)
-
-	* config.guess (*:Linux:*:*): Determine whether the default compiler is
-	a.out or ELF based.
-	(parisc*:Lites*:*:*): New entry from Jeff Law.
-
-Wed Apr 26 11:48:21 1995  Jim Meyering  (meyering@comco.com)
-
-	* error.h: New file.
-
-Wed Apr 26 10:27:50 1995  Travis L Priest  (T.L.Priest@larc.nasa.gov)
-
-	* config.guess (CRAY*Y-MP:*:*:*): New entry.
-
-Wed Apr 26 12:54:26 1995  Jeffrey A. Law  <law@snake.cs.utah.edu>
-
-	* config.guess: Add hppa1.1-hp-lites support.
-
-Thu Apr  6 19:55:54 1995  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* crt0.c [__bsdi__]: Maybe declare __progname.
-
-Fri Mar 24 00:52:31 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getopt.c (_getopt_internal): When optind is zero, bump it to 1
- 	after initializing; we don't want to scan ARGV[0], which is the
- 	program name.
-
-Tue Mar 21 16:44:37 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* signame.c (signame_init): Define SIGINFO.
-
-Tue Mar  7 01:41:09 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* signame.c (strsignal): Cast sys_siglist elt to char *.
-
-Thu Feb 23 18:42:16 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* signame.h [! __STDC__]: Don't use prototype for strsignal decl.
-
-Wed Feb 22 19:08:43 1995  Niklas Hallqvist  (niklas@appli.se)
-
-	* config.guess: Recognize NetBSD/Amiga as m68k-cbm-netbsd.
-
-Tue Feb 21 22:13:19 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* signame.h (strsignal): Declare it.
-	* signame.c [! HAVE_STRSIGNAL] (strsignal): New function.
-
-Wed Feb  8 10:03:36 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
-
-	* install-sh config.guess mkinstalldirs: Add a blank in the #!
-	line for 4.2BSD, Dynix, etc.
-
-Sat Feb  4 12:59:59 1995  Jim Wilson  <wilson@cygnus.com>
-
-	* config.guess (IRIX): Sed - to _.
-
-Sat Jan 28 20:09:49 1995  Daniel Hagerty  <hag@duality.gnu.ai.mit.edu>
-
-	* error.c: Under older versions of SCO, strerror is a preprocessor
-	macro. Added a check for this.
-
-Fri Jan 27 09:55:28 1995  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y: Remove obsolete comments.  Rewrite others.
-
-Mon Jan 23 19:41:57 1995  Karl Heuer  <kwzh@hal.gnu.ai.mit.edu>
-
-	* config.guess (i[34]86:*:3.2:*): Test for ISC before SCO; newer
-	ISC releases have uname -X.
-
-Tue Jan 10 09:26:41 1995  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y (ToSeconds): Interpret 12am as 00:00 and 12pm as 12:00.
-	Before, `date -d 'Jan 1 12am'' printed `...12:00:00...'.
-	From Takeshi Sone <ts1@tsn.or.jp>.
-
-Sat Jan  7 11:57:40 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c: Include config.h first.
-
-Wed Jan  4 15:52:17 1995  Per Bothner  (bothner@spiff.gnu.ai.mit.edu)
-
-	* config.guess:  Recognize BSD/OS as bsdi.
-	Patch from Chris Torek <torek@BSDI.COM>.
-
-Wed Dec 21 15:51:08 1994  Warner Losh  (imp@boulder.openware.com)
-
-	* config.guess (sun4:SunOS:*:*): Handle Solbourne OS/MP systems.
-
-Tue Dec  6 02:29:42 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* config.guess (dummy.c) [sony]: Include <sys/param.h> and emit
-        newsos4 #ifdef NEWSOS4.
-
-Tue Nov 29 17:01:29 1994  Mark Dapoz  (md@bsc.no)
-
-	* config.guess (ibmrt): Add more cases for various forms of BSD.
-
-Tue Nov 29 16:19:54 1994  Paul Eggert  <eggert@twinsun.com>
-
-	* getopt.c (_getopt_internal): Add gettext wrappers around
-	message strings.
-
-	* xmalloc.c (fixup_null_alloc): Add gettext wrapper.
-	Capitalize initial letter of error message, for consistency
-	with regex.c.
-
-Fri Nov 25 19:22:24 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* crt0.c (start1): Add self reference.
-
-Wed Nov 23 16:51:11 1994  R. Bernstein  (rocky@panix.com)
-
-	* config.guess: Add cases for romp-ibm-aix and romp-ibm-bsd.
-
-Mon Nov 14 19:03:29 1994  Per Bothner  (bothner@spiff.gnu.ai.mit.edu)
-
-	* config.guess:  Support paragon as i860-intel-osf1.  (From RMS.)
-
-Fri Nov 11 14:04:58 1994  Andreas Luik  (luik@isa.de)
-
-	* obstack.h: Add one missing test on value of __STDC__.
-
-Sat Nov 05 08:08:52 1994  Jim Meyering  (meyering@comco.com)
-
-	* obstack.h: NextStep 2.0 cc is really gcc 1.93 but it defines
-	__GNUC__ = 2 and does not implement __extension__.  So add
-	`|| (__NeXT__ && !__GNUC_MINOR__)' to the test for whether to
-	define-away __extension__.  Reported by Kaveh Ghazi.
-
-Thu Nov 03 14:36:58 1994  Jim Meyering  (meyering@comco.com)
-
-	* filemode.c (rwx): Use S_IRUSR, S_IWUSR, S_IXUSR instead of
-	obsolete S_IREAD, S_IWRITE, S_IEXEC.
-	Make sure the former three are defined.
-
-Tue Nov  1 14:24:39 1994  Per Bothner  (bothner@spiff.gnu.ai.mit.edu)
-
-	* config.guess (*-unknown-freebsd):  Remove [-(] from
-	UNAME_RELEASE.  Patch from Warner Losh <imp@village.org>.
-
-Mon Oct 31 07:02:15 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getopt.h: Change #if __STDC__ to #if defined (__STDC__) &&
-        __STDC__.
-	* getopt.c: Change #ifndef __STDC__ to #if !defined (__STDC__) ||
-        !__STDC__.
-	* getopt1.c: Likewise.
-	* obstack.c: Change #ifdef __STDC__ to #if defined (__STDC__) &&
-        __STDC__.
-	* obstack.h: Likewise.
-
-Wed Oct 26 20:34:59 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c [alliant && i860] (FSCALE): Move defn before
-        #ifndef FSCALE.
-
-Tue Oct 25 19:10:41 1994  Paul Eggert  <eggert@twinsun.com>
-
-	* xmalloc.c (fixup_null_alloc): New function.
-	(xmalloc, xrealloc): Use it to fix up returned NULL values,
-	instead of preemptively adjusting a zero N to 1.
-
-Tue Oct 25 11:22:30 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>
-
-	* xmalloc.c (xmalloc, xrealloc): If 0 bytes requested, pretend
-        it's 1, for diff.
-
-Thu Oct 20 18:47:53 1994  Per Bothner  (bothner@wombat.gnu.ai.mit.edu)
-
-	* config.guess:  Better support for NCR - covers more machines,
-	and prints sysv4.3 if uname says the OS is 4.3.
-	Patch from Tom McConnell <tmcconne@sedona.intel.com>.
-
-Wed Oct 19 15:55:38 1994  David J. MacKenzie  <djm@duality.gnu.ai.mit.edu>
-
-	* config.guess: Add licensing exception for Autoconf.
-
-Tue Oct 18 19:26:31 1994  David Edelsohn  (edelsohn@npac.syr.edu)
-
-	* config.guess: Revise support for AIX 4.1 on POWER and PowerPC.
-
-Mon Oct 17 19:16:38 1994  David Edelsohn  <edelsohn@npac.syr.edu>
-
-	* config.guess: Add support for AIX 4.1 and architecture.
-
-Wed Oct 12 16:51:35 1994  David J. MacKenzie  (djm@duality.gnu.ai.mit.edu)
-
-	* error.c: Add hook for alternate name printing function.
-	From Franc,ois Pinard.
-	Use varargs for _doprnt too.
-
-	* xmalloc.c: Add hook for alternate exit status.
-	From Franc,ois Pinard.
-
-Mon Oct 10 17:35:19 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getpagesize.h: If NBPC is not defined, try PAGESIZE.
-
-Fri Oct 07 18:53:28 1994  Jim Meyering  (meyering@comco.com)
-
-	* filemode.c: Remove #if 0'd block around mode_t definition.
-	From Andreas Luik (luik@marx.isa.de).
-
-Thu Oct 06 21:15:16 1994  Jim Meyering  (meyering@comco.com)
-
-	* pathmax.h: Fix typo: HAVE_SYS_PATH_MAX_H -> HAVE_SYS_PARAM_H.
-	From Andreas Schwab (schwab@issan.informatik.uni-dortmund.de).
-
-Thu Oct  6 18:02:32 1994  Per Bothner  (bothner@wombat.gnu.ai.mit.edu)
-
-	* config.guess:  Patch from Chris Smith <csmith@mozart.convex.com>
-	to handle old Convex systems without uname.
-
-Tue Oct  4 03:02:39 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* getdate.y (main): Use MAX_BUFF_LEN consistently.
-	Clear the last element of buf.
-
-Mon Oct  3 01:48:48 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* config.guess: Recognize GNU.
-
-Thu Sep 29 18:47:34 1994  Jerry Frain  (jerry@sneffels.tivoli.com)
-
-	* config.guess (i[34]86:UNIX_SV:4.*:*): Remove "UNIX_SV" for
-	Unixware; move DYNIX above this one now that this is wildcard.
-
-Wed Sep 28 17:00:12 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
-
-	* getloadavg.c [alliant && i860] (LOAD_AVE_TYPE, FSCALE,
-        NLIST_STRUCT): Define.
-
-Mon Sep 26 17:53:05 1994  David J. MacKenzie  (djm@churchy.gnu.ai.mit.edu)
-
-	* alloca.c error.c filemode.c getopt.c getopt1.c getdate.y
-	getloadavg.c getugroups.c getusershell.c signame.c:
-	Remove CONFIG_BROKETS ifdef.  No one should use "config.h".
-
-Sat Sep 24 21:20:12 1994  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y [struct _TABLE]: Add `const' to NAME member dcl.
-
-Fri Sep 23 02:39:55 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* crt0.c [__FreeBSD__] (__progname): Declared.
-
-Tue Sep 20 23:27:02 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* getdate.y: Whitespace reformatted.
-	(MAX_BUFF_LEN): New macro.
-	(main): Use fgets, not gets.  Use MAX_BUFF_LEN to declare buff.
-
-Mon Sep 19 18:25:40 1994  Per Bothner  (bothner@kalessin.cygnus.com)
-
-	* config.guess (HP-UX):  Patch from Harlan Stenn
-	<harlan@landmark.com> to also emit release level.
-
-Wed Sep  7 13:15:25 1994  Jim Wilson  (wilson@sphagnum.cygnus.com)
-
-	* config.guess (sun4*:SunOS:*:*): Change '-JL' to '_JL'.
-
-Fri Sep 16 20:16:36 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* getloadavg.c (getloadavg): Add OSF_ALPHA support.
-
-Fri Sep 16 18:34:22 1994  Paul Eggert  <eggert@twinsun.com>
-
-	* getdate.y (difftm): Don't store a long value into an int variable.
-
-Thu Sep 08 00:26:29 1994  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y: Accept `MESZ' timezone.
-
-Sun Aug 28 18:13:45 1994  Per Bothner  (bothner@kalessin.cygnus.com)
-
-	* config.guess (*-unknown-freebsd*):  Get rid of possible
-	trailing "(Release)" in version string.
-	Patch from Paul Richards <paul@isl.cf.ac.uk>.
-
-Sat Aug 27 15:00:49 1994  Per Bothner  (bothner@kalessin.cygnus.com)
-
-	* config.guess:  Fix i486-ncr-sysv43 -> i486-ncr-sysv4.3.
-	Fix type: *-next-neststep -> *-next-nextstep.
-
-Sat Jun  4 17:23:54 1994  Per Bothner  (bothner@kalessin.cygnus.com)
-
-	* configure.in:  Use mh-ncrsvr43.  Patch from
-	Tom McConnell <tmcconne@sedona.intel.com>.
-
-Sat Aug 27 17:21:04 1994  Jim Meyering  (meyering@comco.com)
-
-	* filemode.c [STAT_MACRO_BROKEN]: Remove spurious #ifdef's.
-
-Fri Aug 26 19:17:22 1994  Per Bothner  (bothner@spiff.gnu.ai.mit.edu)
-
-	* config.guess (netbsd, freebsd, linux):  Accept any machine,
-	not just i[34]86.
-
-Fri Aug 26 18:45:25 1994  Philippe De Muyter (phdm@info.ucl.ac.be)
-
-	* config.guess: Recognize powerpc-ibm-aix3.2.5.
-
-Fri Aug 26 15:12:50 1994  Per Bothner  (bothner@kalessin.cygnus.com)
-
-	* config.guess:  Merges from Cygnus version.
-	(alpha-dec-osf*):  More general.
-	(*-hp-hpux*):  Combine cases.
-	(*-next-ns[23]):  Rename to *-next-neststep[23].
-	Make code fragment shorter.
-	(config.guess, i386-unknown-bsd):  Don't recognize __bsdi__ here;
-	it is handled using uname.
-
-	Sat Jul 16 12:03:08 1994  Stan Shebs  (shebs@andros.cygnus.com)
-
-	* config.guess: Recognize m88k-harris-csux7.
-
-	Tue Jun 28 13:43:25 1994  Jim Kingdon  (kingdon@lioth.cygnus.com)
-
-	* config.guess: Recognize Mach.
-
-	Wed Apr  6 20:44:56 1994  Peter Schauer  (pes@regent.e-technik.tu-muenchen.de)
-
-	* config.guess:  Add SINIX support.
-
-	Sun Mar  6 23:13:38 1994  Hisashi MINAMINO  (minamino@sra.co.jp)
-
-	* config.guess: about target *-hitachi-hiuxwe2, fixed
-	machine guessing order.  [Hitachi's CPU_IS_HP_MC68K
-	macro is incorrect.]
-
-	Thu Feb 24 07:09:04 1994  Jeffrey A. Law  (law@snake.cs.utah.edu)
-
-	* config.guess: Handle OSF1 running on HPPA processors
-
-	Fri Feb 11 15:33:33 1994  Stu Grossman  (grossman at cygnus.com)
-
-	* config.guess:  Add Lynx/rs6000 config support.
-
-Thu Aug 25 20:28:51 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* config.guess (Pyramid*:OSx*:*:*): New case.
-	(PATH): Add /.attbin at end for finding uname.
-	(dummy.c): Handle i860-alliant-bsd.  Follow whitespace conventions.
-
-Wed Aug 17 18:21:02 1994  Tor Egge  (tegge@pvv.unit.no)
-
-	* config.guess (M88*:DolphinOS:*:*): New case.
-
-Thu Aug 11 17:00:13 1994  Stan Cox  (coxs@dg-rtp.dg.com)
-
-	* config.guess (AViiON:dgux:*:*): Use TARGET_BINARY_INTERFACE
-	to select whether to use ELF or COFF.
-
-Thu Jul 28 19:16:24 1994  Uwe Seimet  (seimet@chemie.uni-kl.de)
-
-	* config.guess: Recognize m68k-atari-sysv4.
-
-Sun Jul 24 16:20:53 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>
-
-	* config.guess: Recognize i860-stardent-sysv and i860-unknown-sysv.
-
-Sat Jul 23 02:15:01 1994  Karl Heuer  (karl@hal.gnu.ai.mit.edu)
-
-	* config.guess (isc): Distinguish isc from generic sysv32.
-
-Mon Jul 11 23:55:13 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c (posixly_correct): New variable.
-	(_getopt_initialize): Set posixly_correct from envvar.
-	(_getopt_internal): Don't use "illegal" in error message
-	unless posixly_correct.
-
-Sun Jul 03 08:46:58 1994  Jim Meyering  (meyering@comco.com)
-
-	* pathmax.h: Add HAVE_SYS_PARAM_H to and remove !MS_DOS from
-	preprocessor conditional guarding inclusion of sys/param.h.
-
-Mon Jun 20 23:45:34 1994  Jim Meyering  (meyering@comco.com)
-
-	* modechange.c (mode_compile) [lint]: Initialize CHANGE to suppress
-	used uninitialized compiler warning.
-
-Wed Jun 15 19:07:49 1994  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)
-
-	* config.guess (alpha): Supoort OSF/1 V2.0 and later.
-
-Tue Jun 14 17:50:05 1994  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)
-
-	* obstack.h (obstack_grow{,0}): Cast WHERE to char * before
-	passing to bcopy.
-
-Mon Jun  6 04:59:28 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* config.guess: Add support for bsdi.
-
-Sat Jun  4 01:24:59 1994  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getloadavg.c: Put #include of errno.h and decl of errno before
-        #ifndef HAVE_GETLOADAVG.
-
-Thu Jun  2 13:42:39 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c [emacs]: Block input around the garbage reclamation.
-	Include blockinput.h.
-
-Tue May 10 16:53:55 1994  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* config.guess: Add trap cmd to remove dummy.c and dummy when
-	interrupted.
-
-Sun May  1 10:23:10 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* config.guess: Guess the OS version for HPUX.
-
-Wed Apr 27 15:14:26 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* install.sh: If $dstdir exists, don't check whether each
-	component does.
-
-Mon Apr 25 14:39:06 1994  Poul-Henning Kamp (phk@login.dkuug.dk)
-
-	* config.guess: Recognize FreeBSD.
-
-Sun Apr 24 17:56:58 1994  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y (difftm, get_date): Revert my April 18 changes.
-	Paul Eggert pointed out that that hack probably wouldn't work
-	for places like Chile that had DST in effect on 31 Dec 1970.
-	* (get_date): Instead, add 60 minutes to timezone if DST is in
-	effect locally.  From andy@eng.kvaerner.no (Andrew Walker).
-	Remove static declaration of `RCS.'
-
-Fri Apr 22 22:15:28 1994  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* install.sh: Add -d, -t, -b options.  Make leading directories.
-	Don't partially install files.
-	From zoo@cygnus.com.
-
-Wed Apr 20 18:07:13 1994  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* config.guess (dummy.c): Redirect stderr for `hostinfo' command.
-	(dummy): Redirect stderr from compilation of dummy.c.
-
-Wed Apr 20 06:36:32 1994  Philippe De Muyter  (phdm@info.ucl.ac.be)
-
-	* config.guess: Recognize UnixWare 1.1 (UNAME_SYSTEM is SYSTEM_V
-	instead of UNIX_SV for UnixWare 1.0).
-
-Mon Apr 18 22:01:27 1994  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y (difftm): Remove function.
-	(get_date): Get timezone *without DST bias* from localtime(&zero).
-	Modeled after the hack in localtime.pl from the perl distribution.
-	This fixes an error that had `date -d '4apr94'' producing
-	`Sun Apr  3 23:00:00 CDT 1994'.
-
-Fri Apr 15 22:46:59 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getdate.y: Delete special alloca code.
-
-Tue Apr 12 15:05:08 1994  Noah Friedman  (friedman@prep.ai.mit.edu)
-
-        * config.guess: Merge rms' new entry for i486-ncr-sysv4 with the
-          previously existing one.
-
-Mon Apr 11 00:54:33 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c [not __GNU_LIBRARY__] [__GCC__] [not __STDC__]:
-	Declare strlen to return int.  Don't include stddef.h.
-
-	* config.guess: Add 3[34]??,3[34]??:*:4.0:* for i486-ncr-sysv4.
-
-Sat Apr  9 14:59:28 1994  Christian Kranz  (kranz@sent5.uni-duisburg.de)
-
-	* config.guess: Distinguish between NeXTStep 2.1 and 3.x.
-
-Fri Apr  1 00:38:17 1994  Jim Wilson  (wilson@mole.gnu.ai.mit.edu)
-
-	* obstack.h, getopt.c: Delete use of IN_GCC to control whether
-	stddef.h or gstddef.h is included.
-
-Fri Mar 25 23:01:17 1994  David J. MacKenzie  (djm@geech.gnu.ai.mit.edu)
-
-	* mkinstalldirs: Preserve leading slash in file names.
-	From Jim Meyering.
-
-Sun Mar 20 01:29:20 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.s [emacs]: Use <...> to include config.h.
-
-Tue Mar  1 21:53:03 1994  Karl Heuer  (kwzh@hal.gnu.ai.mit.edu)
-
-	* config.guess (UNAME_VERSION): Recognize aix3.2.4 and aix3.2.5.
-
-Thu Feb 24 14:54:23 1994  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-        * getopt.c: Remove #ifdef GETOPT_COMPAT and #if 0 code.
-         (_getopt_initialize): New function, broken out of _getopt_internal.
-         (_getopt_internal):
-         If long_only and the ARGV-element has the form "-f", where f is
-         a valid short option, don't consider it an abbreviated form of
-         a long option that starts with f.  Otherwise there would be no
-         way to give the -f short option.
-
-Thu Feb 10 14:44:16 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c [not __GNU_LIBRARY__] [__GNUC__] [not IN_GCC]:
-	Test just __STDC__, not emacs.
-
-Wed Feb  9 17:46:31 1994  Karl Heuer  (kwzh@mole.gnu.ai.mit.edu)
-
-	* getdate.y (difftm): Simplify return expression.
-
-Wed Feb  9 00:14:00 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c [not __GNU_LIBRARY__] [__GNUC__] [not IN_GCC]
-	[emacs] [not __STDC__]: Don't include stddef.h.  Don't declare strlen.
-
-Tue Feb  8 14:14:31 1994  David J. MacKenzie  (djm at douglas.gnu.ai.mit.edu)
-
-        Handle obstack_chunk_alloc returning NULL.  This allows
-        obstacks to be used by libraries, without forcing them
-        to call exit or longjmp.
-        * obstack.c (_obstack_begin, _obstack_begin_1, _obstack_newchunk):
-        If CALL_CHUNKFUN returns NULL, set alloc_failed, else clear it.
-        (_obstack_begin, _obstack_begin_1): Return 1 if successful, 0 if not.
-        * obstack.h (struct obstack): Add alloc_failed flag.
-        _obstack_begin, _obstack_begin_1): Declare to return int, not void.
-        (obstack_finish): If alloc_failed, return NULL.
-        (obstack_base, obstack_next_free, objstack_object_size):
-        If alloc_failed, return 0.
-        (obstack_grow, obstack_grow0, obstack_1grow, obstack_ptr_grow,
-        obstack_int_grow, obstack_blank): If alloc_failed, do nothing that
-        could corrupt the obstack.
-	(obstack_chunkfun, obstack_freefun): New macros, used in GDB.
-
-Sun Jan 30 17:58:06 1994  Ken Raeburn  (raeburn@cujo.cygnus.com)
-
-	* config.guess: Recognize vax hosts.
-
-Mon Jan 24 18:40:06 1994  Per Bothner  (bothner@kalessin.cygnus.com)
-
-	* config.guess:  Clean up NeXT support, to allow nextstep
-	on Intel machines.  Make OS be nextstep.
-
-Sun Jan 23 18:47:22 1994  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)
-
-	* config.guess: Add alternate forms for Convex.
-
-Thu Jan  6 14:00:23 1994  david d `zoo' zuhn  (zoo@cygnus.com)
-
-	* config.guess: add support for Tektronix 68k and 88k boxes;
-	better Apollo, Sony NEWS information
-
-Sun Dec 26 03:58:32 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* filemode.c (ftypelet): Don't use mode_t.  Take long arg.
-	(mode_t): Don't ever define it.
-	(mode_string): Cast ftypelet's arg to long.
-
-Fri Dec 24 19:43:00 1993  Noah Friedman  (friedman@nutrimat.gnu.ai.mit.edu)
-
-        * getopt.c (_NO_PROTO): Define before config.h is included.
-
-Wed Dec 22 17:01:19 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y (date): Parse dates like 17-JUN-1991.
-
-Tue Dec 07 14:52:39 1993  Jim Meyering  (meyering@comco.com)
-
-	Mon Dec  6 11:13:07 1993  Jason Merrill  (jason@deneb.cygnus.com)
-
-	* getdate.y (number): Change parsing of number > 10000 to
-	YYMMDD rather than YYHHmm.
-
-Sat Nov 20 17:47:50 1993  Noah Friedman  (friedman@gnu.ai.mit.edu)
-
-        * error.c (error): fflush stdout before writing to stderr.
-
-Tue Nov 09 10:05:48 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y (ToSeconds): Add a `default: abort ();' case.
-
-Thu Nov  4 12:59:19 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)
-
-	* config.guess: add support for {i386,m68k,sparc} LynxOS; Hitachi
-	  HPPA machines; Acorn Risc Machines; DG/UX; Motorola SVr3 on m88k
-
-Wed Nov  3 08:06:08 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [__NetBSD__]: Fix typo.
-
-Tue Nov 02 16:03:41 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y [!defined(USG) && defined(HAVE_FTIME)]: Don't test
-	these when deciding whether to include sys/timeb.h.  Test only
-	HAVE_SYS_TIMEB_H.
-
-Sat Oct 16 23:31:34 1993  Jim Meyering  (meyering@comco.com)
-
-	* getusershell.c (getusershell): Always return a string allocated
-	by malloc.
-
-Tue Oct 12 00:53:26 1993  Jim Meyering  (meyering@comco.com)
-
-	* getugroups.c [HAVE_CONFIG_H, CONFIG_BROKETS]: Include <config.h>
-	or "config.h".
-	* getusershell.c: Ditto.
-
-Thu Oct 07 19:08:00 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y [!__GNUC__ && !HAVE_ALLOCA_H]: Declare alloca as void*
-	rather than char*.  The latter conflicts with a dcl from bison.simple.
-
-Tue Oct 05 14:52:02 1993  Jim Meyering  (meyering@comco.com)
-
-	* error.c [CONFIG_BROKETS]: Include <config.h> only under
-	this condition, else "config.h".
-	* modechange.c: Likewise.
-
-	* filemode.c, modechange.c [STAT_MACROS_BROKEN]: Test this.
-
-Sun Oct  3 15:33:07 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [__NetBSD__]: New netbsd support using
-	/kern/loadavg.
-
-Mon Sep 20 15:59:03 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* alloca.c [emacs || CONFIG_BROKETS]: Include <config.h> only under
-	these, else "config.h".
-	* filemode.c: Likewise.
-	* signame.c, getloadavg.c, getopt.c, getopt1.c: Likewise.
-
-Wed Sep 15 00:03:40 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* config.guess: New version from Cygnus; has netbsd support.
-
-Mon Sep 13 19:25:24 1993  david d 'zoo' zuhn  (zoo@geech.gnu.ai.mit.edu)
-
-	* config.guess: add support for OSF/1 v1.3 and 4.4 and 4.3BSD
-	on hp300 machines
-
-Fri Sep 10 00:22:04 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* config.guess: Recognize netbsd on i[34]86 and hp300.
-
-	* alloca.c: Include <config.h> instead of "config.h".
-	* crt0.c: Likewise.
-	* filemode.c: Likewise.
-	* getdate.y: Likewise.
-
-Fri Aug 27 10:27:13 1993  Paul Eggert  (eggert@twinsun.com)
-
-	* xmalloc.c: Include "config.h" if HAVE_CONFIG_H.  Use size_t,
-	not int, when needed.
-	(VOID): New macro.  Use it when needed.
-	(error): Declaration uses varargs if required.
-
-Fri Aug 27 09:59:26 1993  Paul Eggert  (eggert@wombat.gnu.ai.mit.edu)
-
-	* error.c: Include "config.h" if HAVE_CONFIG_H.
-
-Wed Aug 25 17:46:01 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* signame.c [! HAVE_SYS_SIGLIST] [! SYS_SIGLIST_DECLARED]: Declare
-	sys_siglist.
-
-Mon Aug 16 15:10:30 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* alloca.c: Reverse sense of GCC 2 #ifdef.
-
-Sat Aug 14 23:26:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* config.guess: Detect mips-mips-ricos...
-	Handle 9000/4??:HP-UX like 9000/3??:HP-UX.
-	Fix 9000/7??:4.3bsd...
-
-Thu Aug 12 16:18:12 1993  Paul Eggert  (eggert@twinsun.com)
-
-	* getdate.y (get_date): To determine the time zone, compare localtime
-	to gmtime output, instead of trying to use buggy and unportable
-	OS timezone primitives.
-	(difftm): New function.
-	(HAVE_GETTIMEOFDAY): Remove.
-	(timezone): Undef it if defined (not if sgi).
-
-Thu Aug 12 18:16:49 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c, getopt.c, getopt1.c [HAVE_CONFIG_H]: Include
-	<config.h> instead of "config.h".
-
-Wed Aug 11 03:27:12 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c: Do nothing if compiling with GCC version 2.
-
-Tue Aug 10 17:27:27 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c: Always declare malloc, whether or not it is defined
-	as xmalloc.
-
-Sat Aug  7 16:55:06 1993  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getopt1.c: Declare const the way getopt.c does.
-
-Mon Aug  2 16:48:14 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [OSF_ALPHA]: #undef and redefine FSCALE.
-
-Sun Aug  1 16:39:00 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [TEST] (main): If NAPTIME is zero, don't set it to 5.
-	Break out of loop at end if NAPTIME is zero.
-	[! HAVE_GETLOADAVG]: Protect all but [TEST] portion with this.
-
-Fri Jul 30 18:28:40 1993  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)
-
-	* getpagesize.h: Don't define HAVE_GETPAGESIZE; assume
-	configure has detected it.
-
-Thu Jul 29 23:20:52 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [__linux__]: Test this instead of [LINUX].
-
-Mon Jul 26 13:36:55 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (OSF_ALPHA): Test [__alpha] as well as [__alpha__].
-
-	* signame.h (psignal) [!HAVE_PSIGNAL]: Don't test [! HAVE_SYS_SIGLIST].
-	* signame.c (psignal) [!HAVE_PSIGNAL]: Test this instead of
-	[! HAVE_SYS_SIGLIST].
-
-	* getloadavg.c [sgi || sequent]: #undef FSCALE before defining it.
-
-Wed Jul 21 17:08:07 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* obstack.c [__STDC__]: Declare prototype for _obstack_allocated_p.
-
-Wed Jul 14 00:55:24 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* config.guess: Add case for Bull dpx/2.
-
-Tue Jul 13 12:38:13 1993  Jim Meyering  (meyering@comco.com)
-
-	* alloca.c: Enable the Cray stack-segment unwinding code only
-	if configure defines CRAY_STACKSEG_END.  The C-90 doesn't need
-	(and can't use) any of the Cray-specific code.
-
-Mon Jul 12 18:13:16 1993  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [NEXT]: It's ok if the user asks
-	for >1 numbers -- just return 1.
-
-Wed Jul  7 14:03:45 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c: Separate __STDC__ conditional from const conditional.
-
-Tue Jul  6 19:03:25 1993  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [SUNOS_5]: Set `offset' from
-	kvm_nlist.  Don't do the nlist but do initialize the struct
-	nlist for use by kvm_nlist.
-
-Mon Jun 28 14:55:05 1993  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)
-
-	* pathmax.h: Use !__GNUC__ instead of USG to check for whether
-	to include limits.h on non-POSIX systems.
-
-Sat Jun 26 15:26:13 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c [not __GNU_LIBRARY__, but __GNUC__] (strlen):
-	Include stddef.h or gstddef.h, and declare strlen.
-
-Fri Jun 25 15:44:11 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c (exchange): Declare missing variables I.
-
-Tue Jun 22 00:03:11 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c (exchange): Use just one slot of temporary space.
-	(alloca, __alloca): All definitions deleted.
-	(my_bcopy): All definitions deleted.
-
-Wed Jun 16 17:09:47 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* crt0.c: [hp9000s300, ! OLD_HP_ASSEMBLER] Add flag_68040 to
-	the list of flags already present.
-
-Thu Jun 10 16:28:34 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* config.guess: New version from Cygnus.
-
-Wed Jun  9 16:28:36 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [! LOAD_AVE_TYPE]: Protect LOAD_AVE_TYPE definitions
-	with this.  Use "#if defined (ardent) && defined (titan)", instead
-	of the bogus "#ifdef ardent && titan".  Fix typo tex4300 -> tek4300.
-
-Wed Jun  9 05:19:56 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getopt.c: Remove "|| defined(__sgi)" from the conditions for
-	#including "alloca.h"; autoconf ought to be able to figure
-	this out accurately, and that change was supposedly made for
-	the sake of Emacs, which does use autoconf.
-
-	* getloadavg.c: Break up #if lines longer than 256 characters,
-	for VMS.
-
-Tue Jun  8 07:56:45 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* config.guess: Add clause to the first big case statement to
-	detect Motorola Delta 68k, up to r3v7.
-
-Sun Jun  6 03:52:21 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* filemode.c: Include config.h if HAVE_CONFIG_H.
-	(mode_t): Define, if NO_MODE_T.
-
-Fri May 28 03:21:21 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)
-
-	* getopt.c: If __sgi is defined, #include <alloca.h> too.
-
-Mon May 24 20:43:38 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c [!emacs]: Define malloc as xmalloc.  Declare xmalloc.
-
-Mon May 24 17:40:32 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [OSF_MIPS]: Don't define
-	LDAV_PRIVILEGED.  Cast LOAD_AVE.tl_lscale to double.
-
-Mon May 24 11:53:18 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* alloca.c: Make this safe for Emacs.
-	[! emacs] Declare malloc.
-	(alloca): Call malloc, not xmalloc.
-
-Mon May 24 00:59:13 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [NO_GET_LOAD_AVG]: Just fail.
-
-Sun May 23 21:56:11 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getdate.y [__GNUC__] (alloca): #undef this before we give
-	our new definition.
-
-Sun May 23 13:53:12 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c: Call xmalloc (once again).
-	[emacs]: Define xmalloc as malloc.
-	[!emacs]: Declare xmalloc.
-
-Sun May 23 05:47:31 1993  Noah Friedman  (friedman@nutrimat.gnu.ai.mit.edu)
-
-        * mkinstalldirs (errstatus): New variable.
-        Use inner `for' loop instead of `while test' on $#.
-
-Sat May 22 20:14:23 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* mkinstalldirs: Set IFS to % instead of / and use sed to translate
-	/s in the directory name into %s first.  Initialize PATHCOMP always
-	to empty.
-
-Fri May 21 19:32:43 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)
-
-	* alloca.c (free): Don't #define this to be xfree whenever
-	emacs is #defined.  That's only appropriate for some of the
-	files in Emacs which use alloca.
-	(xmalloc): Remove this declaration.  It's inappropriate.
-	(alloca): Call malloc, not xmalloc.
-
-Thu May 20 16:22:12 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [LINUX]: Close FD if read fails.
-	Check return value of sscanf.
-
-Wed May 19 21:16:24 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg): Add support for Linux, from
-	Michael K. Johnson.
-
-Wed May 19 13:47:02 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [__osf__ && (mips || __mips__)]: Include
-	<sys/table.h> and #define OSF_MIPS.
-	(getloadavg) [OSF_MIPS]: Special code using `table'.
-
-Mon May 17 15:55:47 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [butterfly]: Define NLIST_STRUCT; not LOAD_AVE_TYPE.
-
-Sun May 16 22:00:06 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [sequent && i386] (N_MAGIC, N_MACHTYPE, N_FLAGS,
-	N_SET_INFO, M_SET_MAGIC, N_SET_MACHTYPE, N_SET_FLAGS, [OZN]MAGIC,
-	N_BADMAG, N_ADDRADJ, N_DATOFF, N_TRELOFF, N_SYMOFF, N_TXTADDR,
-	N_COMM, N_FN, PAGE_SIZE, SEGMENT_SIZE): Define.
-
-Sat May 15 00:50:03 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y: Fix the time.h versus sys/time.h problem once and
-	for all.  Packages that use this file should use autoconf's
-	AC_TIME_WITH_SYS_TIME and AC_HAVE_HEADERS(sys/time.h) macros.
-
-Fri May 14 16:38:56 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [butterfly] (LOAD_AVE_TYPE): Define as long.
-
-Thu May 13 01:49:31 1993  Jim Meyering  (meyering@comco.com)
-
-	* error.c: Move extern dcl of program_name out of error.
-
-Sun May  9 15:21:11 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [HPUX && ! hpux]: Define hpux.
-
-Sat May  8 20:35:04 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getloadavg.c: Rename initialized to getloadavg_initialized.
-
-Sat May  8 13:32:15 1993  Jim Meyering  (meyering@comco.com)
-
-	* alloca.c: Indent and reformat comments.
-
-	* alloca.c (i00afunc): New functions for determining relative
-	stack frame ordering for Crays.  From Otto Tennant.
-
-Fri May  7 15:54:30 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [NeXT]: Include <mach/mach.h> #ifdef
-	HAVE_MACH_MACH_H, else <mach.h>.
-
-Wed May  5 13:31:55 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (LDAV_SYMBOL) [hpux && ! hp9000s300]: Use this
-	conditional, not just [hpux], to define as "avenrun".
-
-	* getloadavg.c [unix && m68k && mc68000 && mc68020 &&
-	_MACH_IND_SYS_TYPES]: Define tek4300.
-	[tek4300] (LOAD_AVE_TYPE): Define as long.
-	[tek4300] (FSCALE): Define as 100.0.
-
-Mon May  3 22:17:45 1993  Jim Meyering  (meyering@comco.com)
-
-	* getugroups.c: Don't define GETGROUPS_T.  Now configure does it.
-
-Mon May  3 17:12:41 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [VMS]: Don't define LDAV_DONE.
-
-	* getloadavg.c [ardent && titan]
-	(LOAD_AVE_TYPE): Define as long.
-	(FSCALE): Define as 65536.0.
-	(LDAV_SYMBOL): Define as "avenrun".
-
-Tue Apr 27 14:07:18 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)
-
-	* getdate.y: If HAVE_SYS_TIMEB_H is #defined, then include
-	<sys/timeb.h> instead of defining struct timeb ourselves.
-
-Thu Apr 22 17:23:42 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [!LDAV_DONE && LOAD_AVE_TYPE && !VMS]:
-	Don't #define LDAV_DONE here.
-	[!LDAV_DONE && LOAD_AVE_TYPE]: Define it here instead.
-
-Mon Apr 19 18:09:18 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y: Use TM_IN_SYS_TIME.
-
-Fri Apr 16 18:10:06 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getdate.y [emacs] (static): If the Emacs configuration files
-	have #defined static to be the empty string, then #undefine
-	it; this file doesn't need that hack.
-
-Fri Apr 16 12:13:37 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* obstack.c, getopt.c, getopt1.c: Surround code with
-	#if defined (_LIBC) || !defined (__GNU_LIBRARY__)
-
-Fri Apr 16 10:52:12 1993  Michael Meissner  (meissner@osf.org)
-
-	* getopt.h (getopt): Do not declare getopt with a prototype of
-	(void) for a non-ANSI compiler.  If not GNU library and a
-	standard compiler, do not declare a prototype for getopt, just
-	like the comments say, due to different libraries having
-	different signatures for getopt.
-
-Thu Apr 15 16:36:03 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c: Move #include <sys/types.h> to top and out of [USG].
-	[sgi, UMAX]: Don't include it again later.
-
-Wed Apr 14 13:06:50 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c: "#ifdef !define ..." -> "#if !defined ..."
-
-	* getopt.c (_NO_PROTO): Don't define if already defined.
-
-Tue Apr 13 14:56:33 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y [HAVE_MEMCPY && !HAVE_BCOPY]: Define bcopy in terms
-	of memcpy for old versions of bison that generate parsers that
-	use bcopy.
-
-Tue Apr 13 00:48:41 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getloadavg.c: Changes for Mach from Thorston Ohl
-	<ohl@chico.harvard.edu>:
-	#include <mach/mach.h>, instead of <mach.h>.
-	(getloadavg): Don't forget to test LDAV_DONE in the CPP
-	conditional protecting the last load average technique.
-
-Mon Apr 12 23:03:20 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getloadavg.c: Changes for VMS from Richard Levitte:
-	(LOAD_AVE_TYPE, NLIST_STRUCT): Collapse multi-line #if
-	directives into one line; VMS CPP can't handle that.
-	[VMS] (getloadavg): Add static `initialized' variable, and
-	set the dsc$w_length and dsc$a_pointer fields of descriptior
-	instead of the size and ptr fields.
-
-Mon Apr 12 13:55:34 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c (my_index): Rename arg STRING to STR.
-
-Sun Apr 11 17:37:19 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.h: Declare optopt.
-
-	* getopt.c (my_index): First arg is `const char *'.
-	(my_bcopy): Likewise.
-
-Tue Apr  6 13:23:28 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y [hp9000 && !hpux]: Change erroneous #ifdef to #if.
-
-Mon Apr  5 17:28:35 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getdate.y: #include <sys/times.h> whenever HAVE_GETTIMEOFDAY
-	is #defined.  If it isn't defined, try to guess it.
-	(main): If HAVE_GETTIMEOFDAY is #defined, use it.
-
-Sun Apr  4 11:24:59 1993  Jim Meyering  (meyering@comco.com)
-
-	* getdate.y [sgi]: Undefine timezone before including <time.h>.
-
-	* getdate.y [time.h vs sys/time.h]: Fix boolean algebra typo from
-	Mar 31 consolidation.
-
-	* getdate.y: Move static dcls of yyerror and yylex to a point
-	following the definition of those symbols to getdate_{yyerror,yylex}.
-
-	* getdate.y [_AIX]: AIX needs time.h as well as sys/time.h.
-
-Fri Apr  2 13:30:03 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c: Define _NO_PROTO before including <stdio.h>.
-
-Wed Mar 31 18:38:05 1993  Jim Blandy  (jimb@geech.gnu.ai.mit.edu)
-
-	* getdate.y: Consolidate the expressions saying when to
-	#include <sys/time.h>, to avoid multiple inclusions.
-
-	* getdate.y (yylex, yyerror): Added forward static declarations.
-
-	* getdate.y: Note that David Mackenzie's change of March 16
-	1992 introduces another shift/reduce conflict.
-
-Wed Mar 31 17:30:29 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c [emacs]: Define free as xfree.
-	(alloca): Use free, not xfree.
-
-Mon Mar 29 13:46:17 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [i386] (SEGMENT_SIZE): Don't use this defn on [sequent].
-	[sequent && i386]: #include "/usr/include/a.out.h" explicitly,
-	since in glibc this is installed as <a.out.h>.
-
-Mon Mar 15 17:34:53 1993  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getopt.c (optopt): Initialize it.
-
-Sun Mar 14 16:39:57 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getpagesize.h: Add definition for VMS.
-
-Wed Mar 10 20:57:21 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getloadavg.c: If USG is defined, #include <sys/types.h>.
-	Move the test for HAVE_FCNTL_H and _POSIX_VERSION down after this.
-
-	* alloca.c: Use xfree instead of free.
-
-Wed Mar 10 15:22:56 1993  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getloadavg.c [__osf__ && __alpha__] (OSF_ALPHA): Define this.
-	[OSF_ALPHA] (LOAD_AVE_TYPE): Define as long.
-	[OSF_ALPHA] (NLIST_STRUCT): Define this.
-
-Wed Feb 24 12:45:00 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [NeXT]: #undef FSCALE to indicate that the nlist
-	method is not the desireable one.
-	(getloadavg) [NeXT]: Return with errno==EINVAL if called with NELEM>1,
-	since we can get only the one-minute load average on this system.
-
-Mon Feb 22 08:59:03 1993  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getloadavg.c (LDAV_CVT): If LDAV_CVT has already been
-	defined above in terms of Emacs's LOAD_AVE_CVT, don't redefine
-	it just because we have FSCALE.
-
-Sun Feb 21 14:52:01 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c (optopt): New variable.
-	(_getopt_internal): On any failure for a single-letter option, set
-	`optopt' to the losing option character.
-	When a required arg is missing, return ':' instead of '?' if the
-	first char in OPTSTRING (possibly after the - or +) is a ':'.
-	Use 1003.2-standard formats for error messages (it specifies
-	precise formats for unrecognized option and for missing arg).
-
-	* signame.c: #include <sys/types.h> before <signal.h>.
-
-Thu Jan 28 17:10:08 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (LOAD_AVE_TYPE) [sequent]: Define as long.
-	(FSCALE) [sequent]: Define as 1000.0, like sgi.
-	(LDAV_CVT) [FSCALE]: Move outside if #ifndef FSCALE.
-
-Fri Jan 22 14:51:36 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c (NLIST_STRUCT): Put defined(sony_news) inside the
-	parens so we don't redefine NLIST_STRUCT when it's already defined.
-
-	* signame.h [!__STDC__] (psignal): Surround decl with #ifndef
-	HAVE_SYS_SIGLIST || HAVE_PSIGNAL.
-	(sys_siglist): Surround decl with #ifndef HAVE_SYS_SIGLIST.
-
-Sun Jan 17 19:55:30 1993  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c, getopt1.c: Do define const if IN_GCC.
-
-Thu Jan 14 15:35:33 1993  David J. MacKenzie  (djm@kropotkin.gnu.ai.mit.edu)
-
-	* getopt.c, getopt1.c: Don't redefine const; let callers do it.
-
-Wed Jan 13 15:38:40 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c [_AIX]: Put #pragma alloca before all else.
-
-Tue Jan 12 16:48:04 1993  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getloadavg.c: Removed #ifdef TEST around #include of errno.h.
-
-Mon Jan 11 15:17:29 1993  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getloadavg.c [ultrix]: Define BSD.
-
-	* signame.h [!HAVE_SYS_SIGLIST && !HAVE_PSIGNAL]: Put psignal decl
-	inside these #ifs.
-	[!HAVE_SYS_SIGLIST]: Put sys_siglist decl inside this #if.
-
-Fri Jan  8 17:36:41 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [HAVE_CONFIG_H]: Test this only for actually
-	including "config.h".  Everything else that HAVE_CONFIG_H used to
-	turn off is now turned on always.
-	(KERNEL_FILE) [sequent, hpux], (LDAV_SYMBOL) [alliant]: Don't
-	define if already defined.
-	[!LDAV_DONE && LOAD_AVE_TYPE && !VMS]: Define LDAV_PRIVILEGED.
-
-	* getloadavg.c (getloadavg) [!LDAV_DONE]: Set errno to zero.
-
-Wed Jan  6 18:17:28 1993  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* signame.c: #include "signame.h" after possibly defining `const',
-	so signame.h and signame.c consistently use it or don't use it.
-
-	* signame.h: Use "#if defined (__STDC__) && __STDC__", in place of
-	"#ifdef __STDC__".
-
-Sat Jan  2 18:32:01 1993  David J. MacKenzie  (djm@kropotkin.gnu.ai.mit.edu)
-
-	* getopt.c: Turn off GETOPT_COMPAT by default.
-
-Thu Dec 31 12:34:41 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* signame.c [HAVE_CONFIG_H]: #include "config.h".
-
-Tue Dec  8 21:10:29 1992  David J. MacKenzie  (djm@kropotkin.gnu.ai.mit.edu)
-
-	* getloadavg.c: Include fcntl.h if HAVE_FCNTL_H, not USG.
-
-	* getdate.y: Include alloca.h if HAVE_ALLOCA_H, not sparc.
-
-Tue Dec  1 13:27:40 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getopt.c, getopt1.c, getdate.y, alloca.c, getloadavg.c
-	[HAVE_CONFIG_H]: Include config.h.
-
-Tue Nov 24 09:42:29 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getugroups.c: Use HAVE_STRING_H, not USG.
-
-Mon Nov 23 14:36:33 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* signame.c (init_sigs): Renamed to signame_init, made global.
-	(sig_abbrev, sig_number): Changed callers.
-	* signame.h (signame_init): Declare it.
-
-	* signame.c (init_sigs): Add SIGDANGER.
-
-Thu Nov 19 21:34:43 1992  Jim Blandy  (jimb@totoro.cs.oberlin.edu)
-
-	* getloadavg.c: #include <sys/param.h> whether or not the
-	"emacs" CPP symbol is defined.
-
-Mon Nov 16 13:35:30 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* a.out.gnu.h (SEGMENT_SIZE): Define as PAGE_SIZE if undefined.
-	(PAGE_SIZE): Define as 16 if undefined; for i386-minix, which has
-	no predefine we can test.
-
-Thu Nov 12 23:31:53 1992  Jim Meyering  (meyering@hal.gnu.ai.mit.edu)
-
-	* getdate.y, getusershell.c: Give statically initialized arrays
-	const attribute.
-
-Sat Nov  7 13:50:27 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getopt1.c: Only include stdlib.h for __GNU_LIBRARY__.
-	[!__STDC__]: Don't define const if it was already defined.
-
-Sat Nov  7 03:28:08 1992  Jim Blandy  (jimb@apple-gunkies.gnu.ai.mit.edu)
-
-        * getdate.y [emacs]: Include <config.h>; under Emacs, we get
-        some additional configuration information from that.
-
-Sat Nov  7 00:53:35 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getopt.c [!__STDC__]: Don't define const if it was already defined.
-
-Tue Nov  3 20:12:01 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getloadavg.c: Added `!defined (LDAV_DONE) &&' to all the #if's
-	for different system types.  We want to get one and only one of the
-	chunks of code which defines LDAV_DONE.
-
-Tue Oct 27 23:51:02 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getloadavg.c [sequent]: implies NLIST_STRUCT.
-	[SYSV || _POSIX_VERSION]: include fcntl.h, not sys/file.h.
-
-Mon Oct 26 22:43:25 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* install.sh: Move or copy first to temp file, then mv to real dest.
-
-Mon Oct 19 18:35:04 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* obstack.h (__need_ptrdiff_t): Don't define, if __NeXT__.
-
-Sat Oct 17 03:17:01 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c: Include string.h only with GNU library.
-
-Fri Oct 16 17:40:54 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getopt.h (no_argument, required_argument, optional_argument):
-	Define as macros.
-	(enum _argtype): Removed.
-
-Fri Oct  2 18:18:35 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* signame.c (NSIG): #define if not #define'd.
-
-Thu Oct  1 23:33:55 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getpagesize.h: That should have been HAVE_UNISTD_H, Mike . . .
-	(no initial underscore).
-
-	* pathmax.h [__MSDOS__]: Don't include sys/param.h.
-
-Wed Sep 30 13:54:36 1992  Michael I Bushnell  (mib@geech.gnu.ai.mit.edu)
-
-	* getpagesize.h: Test for _HAVE_UNISTD_H, because
-	_POSIX_VERSION is defined by unistd.h, and thus can't be used
-	in deciding whether to include it.
-
-Tue Sep 29 07:36:29 1992  Noah Friedman  (friedman@nutrimat.gnu.ai.mit.edu)
-
-        * getloadavg.c: if symbol `sony_news' is defined, define
-          NLIST_STRUCT and declare LOAD_AVE_TYPE as long.
-
-Thu Sep 17 20:10:03 1992  Karl Berry  (karl@geech.gnu.ai.mit.edu)
-
-        * regex.[ch]: made links into ../regex/, per rms' suggestion.
-          Please put further ChangeLog entries there.
-
-Tue Sep 15 20:13:30 1992  Michael I Bushnell  (mib@geech.gnu.ai.mit.edu)
-
-	* getpagesize.h: Posix-ify.
-
-Mon Sep 14 23:48:55 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getloadavg.c: Define SUNOS_5 if appropriate.
-
-Mon Sep 14 16:31:01 1992  Michael I Bushnell  (mib@geech.gnu.ai.mit.edu)
-
-	* getdate.y: AIX needs sys/time.h as well as time.h.
-
-Sun Sep 13 07:17:09 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getdate.y: Don't forget to include the file which defines
-	struct timeval and struct timezone, if we're using those.
-
-Fri Sep 11 10:42:24 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getopt.h: Only prototype getopt for the GNU libc.
-
-Fri Sep 11 07:46:21 1992  Karl Berry  (karl@hal.gnu.ai.mit.edu)
-
-        * regex.h (_RE_ARGS) [!__STDC__]: expand to empty parens.
-
-Fri Sep 11 00:57:56 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* regex.c (SET_LIST_BIT): Always treat c as positive.
-
-Thu Sep 10 19:38:59 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getugroups.c: Always declare getgrent.  getgroups fills in
-	an array of int on 386BSD, too.
-
-Thu Sep 10 16:35:10 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* getdate.y: Generalize previous change; always use
-	gettimeofday to find the current time zone's Greenwich offset,
-	unless we're being compiled under USG or some other system
-	which already has CPP conditionals saying how to get the time
-	zone offset.
-
-	* getdate.y: Don't divide the Greenwich offset returned by
-	gettimeofday by 60; it's already expressed in minutes, so it
-	doesn't need to be converted.
-
-Wed Sep  9 21:49:20 1992  Karl Berry  (karl@apple-gunkies.gnu.ai.mit.edu)
-
-        * regex.[ch]: version 0.10, incorporating below changes and
-        more.  See /gd/gnu/lib/regex-*/ChangeLog.
-
-Wed Sep  9 03:09:55 1992  Noah Friedman  (friedman@nutrimat.gnu.ai.mit.edu)
-
-        * malloc.c: if USG, define macros for bcopy and bzero.
-        Don't redefine USG for hpux if already defined.
-
-Tue Sep  1 16:46:47 1992  Jim Blandy  (jimb@pogo.cs.oberlin.edu)
-
-	* getdate.y: If __ultrix__ is defined, then we don't have the
-	timezone array, but we do have ftime, so use that instead.
-
-Fri Aug 28 15:52:40 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getloadavg.c [SUNOS_5]: New code from Epoch 4.2.
-
-Thu Aug 27 16:38:22 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getloadavg.c: Don't check NLIST_STRUCT to decide whether to
-	define LOAD_AVE_TYPE.
-
-Wed Aug 26 16:45:54 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getloadavg.c (FSCALE): Don't #define if already defined.
-
-Mon Aug 24 13:00:34 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getopt.c: Include string.h if USG or STDC_HEADERS as well as
-	if __GNU_LIBRARY__.
-
-Sun Aug 23 02:51:31 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* regex.[ch] (re_comp): Remove const from return value, to
-	avoid conflict with 386BSD unistd.h.
-
-Sat Aug 22 18:30:58 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getloadavg.c: Define FCALE, then LDAV_CVT in terms of that.
-
-Fri Aug 21 16:02:20 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getloadavg.c (_SEQUENT_): Define NLIST_STRUCT.
-
-Wed Aug 19 16:35:33 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [NLIST_NAME_UNION]: Test this intead of convex.
-
-Tue Aug 18 23:06:47 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* regex.c (DO_RANGE): Make end and this_char integers, and
-	fetch this_char's initial value using an 'unsigned char *', so that
-	character ranges including '\177' through '\377' will work.
-
-Tue Aug 18 17:32:40 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getopt.c, getopt1.c, getopt.h: Change license back to GPL from LGPL.
-
-Fri Aug 14 07:38:34 1992  Torbjorn Granlund  (tege@jupiter.sics.se)
-
-	* obstack.h: Fix spelling errors.
-
-Sat Aug  1 18:12:07 1992  Michael Meissner  (meissner@osf.org)
-
-	* obstack.c (CALL_FREEFUN): Recode to use if/else instead of
-	?:, since the MIPS compiler does not like ?: expressions where
-	the two alternate values are both void.
-
-Sat Aug  1 00:11:25 1992  Fred Fish  (fnf at fishpond)
-
-	* obstack.h (obstack_specify_allocation):  Use malloc/free
-	compatible calling convention.
-	* obstack.h (obstack_specify_allocation_with_arg):  Use mmalloc/
-	mfree compatible calling convention.
-
-Wed Jul 29 18:53:13 1992  Karl Berry  (karl@hal)
-
-        * regex.c: version 0.9; fixes bug wrt always finding the longest
-          match.  See /gd/gnu/lib/regex-*/ChangeLog.
-
-Sun Jul 26 18:24:13 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [NeXT]: #undef BSD after <sys/param.h>.
-
-Sun Jul 26 17:04:20 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* obstack.h (struct obstack): extra_arg is now char *.
-	(obstack_alloc_arg): Deleted.
-	(obstack_specify_allocation): Take new arg, to specify extra_arg.
-	Call _obstack_begin_1.
-	* obstack.c (_obstack_begin_1): New function.
-
-Fri Jul 24 16:29:17 1992  Fred Fish  (fnf at fishpond)
-
-	* obstack.h (struct obstack):  Change maybe_empty_object to
-	bitfield.  Add use_extra_arg bitfield and extra_arg.
-	* obstack.h (obstack_init, obstack_begin):  Cast type of
-	obstack_chunk_free as well as obstack_chunk_alloc.
-	* obstack.h (obstack_specify_allocation, obstack_alloc_arg):
-	New macros.
-	* obstack.c (CALL_CHUNKFUN, CALL_FREEFUN):  New macros to hide
-	details of chunk allocator/deallocator calls.
-	* obstack.c (_obstack_begin, _obstack_newchunk): Use CALL_CHUNKFUN.
-	* obstack.c (_obstack_free, _obstack_newchunk): Use CALL_FREEFUN.
-
-Fri Jul 24 16:09:37 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getugroups.c [_POSIX_SOURCE]: Define endgrent as empty.
-
-	* getloadavg.c [HAVE_UNISTD_H]: Include unistd.h.
-
-Sun Jul 19 23:29:27 1992  John Gilmore  (gnu@cygnus.com)
-
-	* stab.def: Order values numerically, and add some stabs
-	used by Solaris.
-
-Fri Jul 17 20:21:20 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getopt.c: Only include stdlib.h for GNU C library, due to
-	conflicting getopt prototypes.
-
-Fri Jul 17 05:49:07 1992  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)
-
-	* obstack.c (DEFAULT_ALIGNMENT): Cast to widest integer type to
-	avoid possible warning if int is narrower than pointer.
-
-Fri Jul 17 03:47:16 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getdate.y: Use HAVE_FTIME instead of FTIME_MISSING.
-	* signame.c: Use HAVE_SYS_SIGLIST instead of SYS_SIGLIST_MISSING.
-
-Tue Jul 14 18:53:46 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c (exchange): Cast args to my_bcopy to (char *).
-
-Tue Jul 14 14:34:33 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* getopt.c: Include stdlib.h and string.h if STDC_HEADERS as
-	well as if __GNU_LIBRARY__.
-
-Sat Jul 11 13:24:12 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* obstack.h: Define __need_ptrdiff_t for gstddef.h.
-
-Fri Jul 10 15:01:25 1992  Karl Berry  (karl@hal)
-
-        * regex.[ch]: new version (0.8), incorporating the changes
-          below.  See /gd/gnu/regex/ChangeLog.
-
-Fri Jul 10 03:46:24 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* obstack.h: Get ptrdiff_t from gstddef.h when building GCC with GCC.
-
-Thu Jul  9 21:38:37 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getloadavg.c [DGUX]: Cast first arg to dg_sys_info to (long int *).
-
-Wed Jul  8 19:43:26 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* error.c (private_strerror): Ok if errnum == sys_nerr.
-
-Wed Jul  8 12:38:37 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* regex.c: Applied tentative patches from Karl Berry:
-	Miscellaneous doc fixes and reformatting.
-	(REGEX_REALLOCATE): Parenthesize call to realloc.
-	Test HAVE_ALLOCA_H, instead of testing for things like sparc,
-	etc.  Don't declare alloca under AIX, since that's done with
-	the pragma at the top of the file.
-	(IS_IN_FIRST_STRING): Renamed to FIRST_STRING_P.
-	(re_match_2): Uses of IS_IN_FIRST_STRING changed.
-	(TALLOC): Parenthesize call to malloc.
-	(REGEX_TALLOC): New macro.
-	(FREE_NONNULL): New macro.
-	(FREE_VARIABLES): Use FREE_NONNULL instead of always freeing.
-	(re_match_2): Don't use initializers in declarations of
-	regstart, regend, old_regstart, old_regend, reg_info,
-	best_regstart, best_regend, reg_dummy, and reg_info_dummy.
-	Initialize them only if we actually use the registers.
-	New variable match_end for use instead of best_regend[0], in
-	case we don't allocate the registers.  Don't fuss with
-	best_regend[0] directly.
-
-Sat Jul  4 07:53:45 1992  Karl Berry  (karl@hal)
-
-        * regex.c (re_compile_fastmap): init succeed_n_p (to false).
-
-Fri Jul  3 14:45:29 1992  David J. MacKenzie  (djm@nutrimat.gnu.ai.mit.edu)
-
-	* error.c: Change FOO_MISSING to HAVE_FOO.
-
-Thu Jul  2 15:47:20 1992  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)
-
-	* getloadavg.c: Tweak #defines for SVR4.
-	Include sys/param.h if unix, not if BSD.
-
-Wed Jul  1 11:48:37 1992  Karl Berry  (karl@hal)
-
-        * regex.[ch]: new version (0.7).  See /gd/gnu/regex/ChangeLog.
-
-Sun Jun 28 06:05:39 1992  Richard Kenner  (kenner@vlsi1.ultra.nyu.edu)
-
-	* obstack.h: Define a type for the result of __PTR_TO_INT.
-
-Sat Jun 27 10:50:59 1992  Jim Blandy  (jimb@pogo.cs.oberlin.edu)
-
-	* xregex.c (re_match_2): When we have accepted a match and
-	restored d from best_regend[0], we need to set dend
-	appropriately as well.  It may happen that dend == end_match_1
-	while the restored d is in string2, so we should be prepared
-	to set dend to end_match_2 in this case.
-
-Tue Jun 23 22:27:36 1992  David J. MacKenzie  (djm@goldman.gnu.ai.mit.edu)
-
-	* getloadavg.c (getloadavg) [DGUX]: Don't initialize structure;
-	the error handling doesn't work that way now.
-
-Fri Jun 19 13:14:57 1992  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)
-
-	* install.sh: Use - instead of :- in variable assignments.
-
-Tue Jun 16 19:32:46 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.c [HAVE_ALLOCA_H]: Test to include <alloca.h>.
-
-Thu Jun 11 15:15:38 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* arscan.c: Removed.  It is now part of Make.
-
-Mon Jun  8 18:03:28 1992  Jim Blandy  (jimb@pogo.cs.oberlin.edu)
-
-	* regex.h (RE_NREGS): Doc fix.
-
-	* xregex.c (re_set_registers): New function.
-	* regex.h (re_set_registers): Declaration for new function.
-
-Wed Jun  3 16:59:49 1992  Karl Berry  (karl@geech.gnu.ai.mit.edu)
-
-        * regex.[ch]: new version (0.6).  See ~karl/regex/ChangeLog.
-
-Sat May 23 22:28:54 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* getopt.c [LIBC]: No longer need to #include <ansidecl.h>.
-
-	* getopt.h, getopt.c, getopt1.c: Changed copyright notice to LGPL.
-
-Fri May 22 14:50:25 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c: Change sparc conditional so that sun && sparc
-	causes use of alloca.h.
-
-Thu May 14 16:50:28 1992  Karl Berry  (karl@kropotkin.gnu.ai.mit.edu)
-
-        * regex.c, regex.h: new version (0.5).  See ~karl/regex/ChangeLog.
-
-Tue May 12 03:27:19 1992  David J. MacKenzie  (djm@churchy.gnu.ai.mit.edu)
-
-	* getopt.c (_getopt_internal): Don't allow it.
-
-Tue May 12 00:33:31 1992  Roland McGrath  (roland@albert.gnu.ai.mit.edu)
-
-	* getopt.c (_getopt_internal): Allow optional arg to be in ARGV elt
-	after switch.
-
-Thu May  7 11:46:18 1992  Jim Blandy  (jimb@pogo.cs.oberlin.edu)
-
-	* crt0.c (_start): When m68000 is #defined, don't use the
-	simple C version of _start that simply calls start1; GCC 2.1
-	without optimization has _start push a word of garbage on the
-	stack, which screws up the CRT0_DUMMIES hack.  Instead, use an
-	assembly-language version of _start.
-
-Mon May  4 16:26:49 1992  David J. MacKenzie  (djm@churchy.gnu.ai.mit.edu)
-
-	* getopt.h: #ifdef __STDC__ -> #if __STDC__.
-
-Thu Apr 30 18:53:52 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [NeXT]: Define PAGE_SIZE, and not SEGMENT_SIZE.
-
-Sun Apr 26 02:33:50 1992  Jim Blandy  (jimb@pogo.cs.oberlin.edu)
-
-	* crt0.c: Don't #include "config.h" unless emacs is #defined.
-
-Tue Apr 21 17:45:54 1992  Jim Blandy  (jimb@pogo.cs.oberlin.edu)
-
-	* regex.c (re_match_2): If we've already allocated memory for
-	the search buffers, don't allocate them again.
-
-Mon Apr 13 20:17:47 1992  David J. MacKenzie  (djm@wookumz.gnu.ai.mit.edu)
-
-	* getopt.h: Make the multiple inclusion protection look like
-	the rest of libc's.
-
-Wed Apr  1 06:10:15 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* regex.c [emacs]: Include <sys/types.h>, since regex.h wants it.
-
-Tue Mar 31 12:01:32 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* crt0.c: The changes below are the results of a merge with
-	the Emacs 19 sources:
-	(start1): Declare this static before all uses.
-	Add conditionals for ALLIANT_2800.
-
-	* (_start) for alliant: Set _curbrk and _minbrk from _setbrk,
-	to help with Emacs dumping.
-
-Mon Mar 30 18:00:41 1992  Jim Blandy  (jimb@wookumz.gnu.ai.mit.edu)
-
-	* malloc.c [VMS]: Include vlimit.h.
-	(calloc): Add a quick implementation of this, in case
-	something from another library uses it.
-	(get_lim_data): There are several versions of this function,
-	tailored for different operating systems; the appropriate
-	version is chosen by checking for preprocessor symbols which
-	indicate which operating system Emacs is being compiled for.
-	Re-arrange the preprocessor conditionals so that the generic
-	"none of the above" version is last, in the final "else" clause.
-
-	* alloca.c: Do nothing if alloca is defined as a macro.
-
-Fri Mar 20 02:53:14 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* a.out.gnu.h: Added missing backslash in #if.
-
-Mon Mar 16 23:46:18 1992  David J. MacKenzie  (djm@apple-gunkies.gnu.ai.mit.edu)
-
-	* getdate.y: Support ISO 8601 format.  yyyy-mm-dd.
-
-Sun Mar 15 22:50:30 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [NeXT || mips] (SEGMENT_SIZE): Define as PAGE_SIZE.
-	[NeXT] (PAGE_SIZE): Define as 0x2000.
-	[mips] (PAGE_SIZE): Define as 4096.
-
-	* getopt.c [sparc && svr4]: No <alloca.h>.
-
-Thu Mar 12 14:26:48 1992  Karl Berry  (karl@apple-gunkies.gnu.ai.mit.edu)
-
-        * regex.[ch]: new version (0.4).  See ~karl/regex/ChangeLog.
-
-Tue Mar 10 22:26:14 1992  Roland McGrath  (roland@geech.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [sun && mc68000]: SEGMENT_SIZE == 0x2000.
-
-Thu Feb 27 21:37:53 1992  Michael I Bushnell  (mib@geech.gnu.ai.mit.edu)
-
-	* getdate.y: `#undef timezone' on SGI systems to avoid naming
-	clash.
-	(get_date): Use underscore version for SGI.
-	[This fix is from beebe@mach.utah.edu.]
-
-Tue Feb 25 21:23:50 1992  Roland McGrath  (roland@wookumz.gnu.ai.mit.edu)
-
-	* getopt.c [__GNU_LIBRARY__]: #include <string.h>.
-
-Thu Feb 20 13:04:57 1992  Karl Berry  (karl@wombat.gnu.ai.mit.edu)
-
-        * regex.[ch]: new version (0.3).  See ~karl/regex/ChangeLog for all
-          the details.
-
-Wed Feb 19 23:04:05 1992  Charles Hannum  (mycroft@gnu.ai.mit.edu)
-
-	* regex.c [_AIX]: Move #pragma alloca to top of file to accommodate
-	AIX C compiler.
-
-Mon Feb 17 03:44:03 1992  Roland McGrath  (roland@wookumz.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [sparc] (_N_HDROFF): Define as (-sizeof (struct exec)).
-	That is as if SEGMENT_SIZE were 0, but that would be wrong.
-
-	* a.out.gnu.h [i386] (SEGMENT_SIZE): Define.
-
-Sun Feb 16 03:10:23 1992  Roland McGrath  (roland@wookumz.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [sparc] (PAGE_SIZE, SEGMENT_SIZE): Define.
-	(PAGSIZ): Define as PAGE_SIZE.
-	(SEGSIZ): Define as SEGMENT_SIZE.
-
-Thu Jan 30 19:03:29 1992  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* regex.c (re_search_2): Improve comments.
-
-Tue Jan 28 00:28:15 1992  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.h (struct option): Change has_arg back to an int.
-
-Mon Jan 27 23:03:33 1992  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c (_getopt_internal): Don't use a relational operator (>)
-	on the has_arg field, which is now an enum.
-
-Fri Jan 17 21:34:02 1992  Roland McGrath  (roland@wookumz.gnu.ai.mit.edu)
-
-	* getopt.h: Don't declare envopt.
-
-	* envopt.c: Tweaks to compile under libc.
-
-Fri Jan 17 21:23:02 1992  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c: Describe the new args to _getopt_internal.
-
-Fri Jan 17 19:26:54 1992  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* getopt.h: Remove decls of _getopt_* and option_index.
-	Make `name' elt of `struct option' const char *.
-	Make `has_arg' an enum (integer values same).
-	* getopt.c (_getopt_internal): Renamed from getopt, taking 3 new args
-	in place of global vars _getopt_long_options, _getopt_long_only,
-	and option_index (which are all now gone).
-	(getopt): New fn, front end to _getopt_internal.
-	* getopt1.c (getopt_long, getopt_long_only): Use _getopt_internal.
-
-Tue Jan  7 02:08:10 1992  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* regex.c (malloc, realloc): Don't specify arg types--can
-	cause error.
-
-Mon Jan  6 12:53:42 1992  Karl Berry  (karl at apple-gunkies.gnu.ai.mit.edu)
-
-        * regex.[ch]: new versions.  See ~karl/regex/ChangeLog for all
-          the details.
-
-Tue Dec 24 22:42:59 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* obstack.h: Indentation fix.
-
-Mon Dec 23 23:41:39 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* regex.c, putenv.c, getugroups.c: Change POSIX ifdefs to
-	HAVE_UNISTD_H and _POSIX_VERSION.
-
-Wed Dec 18 14:24:35 1991  Michael Meissner  (meissner at osf.org)
-
-	* getopt.h (whole file): Protect getopt.h from being included
-	twice.
-
-Fri Dec  6 13:00:42 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c (getopt): Cast argv to (char **) (with no const)
-	when passing to exchange, to be explicit about what's happening.
-
-	* getopt.c: Change POSIX_ME_HARDER to POSIXLY_CORRECT.
-
-Thu Dec  5 12:12:18 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* getopt.c (my_bcopy, my_index): New functions.
-	Use instead of bcopy and index.
-	Avoid conditionals on USG, NeXT, hpux, __GNU_LIBRARY__, etc.
-
-	* getopt1.c, getopt.h (getopt_long*): Like yesterday's getopt change.
-
-Wed Dec  4 10:51:45 1991  Ron Guilmette (rfg at ncd.com)
-
-	* getopt.c, getopt.h (getopt):  Correct the type of the second
-	parameter so that it agrees with ANSI/POSIX standards.
-
-	* getopt.h:  Make all function declarations explicitly `extern'.
-
-Tue Dec  3 01:34:59 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c: Fix some wrong comments.
-
-Mon Dec  2 17:49:50 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c (getopt): Support `+' to introduce long-named
-	options, as well as `--', if GETOPT_COMPAT is defined.
-	It is defined by default.
-
-Sun Dec  1 21:12:32 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c (getopt): Long-named options are introduced by `--'
-	instead of `+'.
-	Protect all fprintfs with checks of opterr.
-	Include getopt.h instead of redeclaring things, to stay in sync.
-	* getopt1.c (getopt_long): No longer disable long options if
-	POSIX_ME_HARDER is set.
-	(main): Handle -d.  Remove unused var.
-
-Mon Nov  4 23:06:54 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* regex.h [!__STDC__]: regerror was declared to return size_t *
-	instead of size_t.
-
-Sat Nov  2 21:26:42 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* error.c: Use STRERROR_MISSING instead of STDC_HEADERS to
-	control compiling strerror.
-
-Fri Oct 18 00:33:43 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getugroups.c: GID_T -> GETGROUPS_T, for clarity.
-
-Wed Oct  9 14:14:31 1991  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c: Treat hpux like USG.
-
-Tue Oct  8 21:36:52 1991  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* alloca.c: Add some parens to make precedence clearer.
-
-Sat Oct  5 13:17:59 1991  Richard Stallman  (rms@mole.gnu.ai.mit.edu)
-
-	* getopt.c: Treat NeXT like USG.
-
-Sat Sep 28 02:01:45 1991  David J. MacKenzie  (djm at churchy.gnu.ai.mit.edu)
-
-	* regex.c: Include stdlib.h only if STDC_HEADERS, not if POSIX
-	(POSIX.1 doesn't require it to exist).
-
-Wed Sep  4 17:32:51 1991  Kathryn A. Hargreaves  (letters at apple-gunkies)
-
-        * regex.[ch]: Put current version (0.1) here, after backing up old
-          files.  For ChangeLog details, please refer to the ChangeLog
-          file in my regex directory.
-
-Sat Aug 24 04:22:01 1991  David J. MacKenzie  (djm at apple-gunkies)
-
-	* getopt1.c: Declare getenv.
-
-Mon Aug 19 01:35:48 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* regex.c, getopt.c: Indent '#pragma alloca' so non-ANSI
-	compilers won't choke on it.
-
-Mon Aug 12 16:43:17 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* getopt.c: _POSIX_OPTION_ORDER renamed to POSIX_ME_HARDER.
-	* getopt1.c: Support POSIX_ME_HARDER.
-
-Wed Aug  7 00:53:00 1991  David J. MacKenzie  (djm at geech.gnu.ai.mit.edu)
-
-	* getdate.y: Add patch from perf@efd.lth.se to support
-	explicit "dst", for European timezones.
-
-Tue Jul 30 17:00:23 1991  David J. MacKenzie  (djm at apple-gunkies)
-
-	* getdate.y: Rename NEED_TZSET to FTIME_MISSING.
-
-Fri Jul 26 23:09:22 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* regex.h: Delete `#pragma once'.
-
-Fri Jul 26 17:07:39 1991  Roland McGrath  (roland@churchy.gnu.ai.mit.edu)
-
-	* a.out.gnu.h [sparc]: #define SEGMENT_SIZE 0.  Is that right??
-
-Wed Jul 24 03:29:26 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getopt.c, regex.c: Put alloca stuff first, where RS6000 requires it.
-	* getopt.c: Use const instead of CONST, and define it to
-	nothing if not __STDC__.
-
-	* xmalloc.c (xmalloc, xrealloc): Exit with value 2 on error,
-	not 1, so cmp can use it.
-
-Tue Jul 23 15:01:26 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getugroups.c: GID_T is int if ultrix as well as if sun.
-
-Mon Jul 22 17:39:35 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
-
-	* getugroups.c: If POSIX and not sun (bogus!), take an array
-	of gid_t instead of an array of int.
-
-Tue Jul 16 21:24:43 1991  Michael Meissner  (meissner at wookumz.gnu.ai.mit.edu)
-
-	* obstack.h (__extension__): If compiling with a 1.xx GCC
-	compiler define __extension__ as nothing.
-
-Tue Jul 16 20:25:22 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* obstack.h [not __GNUC__] (obstack_finish): Add extra parens for clarity.
-	(conditionals for __GNUC__): Do not test __STRICT_ANSI__.
-	[__GNUC__] (most macros): Use __extension__ to avoid -pedantic warning.
-
-Tue Jul 16 17:12:02 1991  Michael Meissner  (meissner at wookumz.gnu.ai.mit.edu)
-
-	* obstack.h (obstack_finish): If compiling with a non-GCC
-	compiler, use the argument (h) to point to the obstack
-	structure, rather than the __o1 pointer, which only exists in
-	the GNU side of the macros.
-	(#if __GNUC__ && __STDC__): If -pedantic is used do not use
-	the GNU CC ({}) optimizations, since these cause warnings to
-	be omitted.
-
-Tue Jul 16 01:59:58 1991  David J. MacKenzie  (djm at geech.gnu.ai.mit.edu)
-
-	* getdate.y (TimezoneTable): #if 0 zones which would require
-	storing a float in a time_t.
-
-Fri Jul 12 17:01:58 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* obstack.h (struct obstack): New flag maybe_empty_object.
-	(obstack_finish, both versions): Set the flag if allocate empty object.
-	Don't make the object nonempty.  This replaces May 7 change.
-	* obstack.c (_obstack_begin, _obstack_newchunk): Clear the flag.
-	(_obstack_newchunk): Don't free "empty" chunk if flag is set.
-	(_obstack_free): Set the flag if we change chunks.
-
-Sat Jul  6 21:09:31 1991  David J. MacKenzie  (djm at geech.gnu.ai.mit.edu)
-
-	* getdate.y [NEED_TZSET]: Declare `timezone'.
-
-Thu Jun 20 01:11:31 1991  David J. MacKenzie  (djm at geech.gnu.ai.mit.edu)
-
-	* getopt.c: Separate decls of getenv and malloc from decls of
-	index and bcopy, to reduce duplicated code.
-
-Tue Jun 11 00:11:07 1991  David J. MacKenzie  (djm at geech.gnu.ai.mit.edu)
-
-	* regex.c (re_match_2): In case wordbeg, check whether we are
-	at the start of the string before checking the previous
-	character, not after, just like in case wordend.
-
-	* getdate.y: Declare alloca for old bisons.
-
-Mon May 20 13:13:32 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* obstack.c (obstack_free, _obstack_free): Define both, the same way.
-
-Sun May 19 18:37:38 1991  David J. MacKenzie  (djm at churchy.gnu.ai.mit.edu)
-
-	* getdate.y: Rename getdate to get_date to avoid conflict with SVR4.
-
-Fri May 17 21:09:14 1991  David J. MacKenzie  (djm at churchy.gnu.ai.mit.edu)
-
-	* filemode.c (ftypelet): Only test for S_ISBLK if it's defined.
-
-Sat May 11 14:49:43 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* obstack.h (obstack_finish): Typo in last change (non-GNUC version).
-
-Tue May  7 15:38:51 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* obstack.h (obstack_finish): Make each object at least 1 byte.
-
-Tue Apr 30 13:58:16 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
-
-	* getopt.c, regex.c [_AIX]: Do #pragma alloca.
-
-Wed Apr 10 19:08:02 1991  Per Bothner  (bothner at pogo.gnu.ai.mit.edu)
-
-	* signame.h: Make sys_siglist be const char[] if __STDC__
-	is defined (thus making it compatible with signame.c).
-
-Tue Apr  2 16:49:02 1991  Roland McGrath  (roland at churchy.gnu.ai.mit.edu)
-
-	* glob.c: Put #ifndef alloca around alloca goop.
-	(glob_vector): Put #ifdef SHELL around label used only there.
-
-Tue Apr  2 14:32:47 1991  David J. MacKenzie  (djm at geech.gnu.ai.mit.edu)
-
-	* glob.c: Attempt to reconcile with bash and make versions of
-	#ifdefs and #includes.
-
-	* glob.c (glob_vector): If _POSIX_SOURCE, don't use
-	(non-POSIX) d_ino field of struct dirent. (from bfox)
-
-Sun Mar 17 16:25:23 1991  Richard Stallman  (rms@mole.ai.mit.edu)
-
-	* regex.c (PUSH_FAILURE_POINT): Was multiplying stack size by
-	a big number.  Multiply by 2 instead.
-
-	* signame.c (init_sigs): Define i.
-
-Fri Feb 22 12:38:22 1991  Mike Haertel  (mike at apple-gunkies)
-
-	* obstack.c (_obstack_allocated_p): Use >=, not >, when
-	comparing with the beginning of the chunk, for the exact
-	same reason as RMS' change below.
-
-Thu Feb 21 21:29:50 1991  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.h [not __GNUC__] (obstack_free): Use >, not >=,
-	when comparing with beginning of chunk.
-
-	* getopt.c (bcopy): Never declare it.
-
-Thu Feb 21 09:18:47 1991  David J. MacKenzie  (djm at geech.ai.mit.edu)
-
-	* glob.c: Don't declare bcopy if it is a macro.
-	Use BSD strings for NeXT.  Don't include memory.h on POSIX.
-
-Mon Feb 18 23:41:20 1991  David J. MacKenzie  (djm at geech.ai.mit.edu)
-
-	* glob.c: Add special code for bash, #ifdef SHELL.
-	(glob_pattern_p): Only recognize `[' as a metacharacter if
-	there is a matching `]', for POSIX.2. (from bfox)
-
-Mon Jan 28 00:30:39 1991  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* crt0.c [m68k]: Add conditionals for sun_68881, sun_fpa, sun_soft.
-
-Sun Jan 27 15:18:26 1991  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* getopt.c (bcopy): Don't declare it if it's a macro.
-
-Thu Jan 24 22:16:14 1991  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* regex.c (re_compile_pattern): Don't translate chars in char set
-	until the time the bits are set for them.
-
-Sat Dec 15 18:36:50 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* filemode.c: Define each S_ISFOO function if not defined by
-	sys/stat.h.
-
-Sat Dec 15 15:10:14 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.h (obstack_init): Cast the chunk alloc function.
-	(obstack_begin): Likewise.
-
-Thu Dec 13 17:58:07 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.h: At all calls to _obstack_newchunk,
-	enclose in (..., 0), so that both alternatives are ints.
-
-Thu Dec  6 11:39:11 EST 1990 Jay Fenlason (hack@ai.mit.edu)
-
-	* getdate.y:  Add support for 'date' style yymmddhhss dates.
-
-Mon Dec  3 14:09:40 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.h:
-	At all calls to _obstack_newchunk, cast the other alternative to void.
-
-Sat Dec  2 21:56:25 1990  Roland McGrath  (roland at albert.ai.mit.edu)
-
-	* a.out.gnu.h (N_COMM): Define this.
-
-Thu Nov 30 00:04:35 1990  Roland McGrath  (roland at geech.ai.mit.edu)
-
-	* a.out.gnu.h (_N_HDROFF): Use SEGMENT_SIZE rather than a hard-coded
-	1024.  What moron did this??
-
-Wed Nov 29 17:41:09 1990  Roland McGrath  (roland at albert.ai.mit.edu)
-
-	* a.out.gnu.h [vax, hp300, pyr] (SEGMENT_SIZE): Define as PAGE_SIZE,
-	not page_size.
-
-Wed Nov 14 00:35:16 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* regex.c (SIGN_EXTEND_CHAR): If UNSIGNED_CHAR is defined, use
-	an alternate definition (suggested in the GNU grep README).
-
-Thu Nov  8 12:08:52 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* filemode.c (ftypelet): Pass a mode_t instead of unsigned
-	short, so it works on Evans' Minix.  If _POSIX_SOURCE is not
-	defined, define mode_t as unsigned short.  Define S_ISTYPE
-	macros if needed.  Use them.
-
-	* modechange.c: Use S_ISDIR.  Define if needed.
-
-Fri Oct 26 16:50:01 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.c (_obstack_newchunk): If old_chunk becomes empty, free it.
-
-Mon Oct 15 13:50:17 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.h (obstack_free): In non-GNU C case, don't use
-	value of _obstack_free.
-
-Sun Oct 14 18:51:51 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* crt0.c (new hp assembler): Double flag_fpa and flag_68881 if %d2!=0.
-
-	* alloca.s [MOTOROLA_DELTA]: Avoid putting sp above stack top.
-
-Mon Oct  1 16:20:02 EDT 1990	Jay Fenlason (hack@ai.mit.edu)
-
-	* obstack.h  Declare _obstack_free and _obstack_begin as void instead
-	of int.  Otherwise, GCC won't let you compile obstack.c
-
-Fri Sep 28 23:53:28 1990  Richard Stallman  (rms at mole.ai.mit.edu)
-
-	* obstack.h: Declare the functions we use from obstack.c.
-	(obstack_blank): In both definitions, rearrange pointer math to avoid
-	pointing past end of allocated memory.
-
-Wed Sep 19 21:09:26 1990  Richard Kenner  (kenner at vlsi1.ultra.nyu.edu)
-
-	* obstack.h (obstack_int_grow): In non-GCC case, don't try to
-	post-increment a cast.
-
-Mon Sep  3 22:18:38 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* error.c [DOPRNT_MISSING]: Pass args as a fixed number of
-	`char *'.
-
-Sun Sep  2 20:51:02 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* regex.c: Use standard string functions if STDC_HEADERS is
-	defined.
-
-Fri Aug 31 06:59:47 1990  Jim Kingdon  (kingdon at albert.ai.mit.edu)
-
-	* getopt1.c (getopt_long{,_only}): If opt_index is NULL, don't
-	try to store into *opt_index.
-
-Tue Aug 28 18:45:16 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* regex.c: Include some system header files if appropriate.
-
-Wed Aug 15 14:38:15 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* regex.c: Define isgraph if ctype.h doesn't (as on Sequents).
-
-Sun Aug 12 00:20:19 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* getopt.c (getopt): If optstring starts with '+', don't
-	permute; this is for utilities like time, nice, xargs, and
-	env, which don't want to mix up their options with those of
-	the programs they run, but don't want to turn off permuting
-	for those programs by setting _POSIX_OPTION_ORDER.
-
-Fri Aug  3 14:25:35 1990  David J. MacKenzie  (djm at pogo.ai.mit.edu)
-
-	* getopt.c (main), getopt1.c (main): Read option chars into an
-	int, not a char.
-
-	* getopt.c (getopt): Increment `optind' after finding
-	unrecognized or ambiguous long named option.
-
-Thu Jul  5 09:50:25 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* getopt.c: If long option's `flag' field is zero, return the
-	contents of the `val' field.
-
-Fri Jun 29 01:30:22 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* getopt.h: Mention in comment how to handle long options that
-	don't just store a constant in an int.
-
-Mon Jun 25 18:15:46 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* filemode.c (ftypelet): Distinguish between regular files and
-	unknown file types using '-' and '?'.
-
-Sat Jun 16 11:18:26 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* getopt.c: If STDC_HEADERS or __GNU_LIBRARY__ is defined,
-	include ANSI C header files.
-
-Thu Jun 14 13:21:42 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* glob.c (glob_match): Eliminate '^' as a character class
-	negator, leaving just the POSIX '!'.
-
-Thu Jun  7 01:01:40 1990  Roland McGrath  (mcgrath at paris.Berkeley.EDU)
-
-	* glob.c: __GNU_LIBRARY__ implies DIRENT and STDC_HEADERS.
-
-Thu Jun  7 03:45:33 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* glob.c: Use <dirent.h> if DIRENT is defined, not _POSIX_SOURCE.
-
-Wed Jun  6 00:05:03 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* glob.c (glob_filename): Remove tilde expansion code.
-
-Tue Jun  5 00:35:48 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* error.c: Use VPRINTF_MISSING instead of VPRINTF to control
-	use of _doprnt.
-	(error): Use strerror.
-	(strerror) [!STDC_HEADERS]: New function.
-
-	* glob.c: Optionally support POSIX and STDC headers.
-	(glob_filename): Make tilde expansion work for patterns
-	containing subdirectories.
-
-Mon Jun  4 16:31:40 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* glob.c (glob_match): Allow '!' as well as '^' to negate
-	character classes.  Check for end of filename when comparing
-	with char class.  Check for end of pattern after backslash in
-	character class.
-	(glob_vector): Only calculate D_NAMLEN once, for efficiency.
-	Don't allocate name_vector if a previous malloc failed.
-	(glob_dir_to_array): Make string copying more efficient.
-	(glob_filename): directory_size was off by 1.
-	Reallocation of result had '1' instead of 'l'.
-
-Thu May 31 01:45:16 1990  David J. MacKenzie  (djm at apple-gunkies)
-
-	* glob.c: Reformat to resemble the bash version more.
-
-	* filemode.c: If _POSIX_SOURCE is defined, use POSIX macro
-	names for mode bits.
-
-Sat May 19 15:17:42 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* filemode.c (mode_string): New function.
-	(filemodestring): Reimplement in terms of mode_string.
-	(ftypelet): Take an unsigned short instead of a struct stat *.
-	Fix up comments.
-
-Thu May 10 12:57:11 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* error.c: If __STDC__, use stdarg instead of varargs.
-
-Tue May  1 16:07:32 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* alloca.s [hp9000s300]: Avoid using sp as temporary.
-
-Fri Apr 20 16:58:24 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* obstack.c, obstack.h (obstack_free): Use >, not >=, to compare
-	object with chunk address.
-
-Mon Apr  9 15:11:22 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* a.out.encap.h: Protect against multiple inclusion.
-
-Fri Apr  6 23:27:46 1990  Jim Kingdon  (kingdon at apple-gunkies.ai.mit.edu)
-
-	* a.out.gnu.h (enum machine_type): Put missing comma after M_SPARC.
-
-Mon Apr  2 04:49:18 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* malloc.c: Make get_lim_data always "static void" regardless
-	of #ifdefs.  Declare it before using it.
-
-Mon Mar 26 00:36:52 1990  David J. MacKenzie  (djm at spike.ai.mit.edu)
-
-	* getopt.c (getopt): For long-named options that take optional
-	args, never use the next argv-element as an arg; args for
-	these must be part of the same argv-element, separated from
-	the option name by a '='.  This makes them consistent with how
-	short-named options with optional args are handled.
-
-	* getopt.h, getopt.c, getopt1.c: Add some const declarations
-	if __STDC__.
-
-Sun Mar  4 12:11:31 1990  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.h: Added syntax bit RE_NO_EMPTY_RANGES which is set if
-        an ending range point has to collate higher or equal to the
-        starting range point.
-        Added syntax bit RE_NO_HYPHEN_RANGE_END which is set if a hyphen
-        can't be an ending range point.
-        Set to two above bits in RE_SYNTAX_POSIX_BASIC and
-        RE_SYNTAX_POSIX_EXTENDED.
-
-        regex.c: (re_compile_pattern): Don't allow empty ranges if the
-        RE_NO_EMPTY_RANGES syntax bit is set.
-        Don't let a hyphen be a range end if the RE_NO_HYPHEN_RANGE_END
-	syntax bit is set.
-	(ESTACK_PUSH_2): renamed this PUSH_FAILURE_POINT and made it
-        push all the used registers on the stack, as well as the number
-        of the highest numbered register used, and (as before) the two
-        failure points.
-	(re_match_2): Fixed up comments.
-        Added arrays best_regstart[], best_regstart_seg1[], best_regend[],
-        and best_regend_seg1[] to keep track of the best match so far
-        whenever reach the end of the pattern but not the end of the
-        string, and there are still failure points on the stack with
-        which to backtrack; if so, do the saving and force a fail.
-	If reach the end of the pattern but not the end of the string,
-        but there are no more failure points to try, restore the best
-        match so far, set the registers and return.
-	Compacted some code.
-	In stop_memory case, if the subexpression we've just left is in
-        a loop, push onto the stack the loop's on_failure_jump failure
-        point along with the current pointer into the string (d).
-        In finalize_jump case, in addition to popping the failure
-        points, pop the saved registers.
-	In the fail case, restore the registers, as well as the failure
-        points.
-
-
-Sun Feb 18 15:08:10 1990  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.c: (global): Defined a macro GET_BUFFER_SPACE which
-	makes sure you have a specified number of buffer bytes
-        allocated.
-        Redefined the macro BUFPUSH to use this.
-        Added comments.
-
-        (re_compile_pattern): Call GET_BUFFER_SPACE before storing or
-        inserting any jumps.
-
-	(re_match_2): Set d to string1 + pos and dend to end_match_1
-        only if string1 isn't null.
-	Force exit from a loop if it's around empty parentheses.
-        In stop_memory case, if found some jumps, increment p2 before
-        extracting address to which to jump. Also, don't need to know
-        how many more times can jump_n.
-	In begline case, d must equal string1 or string2, in that order,
-        only if they are not null.
-        In maybe_finalize_jump case, skip over start_memorys' and
-        stop_memorys' register numbers, too.
-
-Thu Feb 15 15:53:55 1990  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.c (BUFPUSH): off by one goof in deciding whether to
-	EXTEND_BUFFER.
-
-Wed Jan 24 17:07:46 1990  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.h: Moved definition of NULL to here.
-	Got rid of ``In other words...'' comment.
-	Added to some comments.
-
-	regex.c: (re_compile_pattern): Tried to bulletproof some code,
-        i.e., checked if backward references (e.g., p[-1]) were within
-        the range of pattern.
-
-        (re_compile_fastmap): Fixed a bug in succeed_n part where was
-        getting the amount to jump instead of how many times to jump.
-
-        (re_search_2): Changed the name of the variable ``total'' to
-        ``total_size.''
-        Condensed some code.
-
-	(re_match_2): Moved the comment about duplicate from above the
-        start_memory case to above duplicate case.
-
-        (global): Rewrote some comments.
-        Added commandline arguments to testing.
-
-
-Wed Jan 17 11:47:27 1990  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.c: (global): Defined a macro STORE_NUMBER which stores a
-        number into two contiguous bytes.  Also defined STORE_NUMBER_AND_INCR
-	which does the same thing and then increments the pointer to the
-	storage place to point after the number.
-        Defined a macro EXTRACT_NUMBER which extracts a number from two
-        continguous bytes.  Also defined EXTRACT_NUMBER_AND_INCR which
-        does the same thing and then increments the pointer to the
-        source to point to after where the number was.
-
-
-Tue Jan 16 12:09:19 1990  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.h: Incorporated rms' changes.
-	Defined RE_NO_BK_REFS syntax bit which is set when want to
-        interpret back reference patterns as literals.
-        Defined RE_NO_EMPTY_BRACKETS syntax bit which is set when want
-        empty bracket expressions to be illegal.
-        Defined RE_CONTEXTUAL_ILLEGAL_OPS syntax bit which is set when want
-	it to be illegal for *, +, ? and { to be first in an re or come
-        immediately after a | or a (, and for ^ not to appear in a
-        nonleading position and $ in a nontrailing position (outside of
-        bracket expressions, that is).
-        Defined RE_LIMITED_OPS syntax bit which is set when want +, ?
-        and | to always be literals instead of ops.
-        Fixed up the Posix syntax.
-        Changed the syntax bit comments from saying, e.g., ``0 means...''
-        to ``If this bit is set, it means...''.
-        Changed the syntax bit defines to use shifts instead of integers.
-
-        * regex.c: (global): Incorporated rms' changes.
-
-        (re_compile_pattern): Incorporated rms' changes
-        Made it illegal for a $ to appear anywhere but inside a bracket
-        expression or at the end of an re when RE_CONTEXTUAL_ILLEGAL_OPS
-        is set. Made the same hold for $ except it has to be at the
-        beginning of an re instead of the end.
-	Made the re "[]" illegal if RE_NO_EMPTY_BRACKETS is set.
-        Made it illegal for | to be first or last in an re, or immediately
-        follow another | or a (.
-        Added and embellished some comments.
-	Allowed \{ to be interpreted as a literal if RE_NO_BK_CURLY_BRACES
-        is set.
-        Made it illegal for *, +, ?, and { to appear first in an re, or
-        immediately follow a | or a ( when RE_CONTEXTUAL_ILLEGAL_OPS is set.
-	Made back references interpreted as literals if RE_NO_BK_REFS is set.
-        Made recursive intervals either illegal (if RE_NO_BK_CURLY_BRACES
-        isn't set) or interpreted as literals (if is set), if RE_INTERVALS
-        is set.
-	Made it treat +, ? and | as literals if RE_LIMITED_OPS is set.
-        Cleaned up some code.
-
-
-Thu Dec 21 15:31:32 1989  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.c: (global): Moved RE_DUP_MAX to regex.h and made it
-	equal 2^15 - 1 instead of 1000.
-        Defined NULL to be zero.
-        Moved the definition of BYTEWIDTH to regex.h.
-        Made the global  variable obscure_syntax nonstatic so the tests in
-        another file could use it.
-
-        (re_compile_pattern): Defined a maximum length (CHAR_CLASS_MAX_LENGTH)
-        for character class strings (i.e., what's between the [: and the
-        :]'s).
-	Defined a macro SET_LIST_BIT(c) which sets the bit for C in a
-        character set list.
-        Took out comments that EXTEND_BUFFER clobbers C.
-        Made the string "^" match itself, if not RE_CONTEXT_IND_OPS.
-	Added character classes to bracket expressions.
-        Change the laststart pointer saved with the start of each
-        subexpression to point to start_memory instead of after the
-        following register number.  This is because the subexpression
-        might be in a loop.
-        Added comments and compacted some code.
-	Made intervals only work if preceded by an re matching a single
-        character or a subexpression.
-        Made back references to nonexistent subexpressions illegal if
-        using POSIX syntax.
-	Made intervals work on the last preceding character of a
-        concatenation of characters, e.g., ab{0,} matches abbb, not abab.
-	Moved macro PREFETCH to outside the routine.
-
-	(re_compile_fastmap): Added succeed_n to work analogously to
-        on_failure_jump if n is zero and jump_n to work analogously to
-        the other backward jumps.
-
-        (re_match_2): Defined macro SET_REGS_MATCHED to set which
-        current subexpressions had matches within them.
-        Changed some comments.
-	Added reg_active and reg_matched_something arrays to keep track
-        of in which subexpressions currently have matched something.
-        Defined MATCHING_IN_FIRST_STRING and replaced ``dend == end_match_1''
-        with it to make code easier to understand.
-	Fixed so can apply * and intervals to arbitrarily nested
-        subexpressions.  (Lots of previous bugs here.)
-	Changed so won't match a newline if syntax bit RE_DOT_NOT_NULL is set.
-        Made the upcase array nonstatic so the testing file could use it also.
-
-        (main.c): Moved the tests out to another file.
-
-	(tests.c): Moved all the testing stuff here.
-
-
-Sat Nov 18 19:30:30 1989  Kathy Hargreaves  (kathy at hayley)
-
-        * regex.c: (re_compile_pattern): Defined RE_DUP_MAX, the maximum
-        number of times an interval can match a pattern.
-        Added macro GET_UNSIGNED_NUMBER (used to get below):
-        Added variables lower_bound and upper_bound for upper and lower
-        bounds of intervals.
-        Added variable num_fetches so intervals could do backtracking.
-	Added code to handle '{' and "\{" and intervals.
-	Added to comments.
-
-        (store_jump_n): (Added) Stores a jump with a number following the
-        relative address (for intervals).
-
-        (insert_jump_n): (Added) Inserts a jump_n.
-
-        (re_match_2): Defined a macro ESTACK_PUSH_2 for the error stack;
-        it checks for overflow and reallocates if necessary.
-
-	* regex.h: Added bits (RE_INTERVALS and RE_NO_BK_CURLY_BRACES)
-	to obscure syntax to indicate whether or not
-	a syntax handles intervals and recognizes either \{ and
-	\} or { and } as operators.  Also added two syntaxes
-	RE_SYNTAX_POSIX_BASIC and RE_POSIX_EXTENDED and two command codes
-        to the enumeration regexpcode; they are succeed_n and jump_n.
-
-
-Sat Nov 18 19:30:30 1989  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.c: (re_compile_pattern): Defined INIT_BUFF_SIZE to get rid
-        of repeated constants in code.  Tested with value 1.
-	Renamed PATPUSH as BUFPUSH, since it pushes things onto the
-        buffer, not the pattern.  Also made this macro extend the buffer
-        if it's full (so could do the following):
-        Took out code at top of loop that checks to see if buffer is going
-        to be full after 10 additions (and reallocates if necessary).
-
-        (insert_jump): Rearranged declaration lines so comments would read
-        better.
-
-	(re_match_2): Compacted exactn code and added more comments.
-
-	(main): Defined macros TEST_MATCH and MATCH_SELF to do
-        testing; took out loop so could use these instead.
-
-
-Tue Oct 24 20:57:18 1989  Kathy Hargreaves  (kathy at hayley)
-
-	* regex.c (re_set_syntax): Gave argument `syntax' a type.
-        (store_jump, insert_jump): made them void functions.
-
-Tue Mar  6 23:29:26 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* signame.c (sig_number): Return -1 if not found.
-
-Fri Mar  2 16:32:20 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* signame.h [!__STDC__]: Remove comments cuz they're in [__STDC__].
-	signame.{c,h}: Make sig_abbrev return char *, not const char *.
-
-Thu Mar  1 14:10:32 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* getopt.c (getopt): If _getopt_long_only, for options that
-	start with '-' and are not a valid long-named option, only
-	interpret them as short options if the first letter is a valid
-	short option.  Otherwise the error message would be printed
-	naming the short option letter instead of the whole option, and
-	if, for example, there is a 'T' long option, '-Tfoo' would print
-	"prog: invalid option `-T'" (which is wrong).
-
-Wed Feb 28 19:38:49 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* signame.h: Use ANSI C prototypes ifdef __STDC__.
-	* signame.c: Add const declarations ifdef __STDC__.
-
-Wed Feb 28 19:06:36 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* signame.c (SIGPWR): Change name to "Power failure".
-
-Wed Feb 28 18:46:36 1990  David J. MacKenzie  (djm at albert.ai.mit.edu)
-
-	* getopt.h: ifdef out decl of _getopt_option_name.
-
-Wed Feb 28 15:05:54 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* getopt.c (getopt): Change typo (optstr -> optstring).
-
-	* getopt.c: Remove all _getopt_option_name stuff.
-	If RETURN_IN_ORDER, return one, not zero, to distinguish between
-	this and a long option.
-
-	* signame.{c,h}: New files.
-
-Tue Feb 27 13:32:45 1990  David J. MacKenzie  (djm at rice-chex)
-
-	* getopt.c (getopt): In RETURN_IN_ORDER mode, set
-	_getopt_option_name to zero when returning a non-option arg in
-	optarg, to distinguish it from getting a long-named option
-	that takes an arg.
-	Print the correct option-introducing character (can be
-	either `+' or `-') in error messages for long-named options.
-	If _getopt_long_only is nonzero, no long options match an
-	option arg that starts with a dash, and there are valid short
-	options, try matching the arg against the short options.
-
-Thu Feb 22 19:50:49 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* obstack.c (_obstack_begin): Use slightly smaller default size
-	so that it still fits in one block if malloc range checking is
-	in use.
-
-Mon Feb 19 15:41:14 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* getopt1.c (getopt_long_only): New function.
-	getopt.h: Declare getopt_long_only and _getopt_long_only.
-	getopt.c: Define _getopt_long_only.
-	(getopt): If _getopt_long_only, accept '-' as well as '+' to start
-	long option.
-
-Sat Feb  3 16:28:00 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* alloca.s [MOTOROLA_DELTA]: New alternative for 68k.
-
-Sun Jan 28 22:29:17 1990  David J. MacKenzie  (djm at hobbes.ai.mit.edu)
-
-	* getopt1.c (main): Fix bug that prevented the first long
-	option from being recognized.
-
-	* getopt.c: Move comment on the return value for long-named
-	options to a more appropriate place.
-
-Wed Jan 24 19:11:27 1990  David J. MacKenzie  (djm at hobbes.ai.mit.edu)
-
-	* glob.c (glob_filename): Change '==' to '=' in what was
-	clearly supposed to be an assignment statement.
-
-Mon Jan 22 18:14:40 1990  David J. MacKenzie  (djm at rice-chex)
-
-	* regcmp.c (regcmp): Allocate whole return value with one call
-	to malloc, so freeing the buffer works the same way as it does
-	on System V.
-
-Tue Jan 16 22:17:03 1990  Jim Kingdon  (kingdon at pogo.ai.mit.edu)
-
-	* a.out.gnu.h [hp300, pyr]: Define SEGMENT_SIZE to be page_size
-
-Wed Jan 10 06:57:10 1990  David J. MacKenzie  (djm at hobbes.ai.mit.edu)
-
-	* glob.c: Use <sys/ndir.h> if SYSNDIR is defined (some Xenix
-	systems need this).
-
-Mon Jan  8 12:33:55 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.c (re_compile_pattern): Add missing break in prev change.
-
-Mon Jan  1 12:16:56 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.c (re_compile_pattern): Ignore \<, etc., checking
-	context of $.
-
-Mon Dec 25 12:00:16 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* obstack.h (obstack_object_size, obstack_room): Eliminate _obstack.
-
-Sat Dec 23 16:20:13 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.c (re_compile_fastmap): Put back deleted local k.
-
-Wed Dec 20 02:03:43 1989  David J. MacKenzie  (djm at hobbes.ai.mit.edu)
-
-	* getopt.h: Add function decls/prototypes for getopt and
-	getopt_long.
-
-	* getopt.c: Bring some comments up to date with the code.
-
-Tue Dec 19 03:12:48 1989  David J. MacKenzie  (djm at hobbes.ai.mit.edu)
-
-	* regex.h: Add function prototypes if __STDC__ is defined.
-
-	* regex.c: Declare some external functions if emacs is not
-	defined.  Add a few casts.
-	(re_compile_fastmap): Remove unused variable.
-
-Mon Dec 18 14:12:53 1989  David J. MacKenzie  (djm at hobbes.ai.mit.edu)
-
-	* getopt.c: Declare some external functions.
-
-Mon Nov 20 19:57:00 1989  Jim Kingdon  (kingdon at hobbes.ai.mit.edu)
-
-	* a.out.gnu.h: Wrap N_MAGIC in #ifndef...#endif.
-
-Fri Nov 17 03:12:28 1989  Jim Kingdon  (kingdon at hobbes.ai.mit.edu)
-
-	* a.out.gnu.h: Wrap many things in #ifndef...#endif so file
-	can be used in addition to a system-supplied a.out.h.
-
-Tue Oct 31 17:03:06 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* getopt1.c (getopt_long): Delete mistaken test for index == 0.
-
-Wed Oct 25 17:50:51 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* getopt.c (getopt): Set option_index properly for long options.
-
-Tue Oct 24 23:41:06 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* getopt1.c (main): Fix initializers.
-
-	* getopt.c (getopt): Was off by 1, checking for missing arg
-	for long option.
-
-Wed Oct 18 13:15:18 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* getopt.c: Improve comments and an error message.
-	Don't initialize most variables, for the sake of unexec.
-
-Tue Oct 17 03:06:14 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* getopt.c (getopt): Uniformly don't recognize `+' as option
-	if program doesn't use long options.
-
-	* getopt.c (getopt): Complain about ambiguous option abbreviations.
-	But accept any exact match even if ambiguous.
-
-	* getopt.c (getopt): Report error for unrecognized long options.
-
-Sat Sep 30 14:47:29 1989  Jim Kingdon  (kingdon at hobbes.ai.mit.edu)
-
-	* malloc.c: "#else rcheck" -> "#else /* rcheck */".
-
-Tue Sep 19 19:00:58 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.h: Define RE_SYNTAX_POSIX_AWK.
-
-Sun Sep 17 15:20:46 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.h: Last change in RE_SYNTAX_AWK broke RE_SYNTAX_EGREP.
-
-Sat Sep 16 01:53:53 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.c (re_search_2): Stupid error propagating return code -2.
-
-Tue Sep 12 13:50:05 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* crt0.c [ISI68K]: Reinstall label __start.
-
-Tue Sep  5 15:43:24 1989  Jim Kingdon  (kingdon at hobbes.ai.mit.edu)
-
-	* malloc.c: Define USG if hpux defined.
-
-Mon Aug 28 17:50:27 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.c (re_compile_pattern): With RE_AWK_CLASS_HACK, \ quotes
-	all characters inside [...].
-
-Sat Aug 26 00:20:26 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
-
-	* regex.h: Define RE_AWK_CLASS_HACK and change RE_SYNTAX_AWK.
-	* regex.c (re_compile_pattern): Change syntax of \ inside [...]
-	when RE_AWK_CLASS_HACK is set.
-
-	* regex.c (re_match_2): Declare strings to search as char *,
-	and cast inside the function.
-
-Sat Aug 19 14:55:19 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
-
-	* regex.c (EXTEND_BUFFER): Don't clobber c; do pointer arith
-	to update b in portable fashion.
-
-Thu Aug 17 15:56:36 1989  Joseph Arceneaux  (jla at spiff)
-
-	* regex.c (EXTEND_BUFFER): Set c to bufp->buffer - old_buffer.
-
-Sun Aug 13 15:21:02 1989  Richard Stallman  (rms at hobbes.ai.mit.edu)
-
-	* obstack.h: Typos in comments.
-
-Sun Jul 30 20:24:52 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* obstack.c (_obstack_newchunk): Never copy bytes past the end
-	of the object.  Copy by COPYING_UNIT only for complete units
-	that fit in the object; then copy remaining bytes singly.
-	If obstack has less than the default alignment,
-	copy all bytes singly.
-
-Thu Jul 20 01:51:56 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* crt0.c: Delete spaces at ends of lines.
-	[ISI68K]: Unconditionally enclose asms in function `_start'.
-	Delete assembler definition of that function.
-	Use a6, not fp, as register name.
-
-Sun Jul 16 16:32:52 1989  Jim Kingdon  (kingdon at hobbes.ai.mit.edu)
-
-	* a.out.encap.h: Remove #ifdef ALTOS code because according to
-	Jyrki Kuoppala <jkp@sauna.hut.fi> it doesn't do what he put it
-	in to do (which was work around a kernel bug).
-
-Thu Jun 29 19:59:16 1989  Randall Smith  (randy at apple-gunkies.ai.mit.edu)
-
-	* malloc.c (valloc): Changed to be conditionalized on ! hpux
-	instead of ! HPUX (hpux this is generated by the OS).
-
-Tue Jun 20 21:14:57 1989  Roland McGrath  (roland at hobbes.ai.mit.edu)
-
-	* Makefile: include ../Makerules.
-	Added .y->.tab.c implicit rule and rule to make unctime.tab.o.
-	Use $(archpfx) in front of object files.
-	Made some rules use $({LINK,COMPILE}.?) instead of $(CC), etc.
-
-Sat Jun 17 14:22:53 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* regex.h (struct re_pattern_buffer): Make ALLOCATED and USED long.
-	* regex.c (EXTEND_BUFFER): Use long constants to compare with them.
-	Move assignment outside if-condition.
-	Do pointer relocation arithmetic in strictly correct order.
-
-Sat Jun 10 00:26:01 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* glob.c [USG]: Define rindex; declare getpwent, etc.
-
-Wed Jun  7 22:36:51 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* alloca.s [hp9000s300]: Increase MAXREG for fpregs.
-
-	* crt0.c: For new hp assembler, define float_loc as fixed location.
-
-Wed May 31 17:51:41 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* a.out.gnu.h: Define SEGMENT_SIZE for Altos.
-
-Mon May 22 17:59:17 1989  Roland McGrath  (mcgrath at tully.Berkeley.EDU)
-
-	* glob.c: Several changes for USG compatibility, etc. that have been
-	in the version distributed with Make for a while.
-	Today added new variable glob_tilde which makes glob_filename expand
-	~ or ~USER, and made glob_filename, when given a directory with the
-	file name pattern, return the directory alone.
-
-Wed May 17 16:45:36 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* getopt.c (getopt): Add feature for long-named options;
-	starting with `+'.
-
-Mon May  8 17:21:40 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* crt0.c [sps7]: Handle mostly like orion, etc.
-
-Fri May  5 15:26:58 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* obstack.c (_obstack_free): If __STDC__, define this as well as
-	obstack_free.
-
-	* crt0.c [hp9000s300]: Give fixed address to fpa_loc, per cph.
-
-Tue May  2 14:42:26 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* crt0.c [hp9000s300]: Allocate fpa_loc and float_loc.
-
-Sun Apr 23 00:22:37 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* a.out.encap.h (COFF_MAGIC, SEGMENT_SIZE, N_DATADDR):
-	Alternate definitions if ALTOS or if m68k.
-
-	* getopt.c: If __GNUC__, use builtin alloca.
-	Define index if USG.
-
-Wed Apr 19 13:03:18 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* crt0.c [m68000]: Call finitfp_() if nec on Sun.
-
-Fri Apr  7 22:22:38 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* malloc.c: Rename BSD42 to BSD4_2, as in Emacs.
-	If `emacs', let config.h decide whether to define that.
-	(morecore): Change malloc_sbrk_used, etc., after error check.
-
-Thu Mar 23 18:21:56 1989  Randall Smith  (randy at apple-gunkies.ai.mit.edu)
-
-	* glob.c: Added new copyright notice.
-
-Thu Mar 16 16:56:54 1989  Randall Smith  (randy at gluteus.ai.mit.edu)
-
-	* malloc.c (malloc): Made sure that the MAGIC1 bytes written at
-	the end of the space were positioned with regard to the new
-	offset.
-
-Fri Mar 10 16:50:12 1989  Randall Smith  (randy at sugar-bombs.ai.mit.edu)
-
-	* malloc.c (realloc): Make sure that the start of the mhead is
-	found correctly even when sizeof (struct mhead) doesn't divide 8
-	properley.
-
-	* malloc.c (morecore): Added code to reset sigmask to correct
-	value on a "no-more-room" return.
-
-	* malloc.c (malloc, free, realloc): Leave 8 bytes of space, not 4,
-	before the actual data block.
-
-Fri Mar  3 10:52:14 1989  Randall Smith  (randy at apple-gunkies.ai.mit.edu)
-
-	* a.out.encap.h, stab.def: Modified to use new GNU General Public
-	License.
-
-Thu Mar  2 15:45:46 1989  Randall Smith  (randy at apple-gunkies.ai.mit.edu)
-
-	* a.out.gnu.h [nlist]: Made n_type an unsigned char (for compilers
-	where chars default to signed, which can screw up comparisons) and
-	made n_value an unsigned long.
-
-Wed Mar  1 13:04:25 1989  Randall Smith  (randy at apple-gunkies.ai.mit.edu)
-
-	* getopt.c: Changed copyright header to reflect new GNU General
-	public license.
-
-Fri Feb 24 13:00:21 1989  Randall Smith  (randy at gluteus.ai.mit.edu)
-
-	* regex.c, regex.h: Changed copyright header to reflect new GNU
-	General public license.
-
-Sun Feb 19 08:02:01 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
-
-	* getopt.c: If option argument is missing, return `?'.
-
-Fri Feb 10 13:31:05 1989  Randall Smith  (randy at plantaris.ai.mit.edu)
-
-	* stab.def: Changed comment on LSYM; also used for type
-	descriptions.
-
-Wed Feb  1 23:15:39 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* filemode.c (setst): Give `T' if sticky but not executable.
-
-Mon Jan  9 10:31:20 1989  Pace Willisson  (pace at prep.ai.mit.edu)
-
-	* a.out.gnu.h:  Change a_magic to a_info, and define macros
-	to access it.  Programs that refer to the magic number should
-	access it with N_MAGIC (exec), and set it with N_SET_MAGIC (exec,
-	val).  This is a step to having a header that is unambiguous
-	between big and little endian machines.
-
-	* a.out.encap.h: Use macros to access a_info fields.
-
-Wed Dec 28 18:58:53 1988  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* crt0.c (hp9000s300): Changes from Jinx: new flag `flag_fpa'
-	set with a subx.  d0 loaded from a0 and doubled before first subx.
-
-Tue Dec 20 22:13:49 1988  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
-
-	* a.out.gnu.h (N_DATADDR): Always define this if not already defined.
-	(SEGMENT_SIZE): Define this for the vax.
-
-Tue Dec 20 14:57:38 1988  Pace Willisson  (pace at prep.at.mit.edu)
-
-	* a.out.gnu.h: Changed exec header to have two bytes
-	(a_machtype and a_flags) instead of a_encap.  a_machtype
-	is the same as on modern sun systems; a_flags can have
-	machine specific flags.  (There may be some endian problems
-	here:  You would like to have the magic number be the
-	first two bytes in the file, and then the next two could
-	be these options.  It looks like the 68000 definitions
-	have to declare the options first to force this to happen.)
-	Defined M_386 for a_machtype.
-	Added definitions for N_DATOFF, N_TRELOFF, N_DRELOFF,
-	N_DATADDR, N_BSSADDR (which are present in sun release 4.0)
-
-	* a.out.encap.h: Defined A_ENCAP as an a_flags value.  Changed
-	uses of a_encap to a_flags & A_ENCAP
-
-Wed Dec  7 11:18:30 1988  Randall Smith  (randy at apple-gunkies.ai.mit.edu)
-
-	* malloc.c: Added functions malloc_mem_used and malloc_mem_free to
-	return total amount of space allocated to program, and total space
-	left in free pool before sbrk must be called.
-
-Tue Nov 22 13:05:25 1988  Randall Smith  (randy at cream-of-wheat.ai.mit.edu)
-
-	* glob.c: Incorporated some bug fixes and changes sent by Brian.
-	None of them look disasterous.
-
-Fri Oct 21 12:40:24 1988  Randall Smith  (randy at cream-of-wheat.ai.mit.edu)
-
-	* malloc.c (free): Added code (within #ifdef rcheck) to given
-	slightly more verbose warnings then an abort if free was called
-	with garbage.
-
-Local Variables:
-add-log-time-format: current-time-string
-mode: indented-text
-left-margin: 8
-version-control: never
-End:
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/arm.c gcc/gcc/config/arm/arm.c
--- gcc-2.95.2/gcc/config/arm/arm.c	1999-06-19 16:34:36.000000000 +1000
+++ gcc/gcc/config/arm/arm.c	2001-03-01 05:24:45.000000000 +1000
@@ -91,7 +91,12 @@
 
 /* Used to parse -mstructure_size_boundary command line option.  */
 const char * structure_size_string = NULL;
+
+#ifdef __QNXTARGET__
+int    arm_structure_size_boundary = 8;
+#else 
 int    arm_structure_size_boundary = 32; /* Used to be 8 */
+#endif
 
 /* Bit values used to identify processor capabilities.  */
 #define FL_CO_PROC    0x01            /* Has external co-processor bus */
@@ -1528,7 +1533,20 @@
       return gen_rtx_PLUS (Pmode, base, offset);
     }
   else if (GET_CODE (orig) == LABEL_REF)
-    current_function_uses_pic_offset_table = 1;
+    {
+      current_function_uses_pic_offset_table = 1;
+
+      if (NEED_PLT_GOT)
+	{
+	  rtx pic_ref, address = gen_reg_rtx (Pmode);
+	  
+	  emit_insn (gen_pic_load_addr (address, orig));
+	  pic_ref = gen_rtx_PLUS (Pmode, pic_offset_table_rtx,
+				  address);
+	  emit_move_insn (address, pic_ref);
+	  return address;
+	}
+    }
 
   return orig;
 }
@@ -5445,7 +5463,7 @@
   rtx           x;
 
   length = strlen (name);
-  alignlength = (length + 1) + 3 & ~3;
+  alignlength = ((length + 1) + 3) & ~3;
   
   ASM_OUTPUT_ASCII (stream, name, length + 1);
   ASM_OUTPUT_ALIGN (stream, 2);
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/arm.h gcc/gcc/config/arm/arm.h
--- gcc-2.95.2/gcc/config/arm/arm.h	1999-06-19 15:37:07.000000000 +1000
+++ gcc/gcc/config/arm/arm.h	2001-03-01 05:24:45.000000000 +1000
@@ -600,14 +600,20 @@
   (TREE_CODE (EXP) == STRING_CST        \
    && (ALIGN) < BITS_PER_WORD ? BITS_PER_WORD : (ALIGN))
 
+#ifndef STRUCTURE_SIZE_BOUNDARY
 /* Every structures size must be a multiple of 32 bits.  */
 /* This is for compatibility with ARMCC.  ARM SDT Reference Manual
    (ARM DUI 0020D) page 2-20 says "Structures are aligned on word
    boundaries".  */
-#ifndef STRUCTURE_SIZE_BOUNDARY
-#define STRUCTURE_SIZE_BOUNDARY 32
+/* Setting this to 32 produces more efficient code, but the value set in previous
+   versions of this toolchain was 8, which produces more compact structures. The
+   command line option -mstructure_size_boundary=<n> can be used to change this
+   value.  */
+#define STRUCTURE_SIZE_BOUNDARY arm_structure_size_boundary
 #endif
 
+extern int arm_structure_size_boundary;
+
 /* Used when parsing command line option -mstructure_size_boundary.  */
 extern const char * structure_size_string;
 
@@ -1378,8 +1384,10 @@
 
    On the ARM, allow any integer (invalid ones are removed later by insn
    patterns), nice doubles and symbol_refs which refer to the function's
-   constant pool XXX.  */
-#define LEGITIMATE_CONSTANT_P(X)	(! label_mentioned_p (X))
+   constant pool XXX.
+
+   When generating PIC code, allow anything.  */
+#define LEGITIMATE_CONSTANT_P(X)	(flag_pic || ! label_mentioned_p (X))
 
 /* Symbols in the text segment can be accessed without indirecting via the
    constant pool; it may take an extra binary operation, but this is still
@@ -1495,9 +1503,8 @@
 	      && INTVAL (op) <= 31)					\
 	    goto LABEL;							\
         }								\
-      /* NASTY: Since this limits the addressing of unsigned byte loads */      \
       range = ((MODE) == HImode || (MODE) == QImode)                    \
-              ? (arm_arch4 ? 256 : 4095) : 4096;                        \
+              ? (((MODE) == HImode && arm_arch4) ? 256 : 4095) : 4096;  \
       if (code == CONST_INT && INTVAL (INDEX) < range			\
 	  && INTVAL (INDEX) > -range)  	      				\
         goto LABEL;							\
@@ -1813,12 +1820,13 @@
 
 #define FINALIZE_PIC arm_finalize_pic ()
 
-/* We can't directly access anything that contains a symbol,
+/* We can't directly access anything that contains a symbol or label,
    nor can we indirect via the constant pool.  */
 #define LEGITIMATE_PIC_OPERAND_P(X)				\
-	(! symbol_mentioned_p (X)				\
+	(! symbol_mentioned_p (X) && ! label_mentioned_p (X)	\
 	 && (! CONSTANT_POOL_ADDRESS_P (X)			\
-	     || ! symbol_mentioned_p (get_pool_constant (X))))
+	     || (! symbol_mentioned_p (get_pool_constant (X)))  \
+		&& (! label_mentioned_p (get_pool_constant (X)))))
  
 /* We need to know when we are making a constant pool; this determines
    whether data needs to be in the GOT or can be referenced via a GOT
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/arm.md gcc/gcc/config/arm/arm.md
--- gcc-2.95.2/gcc/config/arm/arm.md	1999-06-02 16:43:14.000000000 +1000
+++ gcc/gcc/config/arm/arm.md	2001-03-01 05:24:45.000000000 +1000
@@ -2627,7 +2627,8 @@
 			   : preserve_subexpressions_p ()));
       DONE;
     }
-  if (CONSTANT_P (operands[1]) && flag_pic)
+  if ((CONSTANT_P (operands[1]) || symbol_mentioned_p (operands[1])
+        || label_mentioned_p (operands[1])) && flag_pic)
     operands[1] = legitimize_pic_address (operands[1], SImode,
 					  ((reload_in_progress
 					    || reload_completed)
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/elf.h gcc/gcc/config/arm/elf.h
--- gcc-2.95.2/gcc/config/arm/elf.h	1999-05-31 18:21:53.000000000 +1000
+++ gcc/gcc/config/arm/elf.h	2001-03-01 05:24:46.000000000 +1000
@@ -167,15 +167,6 @@
 #define MULTILIB_DEFAULTS { "mlittle-endian", "msoft-float", "mapcs-32", "mno-thumb-interwork" }
 #endif
 
-/* Setting this to 32 produces more efficient code, but the value set in previous
-   versions of this toolchain was 8, which produces more compact structures. The
-   command line option -mstructure_size_boundary=<n> can be used to change this
-   value.  */
-#undef  STRUCTURE_SIZE_BOUNDARY
-#define STRUCTURE_SIZE_BOUNDARY arm_structure_size_boundary
-
-extern int arm_structure_size_boundary;
-
 /* A C expression whose value is nonzero if IDENTIFIER with arguments ARGS
    is a valid machine specific attribute for DECL.
    The attributes in ATTRIBUTES have previously been assigned to DECL.  */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/lib1funcs.asm gcc/gcc/config/arm/lib1funcs.asm
--- gcc-2.95.2/gcc/config/arm/lib1funcs.asm	1999-04-07 23:53:02.000000000 +1000
+++ gcc/gcc/config/arm/lib1funcs.asm	2001-03-01 05:24:46.000000000 +1000
@@ -61,10 +61,16 @@
 #define TYPE(x) .type SYM(x),function
 #define SIZE(x) .size SYM(x), . - SYM(x)
 #else
+#ifdef __PIC__
+#define __PLT__ (PLT)
+#define TYPE(x) .type SYM(x),function
+#define SIZE(x) .size SYM(x), . - SYM(x)
+#else
 #define __PLT__
 #define TYPE(x)
 #define SIZE(x)
 #endif
+#endif
 
 #ifdef L_udivsi3
 
@@ -455,6 +461,20 @@
 	
 #endif /* L_dvmd_lnx */
 
+#ifdef L_dvmd_nto
+@ GNU/nto division-by zero handler.  Used in place of L_dvmd_tls
+
+    .globl  SYM (__div0)
+    TYPE    (__div0)
+    .align 0
+SYM (__div0):
+	ldr		lr, [sp], #4
+	.word	0xe7fffffe
+	RET pc, lr
+    SIZE    (__div0)
+
+#endif /* L_dvmd_nto */
+
 /* These next two sections are here despite the fact that they contain Thumb 
    assembler because their presence allows interworked code to be linked even
    when the GCC library is this one.  */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/linux-elf26.h gcc/gcc/config/arm/linux-elf26.h
--- gcc-2.95.2/gcc/config/arm/linux-elf26.h	1998-12-17 07:01:40.000000000 +1000
+++ gcc/gcc/config/arm/linux-elf26.h	2001-03-01 05:24:46.000000000 +1000
@@ -1,6 +1,7 @@
-/* Definitions for 26-bit ARM running Linux-based GNU systems using ELF
-   Copyright (C) 1998 Free Software Foundation, Inc.
-   Contributed by Philip Blundell <philb@gnu.org>
+/* Definitions for ARM running Linux-based GNU systems 
+   using ELF and 26-bit APCS.
+   Copyright (C) 1999 Free Software Foundation, Inc.
+   Contributed by Philip Blundell <Philip.Blundell@pobox.com>
 
 This file is part of GNU CC.
 
@@ -19,14 +20,5 @@
 the Free Software Foundation, 59 Temple Place - Suite 330,
 Boston, MA 02111-1307, USA.  */
 
+/* Tell linux-elf.h to default to 26-bit mode.  */
 #define SUBTARGET_DEFAULT_APCS26
-
-#define SUBTARGET_LINK_SPEC	\
-	" %{mapcs-32:-m elf32arm} %{!mapcs-32:-m elf32arm26}"
-
-#define SUBTARGET_EXTRA_ASM_SPEC	\
-	" %{mapcs-32:-mapcs-32} %(!mapcs-32:-mapcs-26}"
-
-#define TARGET_DEFAULT (ARM_FLAG_SHORT_BYTE)
-
-#include "arm/linux-elf.h"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/linux-elf.h gcc/gcc/config/arm/linux-elf.h
--- gcc-2.95.2/gcc/config/arm/linux-elf.h	1999-09-15 19:09:04.000000000 +1000
+++ gcc/gcc/config/arm/linux-elf.h	2001-03-01 05:24:46.000000000 +1000
@@ -28,13 +28,34 @@
 /* We have libgcc2.  */
 #define HAVE_ATEXIT
 
-/* Default is to use APCS-32 mode.  */
 #ifndef SUBTARGET_DEFAULT_APCS26
-#define TARGET_DEFAULT (ARM_FLAG_APCS_32 | ARM_FLAG_SHORT_BYTE)
-#define SUBTARGET_EXTRA_LINK_SPEC	\
+/* Default is to use APCS-32 mode.  */
+# define TARGET_DEFAULT (ARM_FLAG_APCS_32 | ARM_FLAG_SHORT_BYTE)
+# ifdef SUBTARGET_OLD_LINKER
+#  define SUBTARGET_EXTRA_LINK_SPEC	\
 	" %{mapcs-26:-m elf32arm26} %{!mapcs-26:-m elf32arm}"
-#define SUBTARGET_EXTRA_ASM_SPEC	\
+# else	/* new linker */
+#  define SUBTARGET_EXTRA_LINK_SPEC	\
+	" %{mapcs-26:-m armelf_linux26} %{!mapcs-26:-m armelf_linux} -p"
+# endif
+# define SUBTARGET_EXTRA_ASM_SPEC	\
 	" %{mapcs-26:-mapcs-26} %(!mapcs-26:-mapcs-32}"
+# define MULTILIB_DEFAULTS \
+	{ "mlittle-endian", "mhard-float", "mapcs-32", "mno-thumb-interwork" }
+# define CPP_APCS_PC_DEFAULT_SPEC "-D__APCS_32__"
+#else	/* default is APCS-26 */
+# define TARGET_DEFAULT (ARM_FLAG_SHORT_BYTE)
+# ifdef SUBTARGET_OLD_LINKER
+#  define SUBTARGET_LINK_SPEC	\
+	" %{mapcs-32:-m elf32arm} %{!mapcs-32:-m elf32arm26}"
+# else	/* new linker */
+#  define SUBTARGET_LINK_SPEC	\
+	" %{mapcs-32:-m armelf_linux} %{!mapcs-32:-m armelf_linux26} -p"
+# endif
+# define SUBTARGET_EXTRA_ASM_SPEC	\
+	" %{mapcs-32:-mapcs-32} %(!mapcs-32:-mapcs-26}"
+# define MULTILIB_DEFAULTS \
+	{ "mlittle-endian", "mhard-float", "mapcs-26", "mno-thumb-interwork" }
 #endif
 
 /* This was defined in linux.h.  Define it here also. */
@@ -171,6 +192,39 @@
 	   (DECL) && TREE_CODE (DECL) == FUNCTION_DECL ? "ax" : \
 	   (DECL) && DECL_READONLY_SECTION (DECL, RELOC) ? "a" : "aw")
 
+#define MAKE_DECL_ONE_ONLY(DECL) (DECL_WEAK (DECL) = 1)
+#define UNIQUE_SECTION_P(DECL) (DECL_ONE_ONLY (DECL))
+#define UNIQUE_SECTION(DECL,RELOC)				\
+do {								\
+  int len;							\
+  char *name, *string, *prefix;					\
+								\
+  name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (DECL));	\
+								\
+  if (! DECL_ONE_ONLY (DECL))					\
+    {								\
+      prefix = ".";                                             \
+      if (TREE_CODE (DECL) == FUNCTION_DECL)			\
+	prefix = ".text.";					\
+      else if (DECL_READONLY_SECTION (DECL, RELOC))		\
+	prefix = ".rodata.";					\
+      else							\
+	prefix = ".data.";					\
+    }								\
+  else if (TREE_CODE (DECL) == FUNCTION_DECL)			\
+    prefix = ".gnu.linkonce.t.";				\
+  else if (DECL_READONLY_SECTION (DECL, RELOC))			\
+    prefix = ".gnu.linkonce.r.";				\
+  else								\
+    prefix = ".gnu.linkonce.d.";				\
+								\
+  len = strlen (name) + strlen (prefix);			\
+  string = alloca (len + 1);					\
+  sprintf (string, "%s%s", prefix, name);			\
+								\
+  DECL_SECTION_NAME (DECL) = build_string (len, string);	\
+} while (0)
+
 /* A C statement or statements to switch to the appropriate
    section for output of DECL.  DECL is either a `VAR_DECL' node
    or a constant of some sort.  RELOC indicates whether forming
@@ -246,3 +300,13 @@
 #undef  FP_DEFAULT
 #define FP_DEFAULT FP_SOFT3
 #endif
+
+/* Call the function profiler with a given profile label.  */
+#undef FUNCTION_PROFILER
+#define FUNCTION_PROFILER(STREAM, LABELNO)  				\
+{									\
+  fprintf (STREAM, "\tbl\tmcount%s\n", NEED_PLT_GOT ? "(PLT)" : "");	\
+}
+
+#undef CC1_SPEC
+#define CC1_SPEC "%{profile:-p}"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/nto.h gcc/gcc/config/arm/nto.h
--- gcc-2.95.2/gcc/config/arm/nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/arm/nto.h	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,175 @@
+#define HAVE_ATEXIT
+
+#undef SIZE_TYPE
+#define SIZE_TYPE "unsigned int"
+
+#undef PTRDIFF_TYPE
+#define PTRDIFF_TYPE "int"
+
+#undef DEFAULT_SIGNED_CHAR
+#define DEFAULT_SIGNED_CHAR  1
+
+#undef WCHAR_TYPE
+#define WCHAR_TYPE "long int"
+
+#undef WCHAR_TYPE_SIZE
+#define WCHAR_TYPE_SIZE BITS_PER_WORD
+
+#undef	TARGET_VERSION
+#define	TARGET_VERSION fprintf(stderr, " (QNX/Neutrino)");
+
+#define	OBJECT_FORMAT_ELF
+#define	HAS_INIT_SECTION
+
+/* Allow stabs and dwarf, for now, and make dwarf the default for Neutrino */
+#undef  PREFERRED_DEBUGGING_TYPE
+#define PREFERRED_DEBUGGING_TYPE DWARF_DEBUG
+
+#define DBX_DEBUGGING_INFO
+#define DWARF_DEBUGGING_INFO
+#define DWARF2_DEBUGGING_INFO
+
+/* Handle #pragma weak and #pragma pack.  */
+#undef  HANDLE_SYSV_PRAGMA
+#define HANDLE_SYSV_PRAGMA
+
+#undef	DEFAULT_VTABLE_THUNKS
+#define DEFAULT_VTABLE_THUNKS   1
+
+#undef	TARGET_CPU_DEFAULT
+#define TARGET_CPU_DEFAULT TARGET_CPU_strongarm
+
+#define TARGET_DEFAULT (ARM_FLAG_APCS_32 | ARM_FLAG_SHORT_BYTE | ARM_FLAG_SOFT_FLOAT)
+
+#define MULTILIB_DEFAULTS   { "mapcs-32" }
+
+#undef CPP_PREDEFINES
+#define	CPP_PREDEFINES \
+"-D__ARM__ -D__QNXNTO__ -D__QNX__"
+
+#undef ASM_SPEC
+#define ASM_SPEC \
+"%{EB} %{EL} \
+ %{fpic:--defsym __PIC__=1}"
+
+/* we don't need an ASM_FINAL_SPEC */
+
+#undef LIB_SPEC
+#ifdef __QNXNTO__
+#define LIB_SPEC \
+"-m armnto -L/arm%{EB:be}%{!EB:le}/lib \
+ %{!symbolic: -lc -Bstatic %{!shared: -lc} %{shared:-lcS}}"
+#elif defined(__sun__)
+#define LIB_SPEC \
+"-m armnto -L/opt/QNXsdk/target/qnx6/arm%{EB:be}%{!EB:le}/lib \
+ %{!symbolic: -lc -Bstatic %{!shared: -lc} %{shared:-lcS}}"
+#else
+#define LIB_SPEC \
+"-m armnto -L/usr/nto/arm%{EB:be}%{!EB:le}/lib \
+ %{!symbolic: -lc -Bstatic %{!shared: -lc} %{shared:-lcS}}"
+#endif /* __QNXNTO__ */
+
+#undef LIBGCC_SPEC
+#define LIBGCC_SPEC "-lgcc"
+
+#undef STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define STARTFILE_SPEC \
+"%{!shared: -u_start \
+ /arm%{EB:be}%{!EB:le}/lib/%{pg:m}%{p:m}crt1.o} \
+ /arm%{EB:be}%{!EB:le}/lib/crti.o \
+ %{fexceptions: crtbeginC++.o%s} %{!fexceptions: /arm%{EB:be}%{!EB:le}/lib/crtbegin.o}"
+#elif defined(__sun__)
+#define STARTFILE_SPEC \
+"%{!shared: -u_start \
+ /opt/QNXsdk/target/qnx6/arm%{EB:be}%{!EB:le}/lib/%{pg:m}%{p:m}crt1.o} \
+ /opt/QNXsdk/target/qnx6/arm%{EB:be}%{!EB:le}/lib/crti.o \
+ %{fexceptions: crtbeginC++.o%s} %{!fexceptions: /opt/QNXsdk/target/qnx6/arm%{EB:be}%{!EB:le}/lib/crtbegin.o}"
+#else
+#define STARTFILE_SPEC \
+"%{!shared: -u_start \
+ /usr/nto/arm%{EB:be}%{!EB:le}/lib/%{pg:m}%{p:m}crt1.o} \
+ /usr/nto/arm%{EB:be}%{!EB:le}/lib/crti.o \
+ %{fexceptions: crtbeginC++.o%s} %{!fexceptions: /usr/nto/arm%{EB:be}%{!EB:le}/lib/crtbegin.o}"
+#endif /* __QNXNTO__ */
+
+#undef ENDFILE_SPEC
+#ifdef __QNXNTO__
+#define ENDFILE_SPEC \
+"%{!shared: /arm%{EB:be}%{!EB:le}/lib/crtend.o /arm%{EB:be}%{!EB:le}/lib/crtn.o}"
+#elif defined(__sun__)
+#define ENDFILE_SPEC \
+"%{!shared: /opt/QNXsdk/target/qnx6/arm%{EB:be}%{!EB:le}/lib/crtend.o \
+ /opt/QNXsdk/target/qnx6/arm%{EB:be}%{!EB:le}/lib/crtn.o}"
+#else
+#define ENDFILE_SPEC \
+"%{!shared: /usr/nto/arm%{EB:be}%{!EB:le}/lib/crtend.o \
+ /usr/nto/arm%{EB:be}%{!EB:le}/lib/crtn.o}"
+#endif /* __QNXNTO__ */
+
+#undef LINK_SPEC
+#define LINK_SPEC \
+"%{h*} %{v:-V} \
+ %{b} %{Wl,*:%*} \
+ %{static:-Bstatic} \
+ %{shared} \
+ %{symbolic:-Bsymbolic} \
+ %{G:-G} %{MAP:-Map mapfile} \
+ %{!shared:-dynamic-linker /usr/lib/ldqnx.so.2} \
+ -X \
+ %{EB} %{EL}"
+
+#include "arm/elf.h"
+
+#undef CPP_APCS_PC_DEFAULT_SPEC
+#define CPP_APCS_PC_DEFAULT_SPEC "-D__APCS_32__"
+
+#undef	SUBTARGET_CPP_SPEC
+#ifdef __QNXNTO__
+#define	SUBTARGET_CPP_SPEC \
+"-nostdinc -idirafter /usr/include %(cpp_cpu) \
+ %{EL:-D__LITTLEENDIAN__} \
+ %{!EB:-D__LITTLEENDIAN__} \
+ %{EB:-D__BIGENDIAN__ -D__ARMEB__} \
+ %{fPIC:-D__PIC__ -D__pic__} \
+ %{fpic:-D__PIC__ -D__pic__} \
+ %{posix:-D_POSIX_SOURCE}"
+#elif defined(__sun__)
+#define SUBTARGET_CPP_SPEC \
+"-nostdinc -idirafter /opt/QNXsdk/target/qnx6/usr/include %(cpp_cpu) \
+ %{EL:-D__LITTLEENDIAN__} \
+ %{!EB:-D__LITTLEENDIAN__} \
+ %{EB:-D__BIGENDIAN__ -D__ARMEB__} \
+ %{fPIC:-D__PIC__ -D__pic__} \
+ %{fpic:-D__PIC__ -D__pic__} \
+ %{posix:-D_POSIX_SOURCE}"
+#else
+#define	SUBTARGET_CPP_SPEC \
+"-nostdinc -idirafter /usr/nto/usr/include %(cpp_cpu) \
+ %{EL:-D__LITTLEENDIAN__} \
+ %{!EB:-D__LITTLEENDIAN__} \
+ %{EB:-D__BIGENDIAN__ -D__ARMEB__} \
+ %{fPIC:-D__PIC__ -D__pic__} \
+ %{fpic:-D__PIC__ -D__pic__} \
+ %{posix:-D_POSIX_SOURCE}"
+#endif /* __QNXNTO__ */
+
+#undef	CC1_SPEC
+#define	CC1_SPEC \
+"%{EB:-mbig-endian} %{EL:-mlittle-endian} \
+ %{EB:%{EL:%emay not use both -EB and -EL}}"
+
+/*
+ * Keep floating point word order the same as multi-word integers
+ */
+#undef FLOAT_WORDS_BIG_ENDIAN
+
+/* Call the function profiler with a given profile label.  */
+#undef FUNCTION_PROFILER
+#define FUNCTION_PROFILER(STREAM, LABELNO)  				\
+{									\
+  fprintf (STREAM, "\tbl\tmcount%s\n", NEED_PLT_GOT ? "(PLT)" : "");	\
+}
+
+#undef CC1PLUS_SPEC
+#define CC1PLUS_SPEC "-fhonor-std"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/t-linux gcc/gcc/config/arm/t-linux
--- gcc-2.95.2/gcc/config/arm/t-linux	1999-03-27 01:30:20.000000000 +1000
+++ gcc/gcc/config/arm/t-linux	2001-03-01 05:24:46.000000000 +1000
@@ -13,10 +13,15 @@
 LIB1ASMSRC = arm/lib1funcs.asm
 LIB1ASMFUNCS = _udivsi3 _divsi3 _umodsi3 _modsi3 _dvmd_lnx
 
+MULTILIB_OPTIONS = mhard-float/msoft-float
+MULTILIB_DIRNAMES = hard-float soft-float
+
 # If you want to build both APCS variants as multilib options this is how
 # to do it.
-#MULTILIB_OPTIONS = mapcs-32/apcs-26
-#MULTILIB_DIRNAMES = apcs-32 apcs-26
+#MULTILIB_OPTIONS += mapcs-32/mapcs-26
+#MULTILIB_DIRNAMES += apcs-32 apcs-26
+
+EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o
 
 LIBGCC = stmp-multilib
 INSTALL_LIBGCC = install-multilib
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/arm/t-nto gcc/gcc/config/arm/t-nto
--- gcc-2.95.2/gcc/config/arm/t-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/arm/t-nto	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,48 @@
+#This is the default t-nto file
+
+T_CFLAGS = -D__QNXTARGET__ -DLIBSTDCXX=\"-lcpp\"
+
+CROSS_LIBGCC1 = libgcc1-asm.a
+LIB1ASMSRC = arm/lib1funcs.asm
+LIB1ASMFUNCS = _udivsi3 _divsi3 _umodsi3 _modsi3 _dvmd_nto
+
+# Just for these, we omit the frame pointer since it makes such a big
+# difference.  It is then pointless adding debugging.
+LIBGCC2_CFLAGS = -O2 -fomit-frame-pointer $(TARGET_LIBGCC2_CFLAGS) $(CROSS) $(LIBGCC2_INCLUDES) $(GCC_CFLAGS) $(GTHREAD_FLAGS) -g0 -fno-honor-std
+
+# These are really part of libgcc1, but this will cause them to be
+# built correctly, so...
+
+LIB2FUNCS_EXTRA = fp-bit.c dp-bit.c
+
+fp-bit.c: $(srcdir)/config/fp-bit.c
+		echo '#define FLOAT' > fp-bit.c
+		echo '#ifndef __ARMEB__' >> fp-bit.c
+		echo '#define FLOAT_BIT_ORDER_MISMATCH' >> fp-bit.c
+		echo '#endif' >> fp-bit.c
+		cat $(srcdir)/config/fp-bit.c >> fp-bit.c
+
+dp-bit.c: $(srcdir)/config/fp-bit.c
+		echo '#ifndef __ARMEB__' > dp-bit.c
+		echo '#define FLOAT_BIT_ORDER_MISMATCH' >> dp-bit.c
+		echo '#endif' >> dp-bit.c
+		cat $(srcdir)/config/fp-bit.c >> dp-bit.c
+
+# Avoid building a duplicate set of libraries for the default endian-ness.
+MULTILIB_OPTIONS = fexceptions fpic LE/BE
+MULTILIB_DIRNAMES = exceptions pic le be
+MULTILIB_MATCHES = fpic=shared
+
+LIBGCC = stmp-multilib
+INSTALL_LIBGCC = install-multilib
+
+USER_H = $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)
+
+EXTRA_PARTS = crtbeginC++.o crtendC++.o
+
+$(T)crtbeginC++.o: crtbegin.o
+	cp crtbegin.o crtbeginC++.o
+
+$(T)crtendC++.o: crtend.o
+	cp crtend.o crtendC++.o
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/cygwin.h gcc/gcc/config/i386/cygwin.h
--- gcc-2.95.2/gcc/config/i386/cygwin.h	1999-06-21 14:54:43.000000000 +1000
+++ gcc/gcc/config/i386/cygwin.h	2001-03-01 05:24:46.000000000 +1000
@@ -79,15 +79,29 @@
    by calling the init function from the prologue. */
 
 #undef STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define STARTFILE_SPEC "%{mdll: %{mno-cygwin:/opt/QNXsdk/target/cygwin32/x86/usr/lib/dllcrt1%O%s}} \
+                        %{!mdll: %{!mno-cygwin:/opt/QNXsdk/target/cygwin32/x86/usr/lib/crt0%O%s} \
+                                 %{mno-cygwin:/opt/QNXsdk/target/cygwin32/x86/usr/lib/crt1%O%s} %{pg:/opt/QNXsdk/target/cygwin32/x86/usr/lib/gcrt0%O%s}}"
+#else
 #define STARTFILE_SPEC "%{mdll: %{mno-cygwin:dllcrt1%O%s}} \
                         %{!mdll: %{!mno-cygwin:crt0%O%s} \
                                  %{mno-cygwin:crt1%O%s} %{pg:gcrt0%O%s}}"
+#endif
 
 #undef CPP_SPEC
+#ifdef __QNXNTO__
+#define CPP_SPEC "-isystem /opt/QNXsdk/target/cygwin32/x86/usr/include \
+  -remap %(cpp_cpu) %{posix:-D_POSIX_SOURCE} \
+  %{!mno-cygwin:-D__CYGWIN32__ -D__CYGWIN__} \
+  %{mno-cygwin:-iwithprefixbefore \
+    ../../../../%(mingw_include_path)/include/mingw32 -D__MINGW32__=0.2}"
+#else
 #define CPP_SPEC "-remap %(cpp_cpu) %{posix:-D_POSIX_SOURCE} \
   %{!mno-cygwin:-D__CYGWIN32__ -D__CYGWIN__} \
   %{mno-cygwin:-iwithprefixbefore \
     ../../../../%(mingw_include_path)/include/mingw32 -D__MINGW32__=0.2}"
+#endif
 
 /* This macro defines names of additional specifications to put in the specs
    that can be used in various specifications like CC1_SPEC.  Its definition
@@ -110,17 +124,25 @@
    ld, but that doesn't work just yet.  */
 
 #undef LIB_SPEC
+#ifdef __QNXNTO__
+#define LIB_SPEC "-L/opt/QNXsdk/target/cygwin32/x86/usr/lib \
+		  %{pg:-lgmon} \
+                  %{!mno-cygwin:-lcygwin} \
+                  %{mno-cygwin:-lmingw32 -lmoldname -lcrtdll} \
+                  %{mwindows:-lgdi32 -lcomdlg32} \
+		  -luser32 -lkernel32 -ladvapi32 -lshell32"
+#else
 #define LIB_SPEC "%{pg:-lgmon} \
                   %{!mno-cygwin:-lcygwin} \
                   %{mno-cygwin:-lmingw32 -lmoldname -lcrtdll} \
                   %{mwindows:-lgdi32 -lcomdlg32} \
 		  -luser32 -lkernel32 -ladvapi32 -lshell32"
+#endif
 
 #define LINK_SPEC "%{mwindows:--subsystem windows} \
                    %{mconsole:--subsystem console} \
                    %{mdll:--dll -e _DllMainCRTStartup@12}"
 
-
 #define SIZE_TYPE "unsigned int"
 #define PTRDIFF_TYPE "int"
 #define WCHAR_UNSIGNED 1
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/dgux.h gcc/gcc/config/i386/dgux.h
--- gcc-2.95.2/gcc/config/i386/dgux.h	1999-04-17 05:52:42.000000000 +1000
+++ gcc/gcc/config/i386/dgux.h	2001-03-01 04:55:00.000000000 +1000
@@ -26,7 +26,7 @@
 #include "i386/sysv4.h"
 
 #ifndef VERSION_INFO2
-#define VERSION_INFO2   "$Revision: 1.6 $"
+#define VERSION_INFO2   "$Revision: 1.1.1.1 $"
 #endif
 
 #ifndef VERSION_STRING
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/linux.h gcc/gcc/config/i386/linux.h
--- gcc-2.95.2/gcc/config/i386/linux.h	1999-04-08 10:32:13.000000000 +1000
+++ gcc/gcc/config/i386/linux.h	2001-03-01 05:24:46.000000000 +1000
@@ -154,11 +154,19 @@
 #define CPP_PREDEFINES "-D__ELF__ -Dunix -D__i386__ -Dlinux -Asystem(posix)"
 
 #undef CPP_SPEC
+#ifdef __QNXNTO__
+#ifdef USE_GNULIBC_1
+#define CPP_SPEC "-isystem /opt/QNXsdk/target/linux/x86/usr/include %(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}"
+#else
+#define CPP_SPEC "-isystem /opt/QNXsdk/target/linux/x86/usr/include %(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}"
+#endif
+#else
 #ifdef USE_GNULIBC_1
 #define CPP_SPEC "%(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}"
 #else
 #define CPP_SPEC "%(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}"
 #endif
+#endif
 
 #undef CC1_SPEC
 #define CC1_SPEC "%(cc1_cpu) %{profile:-p}"
@@ -180,6 +188,44 @@
 /* If ELF is the default format, we should not use /lib/elf. */
 
 #undef	LINK_SPEC
+#ifdef __QNXNTO__
+#ifdef USE_GNULIBC_1
+#ifndef LINUX_DEFAULT_ELF
+#define LINK_SPEC "-m elf_i386 %{shared:-shared} \
+  %{!shared: \
+    %{!ibcs: \
+      %{!static: \
+	%{rdynamic:-export-dynamic} \
+	%{!dynamic-linker:-dynamic-linker /lib/elf/ld-linux.so.1} \
+	%{!rpath:-rpath /lib/elf/}} %{static:-static}}} \
+	%{YP,*} \
+	%{!YP,*:%{p:-Y P,/opt/QNXsdk/target/linux/x86/usr/lib} \
+	%{!p:-Y P,/opt/QNXsdk/target/linux/x86/usr/lib}}"
+#else
+#define LINK_SPEC "-m elf_i386 %{shared:-shared} \
+  %{!shared: \
+    %{!ibcs: \
+      %{!static: \
+	%{rdynamic:-export-dynamic} \
+	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.1}} \
+	%{static:-static}}} \
+	%{YP,*} \
+	%{!YP,*:%{p:-Y P,/opt/QNXsdk/target/linux/x86/usr/lib} \
+	%{!p:-Y P,/opt/QNXsdk/target/linux/x86/usr/lib}}"
+#endif
+#else
+#define LINK_SPEC "-m elf_i386 %{shared:-shared} \
+  %{!shared: \
+    %{!ibcs: \
+      %{!static: \
+	%{rdynamic:-export-dynamic} \
+	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+	%{static:-static}}} \
+	%{YP,*} \
+	%{!YP,*:%{p:-Y P,/opt/QNXsdk/target/linux/x86/usr/lib} \
+	%{!p:-Y P,/opt/QNXsdk/target/linux/x86/usr/lib}}"
+#endif
+#else
 #ifdef USE_GNULIBC_1
 #ifndef LINUX_DEFAULT_ELF
 #define LINK_SPEC "-m elf_i386 %{shared:-shared} \
@@ -207,6 +253,7 @@
 	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
 	%{static:-static}}}"
 #endif
+#endif
 
 /* Get perform_* macros to build libgcc.a.  */
 #include "i386/perform.h"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/nto.h gcc/gcc/config/i386/nto.h
--- gcc-2.95.2/gcc/config/i386/nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/i386/nto.h	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,318 @@
+/* Target definitions for GNU compiler for Intel 80386 running System V.4
+   Copyright (C) 1991 Free Software Foundation, Inc.
+
+   Written by Ron Guilmette (rfg@netcom.com).
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+#include "i386/i386.h"	/* Base i386 target machine definitions */
+#include "i386/att.h"	/* Use the i386 AT&T assembler syntax */
+#include "qnx-nto.h"	/* Definitions common to all qnx-nto targets */
+
+#undef TARGET_VERSION
+#define TARGET_VERSION fprintf (stderr, " (QNX/Neutrino)");
+
+/*
+ * New for multilib support. Set the default switches for multilib,
+ * which is -fPIC.
+ */
+#define MULTILIB_DEFAULTS { "fPIC" }
+
+/* The svr4 ABI for the i386 says that records and unions are returned
+   in memory.  */
+
+#undef RETURN_IN_MEMORY
+#define RETURN_IN_MEMORY(TYPE) \
+  (TYPE_MODE (TYPE) == BLKmode)
+
+#define CPP_PREDEFINES \
+  "-D__X86__ -Di386 -Dunix -D__QNXNTO__ -D__QNX__ -Asystem(unix) -Asystem(nto) -Asystem(qnxnto) -Asystem(qnx) -Acpu(i386) -Amachine(i386) -D__LITTLEENDIAN__"
+
+#undef CPP_SPEC
+#ifdef __QNXNTO__
+#define CPP_SPEC \
+  "-nostdinc -idirafter /usr/include %(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}"
+#elif defined __sun__
+#define CPP_SPEC \
+  "-nostdinc -idirafter /opt/QNXsdk/target/qnx6/usr/include %(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}"
+#else
+#define CPP_SPEC \
+  "-nostdinc -idirafter /usr/nto/usr/include %(cpp_cpu) %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}"
+#endif
+
+#undef LIB_SPEC
+#define LIB_SPEC "%{!symbolic:-lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}}"
+
+#undef LINK_SPEC
+#ifdef __QNXNTO__
+#define LINK_SPEC "%{h*} %{v:-V} \
+                   %{b} %{Wl,*:%*} \
+                   %{static:-dn -Bstatic} \
+                   %{shared:-G -dy -z text} \
+                   %{symbolic:-Bsymbolic -G -dy -z text} \
+                   %{G:-G} \
+                   %{YP,*} \
+                   %{!YP,*:%{p:-Y P,/x86/lib} \
+                    %{!p:-Y P,/x86/lib}} \
+                   -L /x86/lib -L /x86/usr/lib \
+                   %{Qy:} %{!Qn:-Qy} %{MAP:-Map mapfile} \
+                   -m i386nto \
+                   %{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}"
+#elif defined(__sun__) || defined(__linux__)
+#define LINK_SPEC "%{h*} %{v:-V} \
+                   %{b} %{Wl,*:%*} \
+                   %{static:-dn -Bstatic} \
+                   %{shared:-G -dy -z text} \
+                   %{symbolic:-Bsymbolic -G -dy -z text} \
+                   %{G:-G} \
+                   %{YP,*} \
+                   %{!YP,*:%{p:-Y P,/opt/QNXsdk/target/qnx6/x86/lib} \
+                    %{!p:-Y P,/opt/QNXsdk/target/qnx6/x86/lib}} \
+                   %{Qy:} %{!Qn:-Qy} \
+                           -m i386nto \
+                   %{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}"
+#else
+#define LINK_SPEC "%{h*} %{v:-V} \
+                   %{b} %{Wl,*:%*} \
+                   %{static:-dn -Bstatic} \
+                   %{shared:-G -dy -z text} \
+                   %{symbolic:-Bsymbolic -G -dy -z text} \
+                   %{G:-G} \
+                   %{YP,*} \
+                   %{!YP,*:%{p:-Y P,/usr/nto/x86/lib} \
+                    %{!p:-Y P,/usr/nto/x86/lib}} \
+                   %{Qy:} %{!Qn:-Qy} \
+		           -m i386nto \
+                   %{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}"
+#endif
+
+
+/* This is how to output assembly code to define a `float' constant.
+   We always have to use a .long pseudo-op to do this because the native
+   SVR4 ELF assembler is buggy and it generates incorrect values when we
+   try to use the .float pseudo-op instead.  */
+
+#undef ASM_OUTPUT_FLOAT
+#define ASM_OUTPUT_FLOAT(FILE,VALUE)					\
+do { long value;							\
+     REAL_VALUE_TO_TARGET_SINGLE ((VALUE), value);			\
+     if (sizeof (int) == sizeof (long))					\
+         fprintf((FILE), "%s\t0x%x\n", ASM_LONG, value);		\
+     else								\
+         fprintf((FILE), "%s\t0x%lx\n", ASM_LONG, value);		\
+   } while (0)
+
+/* This is how to output assembly code to define a `double' constant.
+   We always have to use a pair of .long pseudo-ops to do this because
+   the native SVR4 ELF assembler is buggy and it generates incorrect
+   values when we try to use the the .double pseudo-op instead.  */
+
+#undef ASM_OUTPUT_DOUBLE
+#define ASM_OUTPUT_DOUBLE(FILE,VALUE)					\
+do { long value[2];							\
+     REAL_VALUE_TO_TARGET_DOUBLE ((VALUE), value);			\
+     if (sizeof (int) == sizeof (long))					\
+       {								\
+         fprintf((FILE), "%s\t0x%x\n", ASM_LONG, value[0]);		\
+         fprintf((FILE), "%s\t0x%x\n", ASM_LONG, value[1]);		\
+       }								\
+     else								\
+       {								\
+         fprintf((FILE), "%s\t0x%lx\n", ASM_LONG, value[0]);		\
+         fprintf((FILE), "%s\t0x%lx\n", ASM_LONG, value[1]);		\
+       }								\
+   } while (0)
+
+
+#undef ASM_OUTPUT_LONG_DOUBLE
+#define ASM_OUTPUT_LONG_DOUBLE(FILE,VALUE)				\
+do { long value[3];							\
+     REAL_VALUE_TO_TARGET_LONG_DOUBLE ((VALUE), value);			\
+     if (sizeof (int) == sizeof (long))					\
+       {								\
+         fprintf((FILE), "%s\t0x%x\n", ASM_LONG, value[0]);		\
+         fprintf((FILE), "%s\t0x%x\n", ASM_LONG, value[1]);		\
+         fprintf((FILE), "%s\t0x%x\n", ASM_LONG, value[2]);		\
+       }								\
+     else								\
+       {								\
+         fprintf((FILE), "%s\t0x%lx\n", ASM_LONG, value[0]);		\
+         fprintf((FILE), "%s\t0x%lx\n", ASM_LONG, value[1]);		\
+         fprintf((FILE), "%s\t0x%lx\n", ASM_LONG, value[2]);		\
+       }								\
+   } while (0)
+
+/* Output at beginning of assembler file.  */
+/* The .file command should always begin the output.  */
+
+#undef ASM_FILE_START
+#define ASM_FILE_START(FILE)						\
+  do {									\
+	output_file_directive (FILE, main_input_filename);		\
+	fprintf (FILE, "\t.version\t\"01.01\"\n");			\
+  } while (0)
+
+/* Define the register numbers to be used in Dwarf debugging information.
+   The SVR4 reference port C compiler uses the following register numbers
+   in its Dwarf output code:
+
+	0 for %eax (gnu regno = 0)
+	1 for %ecx (gnu regno = 2)
+	2 for %edx (gnu regno = 1)
+	3 for %ebx (gnu regno = 3)
+	4 for %esp (gnu regno = 7)
+	5 for %ebp (gnu regno = 6)
+	6 for %esi (gnu regno = 4)
+	7 for %edi (gnu regno = 5)
+
+   The following three DWARF register numbers are never generated by
+   the SVR4 C compiler or by the GNU compilers, but SDB on x86/svr4
+   believes these numbers have these meanings.
+
+	8  for %eip    (no gnu equivalent)
+	9  for %eflags (no gnu equivalent)
+	10 for %trapno (no gnu equivalent)
+
+   It is not at all clear how we should number the FP stack registers
+   for the x86 architecture.  If the version of SDB on x86/svr4 were
+   a bit less brain dead with respect to floating-point then we would
+   have a precedent to follow with respect to DWARF register numbers
+   for x86 FP registers, but the SDB on x86/svr4 is so completely
+   broken with respect to FP registers that it is hardly worth thinking
+   of it as something to strive for compatibility with.
+
+   The version of x86/svr4 SDB I have at the moment does (partially)
+   seem to believe that DWARF register number 11 is associated with
+   the x86 register %st(0), but that's about all.  Higher DWARF
+   register numbers don't seem to be associated with anything in
+   particular, and even for DWARF regno 11, SDB only seems to under-
+   stand that it should say that a variable lives in %st(0) (when
+   asked via an `=' command) if we said it was in DWARF regno 11,
+   but SDB still prints garbage when asked for the value of the
+   variable in question (via a `/' command).
+
+   (Also note that the labels SDB prints for various FP stack regs
+   when doing an `x' command are all wrong.)
+
+   Note that these problems generally don't affect the native SVR4
+   C compiler because it doesn't allow the use of -O with -g and
+   because when it is *not* optimizing, it allocates a memory
+   location for each floating-point variable, and the memory
+   location is what gets described in the DWARF AT_location
+   attribute for the variable in question.
+
+   Regardless of the severe mental illness of the x86/svr4 SDB, we
+   do something sensible here and we use the following DWARF
+   register numbers.  Note that these are all stack-top-relative
+   numbers.
+
+	11 for %st(0) (gnu regno = 8)
+	12 for %st(1) (gnu regno = 9)
+	13 for %st(2) (gnu regno = 10)
+	14 for %st(3) (gnu regno = 11)
+	15 for %st(4) (gnu regno = 12)
+	16 for %st(5) (gnu regno = 13)
+	17 for %st(6) (gnu regno = 14)
+	18 for %st(7) (gnu regno = 15)
+*/
+
+#undef DBX_REGISTER_NUMBER
+#define DBX_REGISTER_NUMBER(n) \
+((n) == 0 ? 0 \
+ : (n) == 1 ? 2 \
+ : (n) == 2 ? 1 \
+ : (n) == 3 ? 3 \
+ : (n) == 4 ? 6 \
+ : (n) == 5 ? 7 \
+ : (n) == 6 ? 5 \
+ : (n) == 7 ? 4 \
+ : ((n) >= FIRST_STACK_REG && (n) <= LAST_STACK_REG) ? (n)+3 \
+ : (-1))
+
+/* The routine used to output sequences of byte values.  We use a special
+   version of this for most svr4 targets because doing so makes the
+   generated assembly code more compact (and thus faster to assemble)
+   as well as more readable.  Note that if we find subparts of the
+   character sequence which end with NUL (and which are shorter than
+   STRING_LIMIT) we output those using ASM_OUTPUT_LIMITED_STRING.  */
+
+#undef ASM_OUTPUT_ASCII
+#define ASM_OUTPUT_ASCII(FILE, STR, LENGTH)				\
+  do									\
+    {									\
+      register unsigned char *_ascii_bytes = (unsigned char *) (STR);	\
+      register unsigned char *limit = _ascii_bytes + (LENGTH);		\
+      register unsigned bytes_in_chunk = 0;				\
+      for (; _ascii_bytes < limit; _ascii_bytes++)			\
+        {								\
+	  register unsigned char *p;					\
+	  if (bytes_in_chunk >= 64)					\
+	    {								\
+	      fputc ('\n', (FILE));					\
+	      bytes_in_chunk = 0;					\
+	    }								\
+	  for (p = _ascii_bytes; p < limit && *p != '\0'; p++)		\
+	    continue;							\
+	  if (p < limit && (p - _ascii_bytes) <= STRING_LIMIT)		\
+	    {								\
+	      if (bytes_in_chunk > 0)					\
+		{							\
+		  fputc ('\n', (FILE));					\
+		  bytes_in_chunk = 0;					\
+		}							\
+	      ASM_OUTPUT_LIMITED_STRING ((FILE), _ascii_bytes);		\
+	      _ascii_bytes = p;						\
+	    }								\
+	  else								\
+	    {								\
+	      if (bytes_in_chunk == 0)					\
+		fprintf ((FILE), "\t.byte\t");				\
+	      else							\
+		fputc (',', (FILE));					\
+	      fprintf ((FILE), "0x%02x", *_ascii_bytes);		\
+	      bytes_in_chunk += 5;					\
+	    }								\
+	}								\
+      if (bytes_in_chunk > 0)						\
+        fprintf ((FILE), "\n");						\
+    }									\
+  while (0)
+
+/* This is how to output an element of a case-vector that is relative.
+   This is only used for PIC code.  See comments by the `casesi' insn in
+   i386.md for an explanation of the expression this outputs. */
+
+#undef ASM_OUTPUT_ADDR_DIFF_ELT
+#define ASM_OUTPUT_ADDR_DIFF_ELT(FILE, BODY, VALUE, REL) \
+  fprintf (FILE, "\t.long _GLOBAL_OFFSET_TABLE_+[.-%s%d]\n", LPREFIX, VALUE)
+
+/* Indicate that jump tables go in the text section.  This is
+   necessary when compiling PIC code.  */
+
+#define JUMP_TABLES_IN_TEXT_SECTION (flag_pic)
+
+/* A C statement (sans semicolon) to output to the stdio stream
+   FILE the assembler definition of uninitialized global DECL named
+   NAME whose size is SIZE bytes and alignment is ALIGN bytes.
+   Try to use asm_output_aligned_bss to implement this macro.  */
+
+#define ASM_OUTPUT_ALIGNED_BSS(FILE, DECL, NAME, SIZE, ALIGN) \
+  asm_output_aligned_bss (FILE, DECL, NAME, SIZE, ALIGN)
+
+#undef CC1PLUS_SPEC
+#define CC1PLUS_SPEC "-fhonor-std"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/t-nto gcc/gcc/config/i386/t-nto
--- gcc-2.95.2/gcc/config/i386/t-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/i386/t-nto	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,28 @@
+# Build libgcc.a with different options.  With gas, build pic libraries
+# as well no floating point
+
+T_CFLAGS = -D__QNXTARGET__ -DLIBSTDCXX=\"-lcpp\"
+CRTSTUFF_T_CFLAGS = -fPIC -fno-omit-frame-pointer
+TARGET_LIBGCC2_CFLAGS = -fPIC -fno-honor-std
+FIXPROTO_DEFINES = -D__QNX__ -D__QNXNTO__ -D__X86__ -D__GNUC__ -D__LITTLEENDIAN__
+
+MULTILIB_OPTIONS	= fexceptions
+MULTILIB_DIRNAMES	= exceptions
+MULTILIB_EXCEPTIONS	=
+MULTILIB_MATCHES	=
+
+LIBGCC=stmp-multilib
+INSTALL_LIBGCC=install-multilib
+
+USER_H = $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)
+
+CROSS_LIBGCC1 = libgcc1.a
+
+EXTRA_PARTS = crtbeginC++.o crtendC++.o
+
+$(T)crtbeginC++.o: crtbegin.o
+	cp crtbegin.o crtbeginC++.o
+
+$(T)crtendC++.o: crtend.o
+	cp crtend.o crtendC++.o
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/xm-nto.h gcc/gcc/config/i386/xm-nto.h
--- gcc-2.95.2/gcc/config/i386/xm-nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/i386/xm-nto.h	2001-03-01 05:24:46.000000000 +1000
@@ -0,0 +1,19 @@
+/* Configuration for GCC for Intel i386 running System V Release 4.  */
+
+#include "i386/xm-i386.h"
+#include "xm-svr4.h"
+
+/* xm-svr4 erroneously defines this as _sys_siglist, which is wrong for NTO */
+#undef sys_siglist
+
+/* If not compiled with GNU C, use the portable alloca.  */
+#ifndef __GNUC__
+#define USE_C_ALLOCA
+#endif
+#ifdef __HIGHC__
+#include <alloca.h>		/* for MetaWare High-C on NCR System 3000 */
+#endif
+
+/* Univel, at least, has a small ARG_MAX.  Defining this is harmless
+   except for causing extra stat calls in the driver program.  */
+#define SMALL_ARG_MAX
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/i386/x-nto gcc/gcc/config/i386/x-nto
--- gcc-2.95.2/gcc/config/i386/x-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/i386/x-nto	2001-03-01 05:24:46.000000000 +1000
@@ -0,0 +1 @@
+TAROUTOPTS = xf
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/linux.h gcc/gcc/config/linux.h
--- gcc-2.95.2/gcc/config/linux.h	1998-12-17 06:59:55.000000000 +1000
+++ gcc/gcc/config/linux.h	2001-03-01 05:24:45.000000000 +1000
@@ -65,12 +65,24 @@
    object constructed before entering `main'. */
    
 #undef	STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define STARTFILE_SPEC \
+"%{!shared: \
+ %{pg:/opt/QNXsdk/target/linux/x86/usr/lib/gcrt1.o%s} \
+ %{!pg:%{p:/opt/QNXsdk/target/linux/x86/usr/lib/gcrt1.o%s} \
+ %{!p:%{profile:/opt/QNXsdk/target/linux/x86/usr/lib/gcrt1.o%s} \
+ %{!profile:/opt/QNXsdk/target/linux/x86/usr/lib/crt1.o%s}}}} \
+ /opt/QNXsdk/target/linux/x86/usr/lib/crti.o%s \
+ %{!shared:crtbegin.o%s} \
+ %{shared:crtbeginS.o%s}"
+#else
 #define STARTFILE_SPEC \
   "%{!shared: \
      %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} \
 		       %{!p:%{profile:gcrt1.o%s} \
 			 %{!profile:crt1.o%s}}}} \
    crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}"
+#endif
 
 /* Provide a ENDFILE_SPEC appropriate for GNU/Linux.  Here we tack on
    the GNU/Linux magical crtend.o file (see crtstuff.c) which
@@ -79,8 +91,15 @@
    GNU/Linux "finalizer" file, `crtn.o'.  */
 
 #undef	ENDFILE_SPEC
+#ifdef __QNXNTO__
+#define ENDFILE_SPEC \
+  "%{!shared:crtend.o%s} \
+   %{shared:crtendS.o%s} \
+   /opt/QNXsdk/target/linux/x86/usr/lib/crtn.o%s"
+#else
 #define ENDFILE_SPEC \
   "%{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s"
+#endif
 
 /* This is for -profile to use -lc_p instead of -lc. */
 #ifndef CC1_SPEC
@@ -97,6 +116,18 @@
    want to profile or debug the GNU/Linux C library, please add
    -profile or -ggdb to LDFLAGS at the link time, respectively. */
 #if 1
+#ifdef __QNXNTO__
+#ifdef USE_GNULIBC_1
+#define LIB_SPEC \
+  "%{!shared: %{p:-lgmon} %{pg:-lgmon} %{profile:-lgmon -lc_p} \
+     %{!profile:%{!ggdb:-lc} %{ggdb:-lg}}} -R /opt/QNXsdk/target/linux/x86/usr/lib"
+#else
+#define LIB_SPEC \
+  "%{shared: -lc} \
+   %{!shared: %{mieee-fp:-lieee} %{pthread:-lpthread} \
+        %{profile:-lc_p} %{!profile: -lc}} -R /opt/QNXsdk/target/linux/x86/usr/lib"
+#endif
+#else
 #ifdef USE_GNULIBC_1
 #define LIB_SPEC \
   "%{!shared: %{p:-lgmon} %{pg:-lgmon} %{profile:-lgmon -lc_p} \
@@ -107,6 +138,7 @@
    %{!shared: %{mieee-fp:-lieee} %{pthread:-lpthread} \
 	%{profile:-lc_p} %{!profile: -lc}}"
 #endif
+#endif
 #else
 #define LIB_SPEC \
   "%{!shared: \
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/m68k/mot3300-crt0.S gcc/gcc/config/m68k/mot3300-crt0.S
--- gcc-2.95.2/gcc/config/m68k/mot3300-crt0.S	1998-12-17 07:07:03.000000000 +1000
+++ gcc/gcc/config/m68k/mot3300-crt0.S	2001-03-01 04:55:03.000000000 +1000
@@ -93,6 +93,6 @@
 	COMM	splimit%,4
 	COMM	environ,4
 
-	IDENT ("$Id: mot3300-crt0.S,v 1.1.1.2 1998/01/14 19:39:06 law Exp $")
+	IDENT ("$Id: mot3300-crt0.S,v 1.1.1.1 2001/02/28 18:55:03 keith Exp $")
 	IDENT ("Contributed by Manfred Hollstein (manfred@lts.sel.alcatel.de)")
 	IDENT ("Corrections by Philippe De Muyter (phdm@macqel.be)")
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/m68k/mot3300Mcrt0.S gcc/gcc/config/m68k/mot3300Mcrt0.S
--- gcc-2.95.2/gcc/config/m68k/mot3300Mcrt0.S	1998-12-17 07:07:05.000000000 +1000
+++ gcc/gcc/config/m68k/mot3300Mcrt0.S	2001-03-01 04:55:03.000000000 +1000
@@ -137,6 +137,6 @@
 	COMM	environ,4
 	COMM	_countbase,4
 
-	IDENT ("$Id: mot3300Mcrt0.S,v 1.1.1.2 1998/01/14 19:39:08 law Exp $")
+	IDENT ("$Id: mot3300Mcrt0.S,v 1.1.1.1 2001/02/28 18:55:03 keith Exp $")
 	IDENT ("Contributed by Manfred Hollstein (manfred@lts.sel.alcatel.de)")
 	IDENT ("Corrections by Philippe De Muyter (phdm@macqel.be)")
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/m88k/dgux.h gcc/gcc/config/m88k/dgux.h
--- gcc-2.95.2/gcc/config/m88k/dgux.h	1998-12-17 07:08:12.000000000 +1000
+++ gcc/gcc/config/m88k/dgux.h	2001-03-01 04:55:04.000000000 +1000
@@ -30,7 +30,7 @@
   (TARGET_SVR4 ? DWARF_DEBUG : SDB_DEBUG)
 
 #ifndef VERSION_INFO2
-#define VERSION_INFO2   "$Revision: 1.3 $"
+#define VERSION_INFO2   "$Revision: 1.1.1.1 $"
 #endif
 #ifndef NO_BUGS
 #define AS_BUG_IMMEDIATE_LABEL
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/m88k/m88k.h gcc/gcc/config/m88k/m88k.h
--- gcc-2.95.2/gcc/config/m88k/m88k.h	1998-12-17 07:08:23.000000000 +1000
+++ gcc/gcc/config/m88k/m88k.h	2001-03-01 04:55:04.000000000 +1000
@@ -198,13 +198,13 @@
    Redefined in sysv4.h, and luna.h.  */
 #define VERSION_INFO1	"m88k, "
 #ifndef VERSION_INFO2
-#define VERSION_INFO2   "$Revision: 1.11 $"
+#define VERSION_INFO2   "$Revision: 1.1.1.1 $"
 #endif
 
 #ifndef VERSION_STRING
 #define VERSION_STRING  version_string
 #ifdef __STDC__
-#define TM_RCS_ID      "@(#)" __FILE__ " $Revision: 1.11 $ " __DATE__
+#define TM_RCS_ID      "@(#)" __FILE__ " $Revision: 1.1.1.1 $ " __DATE__
 #else
 #define TM_RCS_ID      "$What: <@(#) m88k.h,v	1.1.1.2.2.2> $"
 #endif  /* __STDC__ */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/mips.c gcc/gcc/config/mips/mips.c
--- gcc-2.95.2/gcc/config/mips/mips.c	1999-05-07 22:42:03.000000000 +1000
+++ gcc/gcc/config/mips/mips.c	2001-03-01 05:24:46.000000000 +1000
@@ -138,6 +138,8 @@
 FILE *asm_out_data_file;
 FILE *asm_out_text_file;
 
+extern int leaf_function_p();
+
 /* Linked list of all externals that are to be emitted when optimizing
    for the global pointer if they haven't been declared by the end of
    the program with an appropriate .comm or initialization.  */
@@ -985,10 +987,12 @@
      rtx op;
      enum machine_mode mode ATTRIBUTE_UNUSED;
 {
-  return (CONSTANT_ADDRESS_P (op)
+  return ((CONSTANT_ADDRESS_P (op)
 	  || (GET_CODE (op) == REG && op != arg_pointer_rtx
 	      && ! (REGNO (op) >= FIRST_PSEUDO_REGISTER
-		    && REGNO (op) <= LAST_VIRTUAL_REGISTER)));
+		    && REGNO (op) <= LAST_VIRTUAL_REGISTER)))
+	  && (!TARGET_QNXPIC || (TARGET_QNXPIC 
+		&& (GET_CODE (op) != SYMBOL_REF || SYMBOL_REF_FLAG (op)))));
 }
 
 /* Return nonzero if OPERAND is valid as a source operand for a move
@@ -1158,6 +1162,19 @@
   return nonimmediate_operand (op, mode);
 }
 
+/* Return 1 if OP is a SYMBOL_REF for a function known to be in this
+   file.  */
+
+int
+current_file_fn_operand (op, mode)
+     rtx op;
+     enum machine_mode mode;
+{
+  return (GET_CODE (op) == SYMBOL_REF
+	  && (SYMBOL_REF_FLAG (op)
+      		|| op == XEXP (DECL_RTL (current_function_decl), 0)));
+}
+
 /* Accept any operand that can appear in a mips16 constant table
    instruction.  We can't use any of the standard operand functions
    because for these instructions we accept values that are not
@@ -2523,7 +2540,10 @@
       /* ... fall through ... */
 
     case SYMBOL_REF:
-      return SYMBOL_REF_FLAG (addr) ? 1 : 2;
+      if (!TARGET_QNXPIC)
+      	return SYMBOL_REF_FLAG (addr) ? 1 : 2;
+      else		/* Symbol refs are expensive in PIC */
+	return 4;
 
     case PLUS:
       {
@@ -4309,6 +4329,20 @@
   else
     mips_abicalls = MIPS_ABICALLS_NO;
 
+  /* For QNX PIC, set flag_pic to 1 */ 
+  if (TARGET_QNXPIC)
+    {
+	  /* We need mips_abicalls defined so that the optimizer does not
+       * move stuff past a jal and does not optimize the delay slot.
+       */
+      // mips_abicalls = MIPS_ABICALLS_YES;
+      flag_pic = 1;
+      mips_section_threshold = 0;
+      if (mips_section_threshold > 0)
+	mips_section_threshold = 0;
+	// warning ("-G is incompatible with QNX PIC code which is the default");
+    }
+
   /* -membedded-pic is a form of PIC code suitable for embedded
      systems.  All calls are made using PC relative addressing, and
      all data is addressed using the $gp register.  This requires gas,
@@ -5281,6 +5315,13 @@
     /* ??? but do not want this (or want pic0) if -non-shared? */
     fprintf (stream, "\t%s\n", ABICALLS_ASM_OP);
 
+#ifndef QNXPIC_ASM_OP
+#define QNXPIC_ASM_OP ".qnxpiccalls"
+#endif
+  if (TARGET_QNXPIC)
+    /* ??? but do not want this (or want pic0) if -non-shared? */
+    fprintf (stream, "\t%s\n", QNXPIC_ASM_OP);
+
   if (TARGET_MIPS16)
     fprintf (stream, "\t.set\tmips16\n");
 
@@ -5869,6 +5910,8 @@
 			 || (mips_abi != ABI_32 && mips_abi != ABI_O64)
 			 || regno != (PIC_OFFSET_TABLE_REGNUM - GP_REG_FIRST))
 		  {
+		    if (TARGET_QNXPIC && regno == QNXPIC_GOTREG_REGNUM)
+			emit_insn(gen_blockage());
 		    emit_move_insn (reg_rtx, mem_rtx);
 		    if (TARGET_MIPS16
 			&& regno != GP_REG_FIRST + 31
@@ -6073,6 +6116,125 @@
 	  }
     }
 }
+
+
+/*
+ * Determines whether an insn does a symbol reference
+ * We want to scan the whole insn recursively, looking for 
+ * the highest "reference" class. 
+ */
+
+#define PIC_NO_SYMBOL_REF 	0
+#define PIC_LOCAL_FUNCTION_JMP 	1
+#define PIC_GLOBAL_SYMBOL_REF 	2
+
+static int 
+mips_is_symbol_ref(insn)
+	rtx insn;
+{
+int i,j;
+int tmp, ret=0;
+char *format_ptr;
+
+    if (insn == NULL) return 0;
+    if(GET_CODE(insn) == SYMBOL_REF) {
+	if(SYMBOL_REF_FLAG(insn)
+         	|| insn == XEXP (DECL_RTL (current_function_decl), 0))
+   	    return PIC_LOCAL_FUNCTION_JMP;
+	else return PIC_GLOBAL_SYMBOL_REF;
+
+    } else if(GET_CODE(insn) == JUMP_INSN) {
+	/*
+	 * If we have a switch/case table, make sure we load GP in that function
+	 */	
+	rtx	pattern = PATTERN(insn);
+
+	if(GET_CODE(pattern) == PARALLEL || GET_CODE(pattern) == ADDR_VEC || GET_CODE(pattern) == ADDR_DIFF_VEC) {
+		ret = PIC_GLOBAL_SYMBOL_REF;
+	}
+    }
+
+    format_ptr = GET_RTX_FORMAT(GET_CODE(insn));
+
+    for (i = 0; i < GET_RTX_LENGTH(GET_CODE(insn)); i++) {
+	if ((*format_ptr == 's') || (*format_ptr == 'S')) {
+		if(GET_CODE(insn) == SYMBOL_REF) 
+			{
+			if(!SYMBOL_REF_FLAG(insn)) 
+				ret = PIC_GLOBAL_SYMBOL_REF;
+			else if(ret < PIC_LOCAL_FUNCTION_JMP)
+				ret = PIC_LOCAL_FUNCTION_JMP;
+			}
+	}
+	if(*format_ptr == 'e') {
+		if(tmp = mips_is_symbol_ref(XEXP(insn,i))) 
+			if (tmp > ret) ret = tmp;
+	}
+	if(*format_ptr == 'E' || *format_ptr == 'V') {
+		if (NULL != XVEC(insn,i)) {
+			for(j = 0; j < XVECLEN(insn,i);j++) {
+				if(tmp = mips_is_symbol_ref(XVECEXP(insn,i,j))) 
+					if (tmp > ret) 
+						ret = tmp;
+			}
+		}
+	}
+	format_ptr++;
+    }	
+    return ret;
+}
+
+/*
+ * finalize_pic: we use this to scan through the insn after the 
+ * function has been built, to optimize the QNX pic code. 
+ * We have three cases here:
+ * 1. This function is non-leaf, and does jumps to other functions,
+ *    or references a data symbol. In this case, we cannot do anything.
+ * 2. This function is a leaf function with no symbol ref. We
+ *    can remove the .cpload insn, as well as remove some of the stack 
+ *    loads and stores (for $s7 and for $ra)
+ * 3. The function is non-leaf, but does a call to a local static fn, using
+ *    a branch. In this case, we can do as in 2. except we need to keep
+ *    $ra saved and restored.
+ *
+ */
+
+void
+mips_finalize_pic()
+{
+rtx insn, first_insn;
+int tmp, is_sym_ref = 0;
+int which_case;
+char *fnname;
+
+    insn = get_insns();
+    if (GET_CODE(insn) == NOTE) {
+	insn = next_nonnote_insn(insn);
+    }
+    first_insn = insn;
+	
+   fnname = XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0);
+    if(!TARGET_QNXPIC) return;
+
+    for(; insn != NULL_RTX; insn = NEXT_INSN(insn))
+      { 
+	if(tmp = mips_is_symbol_ref(insn)) 
+		if(tmp > is_sym_ref) is_sym_ref = tmp; 
+		// Watch for data refs...
+    		if(tmp && GET_CODE(insn) != CALL_INSN) 
+			is_sym_ref = PIC_GLOBAL_SYMBOL_REF; 
+      }
+
+    /*
+     * Now we must emit a new insn for the PIC header, if needed.
+     */
+    if((is_sym_ref == PIC_GLOBAL_SYMBOL_REF) || profile_flag || profile_block_flag) {
+	rtx gp_offset=GEN_INT(0);
+	rtx init = gen_qnxpic_loadgp(gp_offset);
+	emit_insn_before (init, first_insn);
+    }
+}
+
 
 /* Set up the stack and frame (if desired) for the function.  */
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/mips.h gcc/gcc/config/mips/mips.h
--- gcc-2.95.2/gcc/config/mips/mips.h	1999-05-20 09:05:45.000000000 +1000
+++ gcc/gcc/config/mips/mips.h	2005-09-21 09:55:28.000000000 +1000
@@ -233,6 +233,7 @@
 extern int		mips16_constant ();
 extern int		mips16_constant_after_function_p ();
 extern int		build_mips16_call_stub ();
+extern void		mips_finalize_pic();
 
 /* Recognition functions that return if a condition is true.  */
 extern int		address_operand ();
@@ -328,6 +329,7 @@
 #define MASK_MAD	0x00040000	/* Generate mad/madu as on 4650.  */
 #define MASK_4300_MUL_FIX 0x00080000    /* Work-around early Vr4300 CPU bug */
 #define MASK_MIPS3900	0x00100000	/* like -mips1 only 3900 */
+#define MASK_QNXPIC	0x00200000	/* like -mips1 only 3900 */
 #define MASK_MIPS16	0x01000000	/* Generate mips16 code */
 #define MASK_NO_CHECK_ZERO_DIV 0x04000000	/* divide by zero checking */
 #define MASK_CHECK_RANGE_DIV 0x08000000	/* divide result range checking */
@@ -391,6 +393,9 @@
 					/* .abicalls, etc from Pyramid V.4 */
 #define TARGET_ABICALLS		(target_flags & MASK_ABICALLS)
 
+					/* .qnxpic, etc for QNX Neutrino 2.0 */
+#define TARGET_QNXPIC		(target_flags & MASK_QNXPIC)
+
 					/* OSF pic references to externs */
 #define TARGET_HALF_PIC		(target_flags & MASK_HALF_PIC)
 
@@ -502,6 +507,10 @@
      "Use OSF PIC"},							\
   {"no-half-pic",	 -MASK_HALF_PIC,				\
      "Don't use OSF PIC"},						\
+  {"qnxpic",		  MASK_QNXPIC,					\
+     "generate QNX PIC code"},						\
+  {"no-qnxpic",		 -MASK_QNXPIC,					\
+     "Don't generate QNX PIC code"},					\
   {"long-calls",	  MASK_LONG_CALLS,				\
      "Use indirect calls"},						\
   {"no-long-calls",	 -MASK_LONG_CALLS,				\
@@ -732,6 +741,11 @@
 	for (regno = ST_REG_FIRST; regno <= ST_REG_LAST; regno++)	\
 	  fixed_regs[regno] = call_used_regs[regno] = 1;		\
       }									\
+    if (TARGET_QNXPIC)							\
+      {									\
+	int regno = GP_REG_FIRST + 23;					\
+        fixed_regs[regno] = call_used_regs[regno] = 1;			\
+      }									\
     /* In mips16 mode, we permit the $t temporary registers to be used	\
        for reload.  We prohibit the unused $s registers, since they	\
        are caller saved, and saving them via a mips16 register would	\
@@ -1747,6 +1761,14 @@
 
 #define PIC_FUNCTION_ADDR_REGNUM (GP_REG_FIRST + 25)
 
+/* Register used for QNX PIC for the GP pointer in library code */
+#define QNXPIC_GOTREG_REGNUM (GP_REG_FIRST + 23)
+
+/* Define a finalize_pic, used for QNX pic right now to optimize
+ * for leaf fucntions. 
+ */
+#define FINALIZE_PIC mips_finalize_pic()
+
 /* Initialize embedded_pic_fnaddr_rtx before RTL generation for
    each function.  We used to do this in FINALIZE_PIC, but FINALIZE_PIC
    isn't always called for static inline functions.  */
@@ -2591,7 +2613,8 @@
 #define MUST_SAVE_REGISTER(regno) \
  ((regs_ever_live[regno] && !call_used_regs[regno])			\
   || (regno == HARD_FRAME_POINTER_REGNUM && frame_pointer_needed)	\
-  || (regno == (GP_REG_FIRST + 31) && regs_ever_live[GP_REG_FIRST + 31]))
+  || (regno == (GP_REG_FIRST + 31) && regs_ever_live[GP_REG_FIRST + 31])\
+  || (TARGET_QNXPIC && regno == (GP_REG_FIRST + 23) && regs_ever_live[GP_REG_FIRST + 23]))
 
 /* ALIGN FRAMES on double word boundaries */
 #ifndef MIPS_STACK_ALIGN
@@ -3227,7 +3250,7 @@
     /* We can not perform GP optimizations on variables which are in	\
        specific sections, except for .sdata and .sbss which are		\
        handled above.  */						\
-    else if (TARGET_GP_OPT && TREE_CODE (DECL) == VAR_DECL		\
+    else if (!TARGET_QNXPIC && TARGET_GP_OPT && TREE_CODE (DECL) == VAR_DECL		\
 	     && DECL_SECTION_NAME (DECL) == NULL_TREE)			\
       {									\
 	int size = int_size_in_bytes (TREE_TYPE (DECL));		\
@@ -3236,6 +3259,16 @@
 	  SYMBOL_REF_FLAG (XEXP (DECL_RTL (DECL), 0)) = 1;		\
       }									\
 									\
+    else if (TARGET_QNXPIC)						\
+      {									\
+	if (TREE_CODE(DECL) == FUNCTION_DECL)				\
+          {								\
+	      rtx sym_ref = XEXP (DECL_RTL (DECL) ,0);			\
+	      if (TREE_ASM_WRITTEN(DECL) || !TREE_PUBLIC(DECL) || TREE_STATIC(DECL) || !DECL_EXTERNAL(DECL)) \
+		SYMBOL_REF_FLAG(sym_ref) = 1;				\
+	   }								\
+      }									\
+									\
     else if (HALF_PIC_P ())						\
       {									\
         HALF_PIC_ENCODE (DECL);						\
@@ -3447,11 +3480,18 @@
       if (INTVAL (offset) < -32768 || INTVAL (offset) > 32767)		\
 	return COSTS_N_INSNS (2);					\
 									\
+      /* If QNX pic, symbol refs are costly.... */			\
+      if (TARGET_QNXPIC) 						\
+        return COSTS_N_INSNS (4);					\
+									\
       return COSTS_N_INSNS (SYMBOL_REF_FLAG (symref) ? 1 : 2);		\
     }									\
 									\
   case SYMBOL_REF:							\
-    return COSTS_N_INSNS (SYMBOL_REF_FLAG (X) ? 1 : 2);			\
+    if (TARGET_QNXPIC)							\
+	return  COSTS_N_INSNS (4);					\
+    else								\
+    	return COSTS_N_INSNS (SYMBOL_REF_FLAG (X) ? 1 : 2);		\
 									\
   case CONST_DOUBLE:							\
     {									\
@@ -3827,7 +3867,8 @@
   {"consttable_operand",	{ LABEL_REF, SYMBOL_REF, CONST_INT,	\
 				  CONST_DOUBLE, CONST }},		\
   {"extend_operator",           { SIGN_EXTEND, ZERO_EXTEND }},          \
-  {"highpart_shift_operator",   { ASHIFTRT, LSHIFTRT, ROTATERT, ROTATE }},
+  {"highpart_shift_operator",   { ASHIFTRT, LSHIFTRT, ROTATERT, ROTATE }},\
+  {"current_file_fn_operand",   { SYMBOL_REF }},
 
 
 
@@ -4215,6 +4256,22 @@
 do									\
  {									\
    mips_declare_object (STREAM, NAME, "", ":\n", 0);			\
+   if(TARGET_QNXPIC)  							\
+    { 									\
+       size_directive_output = 0;					\
+       fprintf (STREAM, "\t%s\t ", ".type");				\
+       assemble_name (STREAM, NAME);					\
+       putc (',', STREAM);						\
+       fprintf (STREAM, "@%s", "object");				\
+       putc ('\n', STREAM);						\
+       if (!flag_inhibit_size_directive && DECL_SIZE (DECL))		\
+         {								\
+	    size_directive_output = 1;					\
+	    fprintf (STREAM, "\t%s\t ", ".size");			\
+	    assemble_name (STREAM, NAME);				\
+	    fprintf (STREAM, ",%d\n",  int_size_in_bytes (TREE_TYPE (DECL)));	\
+         }								\
+     }									\
    HALF_PIC_DECLARE (NAME);						\
  }									\
 while (0)
@@ -4638,9 +4695,10 @@
 /* See mips_expand_prologue's use of loadgp for when this should be
    true.  */
 
-#define DONT_ACCESS_GBLS_AFTER_EPILOGUE (TARGET_ABICALLS 		\
+#define DONT_ACCESS_GBLS_AFTER_EPILOGUE ((TARGET_ABICALLS 		\
 					 && mips_abi != ABI_32		\
-					 && mips_abi != ABI_O64)
+					 && mips_abi != ABI_O64)	\
+					|| TARGET_QNXPIC))
 
 /* In mips16 mode, we need to look through the function to check for
    PC relative loads that are out of range.  */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/mips.md gcc/gcc/config/mips/mips.md
--- gcc-2.95.2/gcc/config/mips/mips.md	1999-06-29 11:59:20.000000000 +1000
+++ gcc/gcc/config/mips/mips.md	2005-09-15 23:20:23.000000000 +1000
@@ -5321,21 +5321,21 @@
 ;; in FP registers (off by default, use -mdebugh to enable).
 
 (define_insn "movsi_internal1"
-  [(set (match_operand:SI 0 "nonimmediate_operand" "=d,d,d,d,d,d,R,m,*d,*f*z,*f,*f,*f,*R,*m,*x,*x,*d,*d")
-	(match_operand:SI 1 "move_operand" "d,S,IKL,Mnis,R,m,dJ,dJ,*f*z,*d,*f,*R,*m,*f,*f,J,*d,*x,*a"))]
+  [(set (match_operand:SI 0 "nonimmediate_operand" "=d,d,d,d,d,d,d,R,m,*d,*f*z,*f,*f,*f,*R,*m,*x,*x,*d,*d")
+	(match_operand:SI 1 "move_operand" "d,S,IKL,s,Mnis,R,m,dJ,dJ,*f*z,*d,*f,*R,*m,*f,*f,J,*d,*x,*a"))]
   "TARGET_DEBUG_H_MODE && !TARGET_MIPS16
    && (register_operand (operands[0], SImode)
        || register_operand (operands[1], SImode)
        || (GET_CODE (operands[1]) == CONST_INT && INTVAL (operands[1]) == 0))"
   "* return mips_move_1word (operands, insn, FALSE);"
-  [(set_attr "type"	"move,load,arith,arith,load,load,store,store,xfer,xfer,move,load,load,store,store,hilo,hilo,hilo,hilo")
+  [(set_attr "type"	"move,load,arith,load,arith,load,load,store,store,xfer,xfer,move,load,load,store,store,hilo,hilo,hilo,hilo")
    (set_attr "mode"	"SI")
-   (set_attr "length"	"1,2,1,2,1,2,1,2,1,1,1,1,2,1,2,1,1,1,1")])
+   (set_attr "length"	"1,2,1,2,2,1,2,1,2,1,1,1,1,2,1,2,1,1,1,1")])
 
 (define_insn "movsi_internal2"
   [(set (match_operand:SI 0 "nonimmediate_operand" "=d,d,d,d,d,d,R,m,*d,*z,*x,*d,*x,*d")
 	(match_operand:SI 1 "move_operand" "d,S,IKL,Mnis,R,m,dJ,dJ,*z,*d,J,*x,*d,*a"))]
-  "!TARGET_DEBUG_H_MODE && !TARGET_MIPS16
+  "!TARGET_DEBUG_H_MODE && !TARGET_MIPS16 && !TARGET_QNXPIC
    && (register_operand (operands[0], SImode)
        || register_operand (operands[1], SImode)
        || (GET_CODE (operands[1]) == CONST_INT && INTVAL (operands[1]) == 0))"
@@ -5344,6 +5344,18 @@
    (set_attr "mode"	"SI")
    (set_attr "length"	"1,2,1,2,1,2,1,2,1,1,1,1,1,1")])
 
+(define_insn "movsi_internal3"
+  [(set (match_operand:SI 0 "nonimmediate_operand" "=d,d,d,d,d,d,d,R,m,*d,*z,*x,*d,*x,*d")
+	(match_operand:SI 1 "move_operand" "d,S,IKL,s,Mnis,R,m,dJ,dJ,*z,*d,J,*x,*d,*a"))]
+  "TARGET_QNXPIC
+   && (register_operand (operands[0], SImode)
+       || register_operand (operands[1], SImode)
+       || (GET_CODE (operands[1]) == CONST_INT && INTVAL (operands[1]) == 0))"
+  "* return mips_move_1word (operands, insn, FALSE);"
+  [(set_attr "type"	"move,load,arith,load,arith,load,load,store,store,xfer,xfer,hilo,hilo,hilo,hilo")
+   (set_attr "mode"	"SI")
+   (set_attr "length"	"1,2,1,2,2,1,2,1,2,1,1,1,1,1,1")])
+
 ;; This is the mips16 movsi instruction.  We accept a small integer as
 ;; the source if the destination is a GP memory reference.  This is
 ;; because we want the combine pass to turn adding a GP reference to a
@@ -6130,6 +6142,20 @@
    (set_attr "mode"	"DI")
    (set_attr "length"	"3")])
 
+;; This emits a .cpload and .cprestore pair for the QNX pic code
+;;
+(define_insn "qnxpic_loadgp"
+  [(set (reg:DI 23)
+	(unspec_volatile:DI [(match_operand:DI 0 "immediate_operand" "")] 1))
+   (clobber (reg:DI 31))
+   (clobber (reg:DI 23))]
+  ""
+  "*
+{
+   return \".cpload $31\";
+
+}")
+
 ;; Block moves, see mips.c for more details.
 ;; Argument 0 is the destination
 ;; Argument 1 is the source
@@ -9558,7 +9584,7 @@
   [(call (mem (match_operand 0 "call_insn_operand" "ri"))
 	 (match_operand 1 "" "i"))
    (clobber (match_operand:SI 2 "register_operand" "=d"))]
-  "!TARGET_ABICALLS && !TARGET_LONG_CALLS"
+  "!TARGET_ABICALLS && !TARGET_LONG_CALLS && !TARGET_QNXPIC"
   "*
 {
   register rtx target = operands[0];
@@ -9574,7 +9600,49 @@
    (set_attr "mode"	"none")
    (set_attr "length"	"1")])
 
-(define_insn "call_internal2"
+;;
+;; This is used for doing local calls to static functions in QNX pic
+;;
+(define_insn "call_internal2a"
+   [(call (mem (match_operand 0 "current_file_fn_operand" "s"))
+	 (match_operand 1 "" "i"))
+   (clobber (match_operand:SI 2 "register_operand" "=d"))]
+  "(TARGET_QNXPIC && !TARGET_LONG_CALLS)"
+  "*
+{
+	return \"%*bgezal\\t$0,%0\";
+}"
+  [(set_attr "type"	"call")
+   (set_attr "mode"	"none")
+   (set_attr "length"	"1")])
+
+(define_insn "call_internal2b"
+  [(call (mem (match_operand 0 "call_insn_operand" "ri"))
+	 (match_operand 1 "" "i"))
+   (clobber (match_operand:SI 2 "register_operand" "=d"))]
+  "TARGET_QNXPIC && !TARGET_LONG_CALLS"
+  "*
+{
+  register rtx target = operands[0];
+
+  if(current_file_fn_operand(target,0))
+    {
+	return \"%*bgezal\\t$0,%0\";
+    }
+  else if (GET_CODE (target) == SYMBOL_REF)
+    {
+      return \"%&jal\\t%0\\t#Should not be here\";
+    }
+  else if (GET_CODE (target) == CONST_INT)
+    return \"%(%[li\\t%@,%0\\n\\tjal\\t%2,%@%]\";
+  else
+    return \"%&jal\\t%2,%0\";
+}"
+  [(set_attr "type"	"call")
+   (set_attr "mode"	"none")
+   (set_attr "length"	"2")])
+
+(define_insn "call_internal2c"
   [(call (mem (match_operand 0 "call_insn_operand" "ri"))
 	 (match_operand 1 "" "i"))
    (clobber (match_operand:SI 2 "register_operand" "=d"))]
@@ -9605,7 +9673,7 @@
   [(call (mem:SI (match_operand:SI 0 "register_operand" "r"))
 	 (match_operand 1 "" "i"))
    (clobber (match_operand:SI 2 "register_operand" "=d"))]
-  "!(Pmode == DImode) && !TARGET_ABICALLS && TARGET_LONG_CALLS"
+  "!(Pmode == DImode) && !TARGET_ABICALLS && !TARGET_QNXPIC && TARGET_LONG_CALLS"
   "%*jal\\t%2,%0"
   [(set_attr "type"	"call")
    (set_attr "mode"	"none")
@@ -9615,7 +9683,7 @@
   [(call (mem:DI (match_operand:DI 0 "se_register_operand" "r"))
 	 (match_operand 1 "" "i"))
    (clobber (match_operand:SI 2 "register_operand" "=d"))]
-  "Pmode == DImode && !TARGET_ABICALLS && TARGET_LONG_CALLS"
+  "Pmode == DImode && !TARGET_ABICALLS && !TARGET_QNXPIC && TARGET_LONG_CALLS"
   "%*jal\\t%2,%0"
   [(set_attr "type"	"call")
    (set_attr "mode"	"none")
@@ -9625,7 +9693,7 @@
   [(call (mem:SI (match_operand:SI 0 "register_operand" "r"))
 	 (match_operand 1 "" "i"))
    (clobber (match_operand:SI 2 "register_operand" "=d"))]
-  "!(Pmode == DImode) && TARGET_ABICALLS && TARGET_LONG_CALLS"
+  "!(Pmode == DImode) && (TARGET_ABICALLS || TARGET_QNXPIC) && TARGET_LONG_CALLS"
   "*
 {
   if (REGNO (operands[0]) != PIC_FUNCTION_ADDR_REGNUM)
@@ -9641,7 +9709,7 @@
   [(call (mem:DI (match_operand:DI 0 "se_register_operand" "r"))
 	 (match_operand 1 "" "i"))
    (clobber (match_operand:SI 2 "register_operand" "=d"))]
-  "Pmode == DImode && TARGET_ABICALLS && TARGET_LONG_CALLS"
+  "Pmode == DImode && (TARGET_ABICALLS || TARGET_QNXPIC) && TARGET_LONG_CALLS"
   "*
 {
   if (REGNO (operands[0]) != PIC_FUNCTION_ADDR_REGNUM)
@@ -9742,7 +9810,7 @@
         (call (mem (match_operand 1 "call_insn_operand" "ei"))
               (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=y"))]
-  "TARGET_MIPS16 && !TARGET_ABICALLS && !TARGET_LONG_CALLS
+  "TARGET_MIPS16 && !TARGET_ABICALLS && !TARGET_QNXPIC && !TARGET_LONG_CALLS
    && GET_CODE (operands[3]) == REG && REGNO (operands[3]) == 31"
   "%*jal\\t%1"
   [(set_attr "type"	"call")
@@ -9754,7 +9822,7 @@
         (call (mem (match_operand 1 "call_insn_operand" "ri"))
               (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=d"))]
-  "!TARGET_ABICALLS && !TARGET_LONG_CALLS"
+  "!TARGET_ABICALLS && !TARGET_QNXPIC && !TARGET_LONG_CALLS"
   "*
 {
   register rtx target = operands[1];
@@ -9770,7 +9838,51 @@
    (set_attr "mode"	"none")
    (set_attr "length"	"1")])
 
-(define_insn "call_value_internal2"
+;;
+;; This is used for doing local calls to static functions in QNX pic
+;;
+(define_insn "call_value_internal2a"
+  [(set (match_operand 0 "register_operand" "=df")
+        (call (mem (match_operand 1 "current_file_fn_operand" "s"))
+              (match_operand 2 "" "i")))
+   (clobber (match_operand:SI 3 "register_operand" "=d"))]
+  "(TARGET_QNXPIC && !TARGET_LONG_CALLS)"
+  "*
+{
+	return \"%*bgezal\\t$0,%1\";
+}"
+  [(set_attr "type"	"call")
+   (set_attr "mode"	"none")
+   (set_attr "length"	"2")])
+  
+(define_insn "call_value_internal2b"
+  [(set (match_operand 0 "register_operand" "=df")
+        (call (mem (match_operand 1 "call_insn_operand" "ri"))
+              (match_operand 2 "" "i")))
+   (clobber (match_operand:SI 3 "register_operand" "=d"))]
+  "TARGET_QNXPIC && !TARGET_LONG_CALLS"
+  "*
+{
+  register rtx target = operands[1];
+
+    if(current_file_fn_operand(target,0))
+    {
+	return \"%*bgezal\\t$0,%1\";
+    }
+ else if (GET_CODE (target) == SYMBOL_REF)
+    {
+      return \"%&jal\\t%1\\t# Should not get here\";
+    }
+  else if (GET_CODE (target) == CONST_INT)
+    return \"%(%[li\\t%@,%1\\n\\tjal\\t%3,%@%]\";
+  else
+    return \"%&jal\\t%3,%1\";
+}"
+  [(set_attr "type"	"call")
+   (set_attr "mode"	"none")
+   (set_attr "length"	"2")])
+
+(define_insn "call_value_internal2c"
   [(set (match_operand 0 "register_operand" "=df")
         (call (mem (match_operand 1 "call_insn_operand" "ri"))
               (match_operand 2 "" "i")))
@@ -9804,7 +9916,7 @@
 	      (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=d"))]
   "!TARGET_MIPS16 
-   && !(Pmode == DImode) && !TARGET_ABICALLS && TARGET_LONG_CALLS"
+   && !(Pmode == DImode) && !TARGET_ABICALLS && !TARGET_QNXPIC && TARGET_LONG_CALLS"
   "%*jal\\t%3,%1"
   [(set_attr "type"	"call")
    (set_attr "mode"	"none")
@@ -9816,7 +9928,7 @@
 	      (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=d"))]
   "!TARGET_MIPS16 
-   && Pmode == DImode && !TARGET_ABICALLS && TARGET_LONG_CALLS"
+   && Pmode == DImode && !TARGET_ABICALLS && !TARGET_QNXPIC && TARGET_LONG_CALLS"
   "%*jal\\t%3,%1"
   [(set_attr "type"	"call")
    (set_attr "mode"	"none")
@@ -9827,7 +9939,7 @@
         (call (mem:SI (match_operand:SI 1 "register_operand" "e"))
 	      (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=y"))]
-  "TARGET_MIPS16 && !(Pmode == DImode) && !TARGET_ABICALLS && TARGET_LONG_CALLS
+  "TARGET_MIPS16 && !(Pmode == DImode) && !TARGET_ABICALLS && !TARGET_QNXPIC && TARGET_LONG_CALLS
    && GET_CODE (operands[3]) == REG && REGNO (operands[3]) == 31"
   "%*jal\\t%3,%1"
   [(set_attr "type"	"call")
@@ -9839,7 +9951,7 @@
         (call (mem:SI (match_operand:SI 1 "register_operand" "r"))
 	      (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=d"))]
-  "!(Pmode == DImode) && TARGET_ABICALLS && TARGET_LONG_CALLS"
+  "!(Pmode == DImode) && (TARGET_ABICALLS || TARGET_QNXPIC) && TARGET_LONG_CALLS"
   "*
 {
   if (REGNO (operands[1]) != PIC_FUNCTION_ADDR_REGNUM)
@@ -9856,7 +9968,7 @@
         (call (mem:DI (match_operand:DI 1 "se_register_operand" "r"))
 	      (match_operand 2 "" "i")))
    (clobber (match_operand:SI 3 "register_operand" "=d"))]
-  "Pmode == DImode && TARGET_ABICALLS && TARGET_LONG_CALLS"
+  "Pmode == DImode && (TARGET_ABICALLS || TARGET_QNXPIC) && TARGET_LONG_CALLS"
   "*
 {
   if (REGNO (operands[1]) != PIC_FUNCTION_ADDR_REGNUM)
@@ -9890,7 +10002,7 @@
         (call (mem (match_dup 1))
               (match_dup 2)))
    (clobber (match_operand:SI 4 "register_operand" "=d"))]
-  "TARGET_ABICALLS && !TARGET_LONG_CALLS"
+  "(TARGET_ABICALLS || TARGET_QNXPIC) && !TARGET_LONG_CALLS"
   "*
 {
   register rtx target = operands[1];
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/nto.h gcc/gcc/config/mips/nto.h
--- gcc-2.95.2/gcc/config/mips/nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/mips/nto.h	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,366 @@
+/* Definitions of target machine for GNU compiler.  MIPS R3000 version with
+   GOFAST floating point library.
+   Copyright (C) 1994 Free Software Foundation, Inc.
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+/* Use ELF.  */
+#define OBJECT_FORMAT_ELF
+#define HAS_INIT_SECTION
+
+/* We want to use DWARF, but we're not exactly sure how to yet */
+#define DWARF_DEBUGGING_INFO
+#define DWARF2_DEBUGGING_INFO
+
+/* Work around assembler forward label references generated in exception
+   handling code. */
+#define DWARF2_UNWIND_INFO 0
+
+#ifndef PREFERRED_DEBUGGING_TYPE
+#define PREFERRED_DEBUGGING_TYPE SDB_DEBUG
+#endif
+
+#ifndef SET_ASM_OP
+#define SET_ASM_OP 	"\t.set"
+#endif
+
+#ifndef INIT_SECTION_ASM_OP
+#define INIT_SECTION_ASM_OP "\t.section \".init\",\"ax\""
+#endif
+
+#ifndef FINI_SECTION_ASM_OP
+#define FINI_SECTION_ASM_OP "\t.section \".fini\",\"ax\""
+#endif
+
+#ifndef TARGET_DEFAULT
+#define TARGET_DEFAULT 0
+#endif
+
+#include "mips/mips.h"
+
+/* Support the ctors/dtors and other sections.  */
+ 
+/* Define the pseudo-ops used to switch to the .ctors and .dtors sections.
+ 
+   Note that we want to give these sections the SHF_WRITE attribute
+   because these sections will actually contain data (i.e. tables of
+   addresses of functions in the current root executable or shared library
+   file) and, in the case of a shared library, the relocatable addresses
+   will have to be properly resolved/relocated (and then written into) by
+   the dynamic linker when it actually attaches the given shared library
+   to the executing process.  (Note that on SVR4, you may wish to use the
+   `-z text' option to the ELF linker, when building a shared library, as
+   an additional check that you are doing everything right.  But if you do
+   use the `-z text' option when building a shared library, you will get
+   errors unless the .ctors and .dtors sections are marked as writable
+   via the SHF_WRITE attribute.)  */
+
+#undef CTORS_SECTION_ASM_OP 
+#undef DTORS_SECTION_ASM_OP  
+#define CTORS_SECTION_ASM_OP    "\t.section\t.ctors,\"aw\""
+#define DTORS_SECTION_ASM_OP    "\t.section\t.dtors,\"aw\""
+ 
+/* A list of other sections which the compiler might be "in" at any
+   given time.  */
+#undef EXTRA_SECTIONS
+#define EXTRA_SECTIONS in_sdata, in_rdata, in_ctors, in_dtors
+ 
+#undef EXTRA_SECTION_FUNCTIONS
+#define EXTRA_SECTION_FUNCTIONS                                         \
+  SECTION_FUNCTION_TEMPLATE(sdata_section, in_sdata, SDATA_SECTION_ASM_OP) \
+  SECTION_FUNCTION_TEMPLATE(rdata_section, in_rdata, RDATA_SECTION_ASM_OP) \
+  SECTION_FUNCTION_TEMPLATE(ctors_section, in_ctors, CTORS_SECTION_ASM_OP) \
+  SECTION_FUNCTION_TEMPLATE(dtors_section, in_dtors, DTORS_SECTION_ASM_OP)
+
+#define SECTION_FUNCTION_TEMPLATE(FN, ENUM, OP)                               \
+void FN ()                                                            \
+{                                                                     \
+  if (in_section != ENUM)                                             \
+    {                                                                 \
+      fprintf (asm_out_file, "%s\n", OP);                             \
+      in_section = ENUM;                                              \
+    }                                                                 \
+}
+
+
+/* A C statement (sans semicolon) to output an element in the table of
+   global constructors.  */
+#define ASM_OUTPUT_CONSTRUCTOR(FILE,NAME)                             \
+  do {                                                                \
+    ctors_section ();                                                 \
+    fprintf (FILE, "\t%s\t", TARGET_LONG64 ? ".dword" : ".word");     \
+    assemble_name (FILE, NAME);                                       \
+    fprintf (FILE, "\n");                                             \
+  } while (0)
+
+
+/* A C statement (sans semicolon) to output an element in the table of
+   global destructors.  */
+#define ASM_OUTPUT_DESTRUCTOR(FILE,NAME)                              \
+  do {                                                                \
+    dtors_section ();                                                 \
+    fprintf (FILE, "\t%s\t", TARGET_LONG64 ? ".dword" : ".word");     \
+    assemble_name (FILE, NAME);                                       \
+    fprintf (FILE, "\n");                                             \
+  } while (0)
+/* Handle #pragma weak and #pragma pack.  */
+#undef  HANDLE_SYSV_PRAGMA
+#define HANDLE_SYSV_PRAGMA
+
+#undef LIB_SPEC
+#ifdef __QNXNTO__
+#define LIB_SPEC "-L/mips%{EL:le}%{!EL:be}/lib \
+%{!symbolic: -lc \
+ -dn -Bstatic %{!shared: -lc} %{shared: -lcS}} "
+#elif defined(__sun__)
+#define LIB_SPEC "-L/opt/QNXsdk/target/qnx6/mips%{EL:le}%{!EL:be}/lib \
+%{!symbolic: -lc \
+ -dn -Bstatic %{!shared: -lc} %{shared: -lcS}} "
+#else
+#define LIB_SPEC "-L/usr/nto/mips%{EL:le}%{!EL:be}/lib \
+%{!symbolic: -lc \
+ -dn -Bstatic %{!shared: -lc} %{shared: -lcS}} "
+#endif
+
+#undef STARTFILE_SPEC
+#if defined(__QNXNTO__)
+#define STARTFILE_SPEC "%{!shared:/mips%{!EL:be}%{EL:le}/lib/%{pg:m}%{p:m}crt1.o} \
+	/mips%{!EL:be}%{EL:le}/lib/crti.o \
+	/mips%{!EL:be}%{EL:le}/lib/crtbegin.o \
+	-u_start"
+#elif defined(__sun__)
+#define STARTFILE_SPEC "%{!shared:/opt/QNXsdk/target/qnx6/mips%{!EL:be}%{EL:le}/lib/%{pg:m}%{p:m}crt1.o} \
+    /opt/QNXsdk/target/qnx6/mips%{!EL:be}%{EL:le}/lib/crti.o \
+    /opt/QNXsdk/target/qnx6/mips%{!EL:be}%{EL:le}/lib/crtbegin.o \
+    -u_start"
+#else
+#define STARTFILE_SPEC "%{!shared:/usr/nto/mips%{!EL:be}%{EL:le}/lib/%{pg:m}%{p:m}crt1.o} \
+       /usr/nto/mips%{!EL:be}%{EL:le}/lib/crti.o \
+       /usr/nto/mips%{!EL:be}%{EL:le}/lib/crtbegin.o \
+       -u_start"
+#endif
+
+#undef ENDFILE_SPEC
+#if defined(__QNXNTO__)
+#define ENDFILE_SPEC "/mips%{!EL:be}%{EL:le}/lib/crtend.o \
+	/mips%{!EL:be}%{EL:le}/lib/crtn.o"
+#elif defined(__sun__)
+#define ENDFILE_SPEC "/opt/QNXsdk/target/qnx6/mips%{!EL:be}%{EL:le}/lib/crtend.o \
+	/opt/QNXsdk/target/qnx6/mips%{!EL:be}%{EL:le}/lib/crtn.o"
+#else
+#define ENDFILE_SPEC "/usr/nto/mips%{!EL:be}%{EL:le}/lib/crtend.o \
+	/usr/nto/mips%{!EL:be}%{EL:le}/lib/crtn.o"
+#endif
+
+#undef LINK_SPEC
+#define LINK_SPEC "\
+%{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} %{mips4} \
+%{bestGnum} %{shared} %{non_shared} \
+%(linker_endian_spec) \
+%{EL:-belf32-littlemips} %{!EL:-belf32-bigmips} \
+%{MAP: -Map mapfile} \
+%{static: -dn -Bstatic} \
+%{!shared: --dynamic-linker /usr/lib/ldqnx.so.2} \
+-melf32bmipnto"
+
+#undef CC1_SPEC
+#define CC1_SPEC "\
+%{gline:%{!g:%{!g0:%{!g1:%{!g2: -g1}}}}} \
+%{mips1:-mfp32 -mgp32} %{mips2:-mfp32 -mgp32}\
+%{mips3:%{!msingle-float:%{!m4650:-mfp64}} -mgp64} \
+%{mips4:%{!msingle-float:%{!m4650:-mfp64}} -mgp64} \
+%{mfp64:%{msingle-float:%emay not use both -mfp64 and -msingle-float}} \
+%{mfp64:%{m4650:%emay not use both -mfp64 and -m4650}} \
+%{m4650:-mcpu=r4650} \
+%{m3900:-mips1 -mcpu=r3900 -mfp32 -mgp32} \
+%{G*} %{EB:-meb} %{EL:-mel} %{EB:%{EL:%emay not use both -EB and -EL}} \
+%{pic-none:   -mno-half-pic} \
+%{pic-lib:    -mhalf-pic} \
+%{pic-extern: -mhalf-pic} \
+%{pic-calls:  -mhalf-pic} \
+%{fpic:	-mqnxpic} \
+%{fPIC: -mqnxpic} \
+%{save-temps: } \
+%(subtarget_cc1_spec) \
+-mgas"
+
+#undef CPP_PREDEFINES
+#define CPP_PREDEFINES "-D__QNX__ -D__QNXNTO__ -D__MIPS__"
+
+#undef CPP_SPEC
+#if defined(__QNXNTO__)
+#define CPP_SPEC "\
+%{.cc:	-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.cxx:	-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.C:	-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.m:	-D__LANGUAGE_OBJECTIVE_C -D_LANGUAGE_OBJECTIVE_C -D__LANGUAGE_C -D_LANGUAGE_C} \
+%{.S:	-D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \
+%{.s:	-D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \
+%{!.S: %{!.s: %{!.cc: %{!.cxx: %{!.C: %{!.m: -D__LANGUAGE_C -D_LANGUAGE_C %{!ansi:-DLANGUAGE_C}}}}}}} \
+%(subtarget_cpp_size_spec) \
+%{mips3:-U__mips -D__mips=3 -D__mips64} \
+%{mips4:-U__mips -D__mips=4 -D__mips64} \
+%{mgp32:-U__mips64} %{mgp64:-D__mips64} \
+%{msingle-float:%{!msoft-float:-D__mips_single_float}} \
+%{m4650:%{!msoft-float:-D__mips_single_float}} \
+%{msoft-float:-D__mips_soft_float} \
+%{mabi=eabi:-D__mips_eabi} \
+%{!EL:-D__BIGENDIAN__} \
+%{EB:-UMIPSEL -U_MIPSEL -U__MIPSEL -U__MIPSEL__ -D_MIPSEB -D__MIPSEB -D__MIPSEB__ %{!ansi:-DMIPSEB}} \
+%{EL:-UMIPSEB -U_MIPSEB -U__MIPSEB -U__MIPSEB__ -D_MIPSEL -D__MIPSEL -D__MIPSEL__ %{!ansi:-DMIPSEL} -D__LITTLEENDIAN__} \
+%(long_max_spec) \
+%(subtarget_cpp_spec) \
+%{fpic: -D__PIC__} %{fPIC: -D__PIC__} \
+%{mqnxpic: -D__PIC__} \
+-nostdinc -idirafter /usr/include"
+#elif defined(__sun__)
+#define CPP_SPEC "\
+%{.cc:  -D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.cxx: -D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.C:   -D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.m:   -D__LANGUAGE_OBJECTIVE_C -D_LANGUAGE_OBJECTIVE_C -D__LANGUAGE_C -D_LANGUAGE_C} \
+%{.S:   -D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \
+%{.s:   -D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \
+%{!.S: %{!.s: %{!.cc: %{!.cxx: %{!.C: %{!.m: -D__LANGUAGE_C -D_LANGUAGE_C %{!ansi:-DLANGUAGE_C}}}}}}} \
+%(subtarget_cpp_size_spec) \
+%{mips3:-U__mips -D__mips=3 -D__mips64} \
+%{mips4:-U__mips -D__mips=4 -D__mips64} \
+%{mgp32:-U__mips64} %{mgp64:-D__mips64} \
+%{msingle-float:%{!msoft-float:-D__mips_single_float}} \
+%{m4650:%{!msoft-float:-D__mips_single_float}} \
+%{msoft-float:-D__mips_soft_float} \
+%{mabi=eabi:-D__mips_eabi} \
+%{!EL:-D__BIGENDIAN__} \
+%{EB:-UMIPSEL -U_MIPSEL -U__MIPSEL -U__MIPSEL__ -D_MIPSEB -D__MIPSEB -D__MIPSEB__ %{!ansi:-DMIPSEB}} \
+%{EL:-UMIPSEB -U_MIPSEB -U__MIPSEB -U__MIPSEB__ -D_MIPSEL -D__MIPSEL -D__MIPSEL__ %{!ansi:-DMIPSEL} -D__LITTLEENDIAN__} \
+%(long_max_spec) \
+%(subtarget_cpp_spec) \
+%{fpic: -D__PIC__} %{fPIC: -D__PIC__} \
+%{mqnxpic: -D__PIC__} \
+-nostdinc -idirafter /opt/QNXsdk/target/qnx6/usr/include"
+#else
+#define CPP_SPEC "\
+%{.cc:  -D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.cxx: -D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.C:   -D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \
+%{.m:   -D__LANGUAGE_OBJECTIVE_C -D_LANGUAGE_OBJECTIVE_C -D__LANGUAGE_C -D_LANGUAGE_C} \
+%{.S:   -D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \
+%{.s:   -D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \
+%{!.S: %{!.s: %{!.cc: %{!.cxx: %{!.C: %{!.m: -D__LANGUAGE_C -D_LANGUAGE_C %{!ansi:-DLANGUAGE_C}}}}}}} \
+%(subtarget_cpp_size_spec) \
+%{mips3:-U__mips -D__mips=3 -D__mips64} \
+%{mips4:-U__mips -D__mips=4 -D__mips64} \
+%{mgp32:-U__mips64} %{mgp64:-D__mips64} \
+%{msingle-float:%{!msoft-float:-D__mips_single_float}} \
+%{m4650:%{!msoft-float:-D__mips_single_float}} \
+%{msoft-float:-D__mips_soft_float} \
+%{mabi=eabi:-D__mips_eabi} \
+%{!EL:-D__BIGENDIAN__} \
+%{EB:-UMIPSEL -U_MIPSEL -U__MIPSEL -U__MIPSEL__ -D_MIPSEB -D__MIPSEB -D__MIPSEB__ %{!ansi:-DMIPSEB}} \
+%{EL:-UMIPSEB -U_MIPSEB -U__MIPSEB -U__MIPSEB__ -D_MIPSEL -D__MIPSEL -D__MIPSEL__ %{!ansi:-DMIPSEL} -D__LITTLEENDIAN__} \
+%(long_max_spec) \
+%(subtarget_cpp_spec) \
+%{fpic: -D__PIC__} %{fPIC: -D__PIC__} \
+%{mqnxpic: -D__PIC__} \
+-nostdinc -idirafter /usr/nto/usr/include"
+#endif
+
+/* Define the specs passed to the assembler */
+#undef ASM_SPEC
+#define ASM_SPEC "\
+%{!qnxpic: %{G*}} %{EB} %{EL} %{mips2: -trap} %{mips3: -trap} %{mips4: -trap} %{mips1} %{mips2} %{mips3} %{mips4} \
+%(subtarget_asm_optimizing_spec) \
+%(subtarget_asm_debugging_spec) \
+%{membedded-pic} \
+%{fpic: --defsym __PIC__=1} \
+%{mqnxpic: --defsym __PIC__=1} \
+%{mabi=32:-32}%{mabi=o32:-32}%{mabi=n32:-n32}%{mabi=64:-64}%{mabi=n64:-64} \
+%(target_asm_spec) \
+%(subtarget_asm_spec)"
+
+
+/* Use memcpy, et. al., rather than bcopy.  */
+#define TARGET_MEM_FUNCTIONS
+
+/* We need to use .esize and .etype instead of .size and .type to
+   avoid conflicting with ELF directives.  */
+#undef PUT_SDB_SIZE
+#define PUT_SDB_SIZE(a)					\
+do {							\
+  extern FILE *asm_out_text_file;			\
+  fprintf (asm_out_text_file, "\t.esize\t%d;", (a));	\
+} while (0)
+
+#undef PUT_SDB_TYPE
+#define PUT_SDB_TYPE(a)					\
+do {							\
+  extern FILE *asm_out_text_file;			\
+  fprintf (asm_out_text_file, "\t.etype\t0x%x;", (a));	\
+} while (0)
+
+/* Biggest alignment supported by the object file format of this
+   machine.  Use this macro to limit the alignment which can be
+   specified using the `__attribute__ ((aligned (N)))' construct.  If
+   not defined, the default value is `BIGGEST_ALIGNMENT'.  */
+
+#define MAX_OFILE_ALIGNMENT (32768*8)
+
+/* We don't want to run mips-tfile */
+#undef ASM_FINAL_SPEC
+
+
+#define ASM_FINISH_DECLARE_OBJECT(FILE, DECL, TOP_LEVEL, AT_END)	 \
+do {									 \
+     char *name = XSTR (XEXP (DECL_RTL (DECL), 0), 0);			 \
+     if (!flag_inhibit_size_directive && DECL_SIZE (DECL)		 \
+         && ! AT_END && TOP_LEVEL					 \
+	 && DECL_INITIAL (DECL) == error_mark_node			 \
+	 && !size_directive_output)					 \
+       {								 \
+	 size_directive_output = 1;					 \
+	 fprintf (FILE, "\t%s\t ", ".size");				 \
+	 assemble_name (FILE, name);					 \
+	 fprintf (FILE, ",%d\n",  int_size_in_bytes (TREE_TYPE (DECL))); \
+       }								 \
+   } while (0)
+
+/* Note about .weak vs. .weakext
+   The mips native assemblers support .weakext, but not .weak.
+   mips-elf gas supports .weak, but not .weakext.
+   mips-elf gas has been changed to support both .weak and .weakext,
+   but until that support is generally available, the 'if' below
+   should serve. */
+
+#define ASM_WEAKEN_LABEL(FILE,NAME) ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,0)
+#define ASM_OUTPUT_WEAK_ALIAS(FILE,NAME,VALUE)	\
+ do {						\
+  if (TARGET_GAS)                               \
+      fputs ("\t.weak\t", FILE);		\
+  else                                          \
+      fputs ("\t.weakext\t", FILE);		\
+  assemble_name (FILE, NAME);			\
+  if (VALUE)					\
+    {						\
+      fputc (' ', FILE);			\
+      assemble_name (FILE, VALUE);		\
+    }						\
+  fputc ('\n', FILE);				\
+ } while (0)
+
+#undef CC1PLUS_SPEC
+#define CC1PLUS_SPEC "-fhonor-std"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/ntol.h gcc/gcc/config/mips/ntol.h
--- gcc-2.95.2/gcc/config/mips/ntol.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/mips/ntol.h	2001-03-01 05:24:46.000000000 +1000
@@ -0,0 +1,29 @@
+/* Definitions of target machine for GNU compiler.  Little endian MIPS
+   R3000 version with GOFAST floating point library.
+   Copyright (C) 1994 Free Software Foundation, Inc.
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+/* This is a little endian version of elf.h.  */
+
+#define TARGET_ENDIAN_DEFAULT 0
+
+#include "nto.h"
+
+#undef CPP_PREDEFINES
+#define CPP_PREDEFINES "-DMIPSEL -DR3000 -D_mips -D_MIPSEL -D_R3000 -D__QNX__ -D__QNXNTO__ -D__LITTLEENDIAN__ -D__MIPS__"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/.#t-elf.1.1.1.1 gcc/gcc/config/mips/.#t-elf.1.1.1.1
--- gcc-2.95.2/gcc/config/mips/.#t-elf.1.1.1.1	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/mips/.#t-elf.1.1.1.1	2005-09-20 23:36:15.000000000 +1000
@@ -0,0 +1,98 @@
+CONFIG2_H	= $(srcdir)/config/mips/ecoff.h
+
+# We have a premade insn-attrtab.c to save the hour it takes to run genattrtab.
+# PREMADE_ATTRTAB = $(srcdir)/config/mips/mips-at.c
+# PREMADE_ATTRTAB_MD = $(srcdir)/config/mips/mips-at.md
+
+# Suppress building libgcc1.a, since the MIPS compiler port is complete
+# and does not need anything from libgcc1.a.
+LIBGCC1 =
+
+EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o
+# Don't let CTOR_LIST end up in sdata section.
+CRTSTUFF_T_CFLAGS = -G 0
+
+# When building a cross compiler, put the mips16 support functions in
+# libgcc1.a.
+CROSS_LIBGCC1 = libgcc1-asm.a
+LIB1ASMSRC = mips/mips16.S
+LIB1ASMFUNCS = _m16addsf3 _m16subsf3 _m16mulsf3 _m16divsf3 \
+	_m16eqsf2 _m16nesf2 _m16gtsf2 _m16gesf2 _m16lesf2 _m16ltsf2 \
+	_m16fltsisf _m16fixsfsi \
+	_m16adddf3 _m16subdf3 _m16muldf3 _m16divdf3 \
+	_m16extsfdf2 _m16trdfsf2 \
+	_m16eqdf2 _m16nedf2 _m16gtdf2 _m16gedf2 _m16ledf2 _m16ltdf2 \
+	_m16fltsidf _m16fixdfsi \
+	_m16retsf _m16retdf \
+	_m16stub1 _m16stub2 _m16stub5 _m16stub6 _m16stub9 _m16stub10 \
+	_m16stubsf0 _m16stubsf1 _m16stubsf2 _m16stubsf5 _m16stubsf6 \
+	_m16stubsf9 _m16stubsf10 \
+	_m16stubdf0 _m16stubdf1 _m16stubdf2 _m16stubdf5 _m16stubdf6 \
+	_m16stubdf9 _m16stubdf10
+
+# We must build libgcc2.a with -G 0, in case the user wants to link
+# without the $gp register.
+TARGET_LIBGCC2_CFLAGS = -G 0
+
+# fp-bit and dp-bit are really part of libgcc1, but this will cause
+# them to be built correctly, so... [taken from t-sparclite]
+LIB2FUNCS_EXTRA = fp-bit.c dp-bit.c
+
+dp-bit.c: $(srcdir)/config/fp-bit.c
+	echo '#ifdef __MIPSEL__' > dp-bit.c
+	echo '#define FLOAT_BIT_ORDER_MISMATCH' >> dp-bit.c
+	echo '#endif' >> dp-bit.c
+	echo '#define US_SOFTWARE_GOFAST' >> dp-bit.c
+	cat $(srcdir)/config/fp-bit.c >> dp-bit.c
+
+fp-bit.c: $(srcdir)/config/fp-bit.c
+	echo '#define FLOAT' > fp-bit.c
+	echo '#ifdef __MIPSEL__' >> fp-bit.c
+	echo '#define FLOAT_BIT_ORDER_MISMATCH' >> fp-bit.c
+	echo '#endif' >> fp-bit.c
+	echo '#define US_SOFTWARE_GOFAST' >> fp-bit.c
+	cat $(srcdir)/config/fp-bit.c >> fp-bit.c
+
+# Build the libraries for both hard and soft floating point
+
+#MULTILIB_OPTIONS = msoft-float/msingle-float EL/EB mips1/mips3
+#MULTILIB_DIRNAMES = soft-float single el eb mips1 mips3
+#MULTILIB_MATCHES = msingle-float=m4650
+MULTILIB_OPTIONS = msoft-float EB mips1 mqnxpic mlong-calls fno-delayed-branch
+MULTILIB_DIRNAMES = soft-float eb mips1 qnxpic long-calls no-delayed-branch
+
+LIBGCC = stmp-multilib
+INSTALL_LIBGCC = install-multilib
+
+# Add additional dependencies to recompile selected modules whenever the
+# tm.h file changes.  The files compiled are:
+#
+#	gcc.c		(*_SPEC changes)
+#	toplev.c	(new switches + assembly output changes)
+#	sdbout.c	(debug format changes)
+#	dbxout.c	(debug format changes)
+#	dwarfout.c	(debug format changes)
+#	final.c		(assembly output changes)
+#	varasm.c	(assembly output changes)
+#	cse.c		(cost functions)
+#	insn-output.c	(possible ifdef changes in tm.h)
+#	regclass.c	(fixed/call used register changes)
+#	cccp.c		(new preprocessor macros, -v version #)
+#	explow.c	(GO_IF_LEGITIMATE_ADDRESS)
+#	recog.c		(GO_IF_LEGITIMATE_ADDRESS)
+#	reload.c	(GO_IF_LEGITIMATE_ADDRESS)
+
+gcc.o: $(CONFIG2_H)
+toplev.o: $(CONFIG2_H)
+sdbout.o: $(CONFIG2_H)
+dbxout.o: $(CONFIG2_H)
+dwarfout.o: $(CONFIG2_H)
+final.o: $(CONFIG2_H)
+varasm.o: $(CONFIG2_H)
+cse.o: $(CONFIG2_H)
+insn-output.o: $(CONFIG2_H)
+regclass.o: $(CONFIG2_H)
+cccp.o: $(CONFIG2_H)
+explow.o: $(CONFIG2_H)
+recog.o: $(CONFIG2_H)
+reload.o: $(CONFIG2_H)
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/mips/t-nto gcc/gcc/config/mips/t-nto
--- gcc-2.95.2/gcc/config/mips/t-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/mips/t-nto	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,79 @@
+T_CFLAGS = -D__QNXTARGET__ -DLIBSTDCXX=\"-lcpp\"
+CONFIG2_H	= $(srcdir)/config/mips/ecoff.h
+
+# We have a premade insn-attrtab.c to save the hour it takes to run genattrtab.
+# PREMADE_ATTRTAB = $(srcdir)/config/mips/mips-at.c
+# PREMADE_ATTRTAB_MD = $(srcdir)/config/mips/mips-at.md
+
+# Suppress building libgcc1.a, since the MIPS compiler port is complete
+# and does not need anything from libgcc1.a.
+LIBGCC1 =
+CROSS_LIBGCC1 =
+
+# We must build libgcc2.a with -G 0, in case the user wants to link
+# without the $gp register.
+TARGET_LIBGCC2_CFLAGS = -G 0 -fno-honor-std
+
+# These are really part of libgcc1, but this will cause them to be
+# built correctly, so... [taken from t-sparclite]
+LIB2FUNCS_EXTRA = fp-bit.c dp-bit.c
+
+dp-bit.c: $(srcdir)/config/fp-bit.c
+	echo '#ifdef __MIPSEL__' > dp-bit.c
+	echo '#define FLOAT_BIT_ORDER_MISMATCH' >> dp-bit.c
+	echo '#endif' >> dp-bit.c
+	echo '#define US_SOFTWARE_GOFAST' >> dp-bit.c
+	cat $(srcdir)/config/fp-bit.c >> dp-bit.c
+
+fp-bit.c: $(srcdir)/config/fp-bit.c
+	echo '#define FLOAT' > fp-bit.c
+	echo '#ifdef __MIPSEL__' >> fp-bit.c
+	echo '#define FLOAT_BIT_ORDER_MISMATCH' >> fp-bit.c
+	echo '#endif' >> fp-bit.c
+	echo '#define US_SOFTWARE_GOFAST' >> fp-bit.c
+	cat $(srcdir)/config/fp-bit.c >> fp-bit.c
+
+# Build the libraries for both pic/abicalls and el/eb
+
+MULTILIB_OPTIONS = mqnxpic fexceptions EL/EB 
+MULTILIB_DIRNAMES = qnxpic exceptions el eb 
+MULTILIB_MATCHES = mqnxpic=shared
+
+LIBGCC = stmp-multilib
+INSTALL_LIBGCC = install-multilib
+
+# Add additional dependencies to recompile selected modules whenever the
+# tm.h file changes.  The files compiled are:
+#
+#	gcc.c		(*_SPEC changes)
+#	toplev.c	(new switches + assembly output changes)
+#	sdbout.c	(debug format changes)
+#	dbxout.c	(debug format changes)
+#	dwarfout.c	(debug format changes)
+#	final.c		(assembly output changes)
+#	varasm.c	(assembly output changes)
+#	cse.c		(cost functions)
+#	insn-output.c	(possible ifdef changes in tm.h)
+#	regclass.c	(fixed/call used register changes)
+#	cccp.c		(new preprocessor macros, -v version #)
+#	explow.c	(GO_IF_LEGITIMATE_ADDRESS)
+#	recog.c		(GO_IF_LEGITIMATE_ADDRESS)
+#	reload.c	(GO_IF_LEGITIMATE_ADDRESS)
+
+gcc.o: $(CONFIG2_H)
+toplev.o: $(CONFIG2_H)
+sdbout.o: $(CONFIG2_H)
+dbxout.o: $(CONFIG2_H)
+dwarfout.o: $(CONFIG2_H)
+final.o: $(CONFIG2_H)
+varasm.o: $(CONFIG2_H)
+cse.o: $(CONFIG2_H)
+insn-output.o: $(CONFIG2_H)
+regclass.o: $(CONFIG2_H)
+cccp.o: $(CONFIG2_H)
+explow.o: $(CONFIG2_H)
+recog.o: $(CONFIG2_H)
+reload.o: $(CONFIG2_H)
+
+USER_H = $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/qnx-nto.h gcc/gcc/config/qnx-nto.h
--- gcc-2.95.2/gcc/config/qnx-nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/qnx-nto.h	2001-03-01 05:24:45.000000000 +1000
@@ -0,0 +1,1022 @@
+/* Targeting QNX Neutrino - originally ... */
+/* Operating system specific defines to be used when targeting GCC for some
+   generic System V Release 4 system.
+   Copyright (C) 1991, 94-97, 1998 Free Software Foundation, Inc.
+   Contributed by Ron Guilmette (rfg@monkeys.com).
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.
+
+   To use this file, make up a file with a name like:
+
+	?????svr4.h
+
+   where ????? is replaced by the name of the basic hardware that you
+   are targeting for.  Then, in the file ?????svr4.h, put something
+   like:
+
+	#include "?????.h"
+	#include "svr4.h"
+
+   followed by any really system-specific defines (or overrides of
+   defines) which you find that you need.  For example, CPP_PREDEFINES
+   is defined here with only the defined -Dunix and -DSVR4.  You should
+   probably override that in your target-specific ?????svr4.h file
+   with a set of defines that includes these, but also contains an
+   appropriate define for the type of hardware that you are targeting.
+*/
+
+/* Define a symbol indicating that we are using qnx-nto.h.  */
+#define USING_QNXNTO_H
+
+/* For the sake of libgcc2.c, indicate target supports atexit.  */
+#define HAVE_ATEXIT
+
+/* Cpp, assembler, linker, library, and startfile spec's.  */
+
+/* This defines which switch letters take arguments.  On svr4, most of
+   the normal cases (defined in gcc.c) apply, and we also have -h* and
+   -z* options (for the linker).  Note however that there is no such
+   thing as a -T option for svr4.  */
+
+#define SWITCH_TAKES_ARG(CHAR) \
+  (DEFAULT_SWITCH_TAKES_ARG (CHAR) \
+   || (CHAR) == 'h' \
+   || (CHAR) == 'x' \
+   || (CHAR) == 'z')
+
+/* This defines which multi-letter switches take arguments.  On svr4,
+   there are no such switches except those implemented by GCC itself.  */
+
+#define WORD_SWITCH_TAKES_ARG(STR)			\
+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)			\
+  && strcmp (STR, "Tdata") && strcmp (STR, "Ttext")	\
+  && strcmp (STR, "Tbss"))
+
+/* You should redefine CPP_PREDEFINES in any file which includes this one.
+   The definition should be appropriate for the type of target system
+   involved, and it should include any -A (assertion) options which are
+   appropriate for the given target system.  */
+#undef CPP_PREDEFINES
+
+#undef CPP_SPEC
+#define CPP_SPEC "-isystem /usr/include"
+
+/* Provide an ASM_SPEC appropriate for svr4.  Here we try to support as
+   many of the specialized svr4 assembler options as seems reasonable,
+   given that there are certain options which we can't (or shouldn't)
+   support directly due to the fact that they conflict with other options
+   for other svr4 tools (e.g. ld) or with other options for GCC itself.
+   For example, we don't support the -o (output file) or -R (remove
+   input file) options because GCC already handles these things.  We
+   also don't support the -m (run m4) option for the assembler because
+   that conflicts with the -m (produce load map) option of the svr4
+   linker.  We do however allow passing arbitrary options to the svr4
+   assembler via the -Wa, option.
+
+   Note that gcc doesn't allow a space to follow -Y in a -Ym,* or -Yd,*
+   option.
+*/
+
+#undef ASM_SPEC
+#define ASM_SPEC \
+  "%{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*}"
+
+/* svr4 assemblers need the `-' (indicating input from stdin) to come after
+   the -o option (and its argument) for some reason.  If we try to put it
+   before the -o option, the assembler will try to read the file named as
+   the output file in the -o option as an input file (after it has already
+   written some stuff to it) and the binary stuff contained therein will
+   cause totally confuse the assembler, resulting in many spurious error
+   messages.  */
+
+#undef ASM_FINAL_SPEC
+#define ASM_FINAL_SPEC "%|"
+
+/* Under svr4, the normal location of the `ld' and `as' programs is the
+   /usr/ccs/bin directory.  */
+
+#ifndef CROSS_COMPILE
+#undef MD_EXEC_PREFIX
+#define MD_EXEC_PREFIX "/usr/local/bin/"
+#endif
+
+/* Under svr4, the normal location of the various *crt*.o files is the
+   /usr/ccs/lib directory.  */
+
+#ifndef CROSS_COMPILE
+#undef MD_STARTFILE_PREFIX
+#define MD_STARTFILE_PREFIX "/usr/local/lib/"
+#endif
+
+/* Provide a LIB_SPEC appropriate for svr4.  Here we tack on the default
+   standard C library (unless we are building a shared library).  */
+
+#undef	LIB_SPEC
+#define LIB_SPEC "%{!shared:%{!symbolic:-lc}}"
+
+/* Provide an ENDFILE_SPEC appropriate for svr4.  Here we tack on our own
+   magical crtend.o file (see crtstuff.c) which provides part of the
+   support for getting C++ file-scope static object constructed before
+   entering `main', followed by the normal svr3/svr4 "finalizer" file,
+   which is either `gcrtn.o' or `crtn.o'.  */
+
+#undef  ENDFILE_SPEC
+#ifdef __QNXNTO__
+#define ENDFILE_SPEC "%{fexceptions: crtendC++.o%s} %{!fexceptions: /x86/lib/crtend.o} /x86/lib/crtn.o"
+#elif defined __sun__
+#define ENDFILE_SPEC "%{fexceptions: crtendC++.o%s} %{!fexceptions: /opt/QNXsdk/target/qnx6/x86/lib/crtend.o} /opt/QNXsdk/target/qnx6/x86/lib/crtn.o"
+#else
+#define ENDFILE_SPEC "%{fexceptions: crtendC++.o%s} %{!fexceptions: /usr/nto/x86/lib/crtend.o} /usr/nto/x86/lib/crtn.o"
+#endif
+
+/* Provide a LINK_SPEC appropriate for svr4.  Here we provide support
+   for the special GCC options -static, -shared, and -symbolic which
+   allow us to link things in one of these three modes by applying the
+   appropriate combinations of options at link-time.  We also provide
+   support here for as many of the other svr4 linker options as seems
+   reasonable, given that some of them conflict with options for other
+   svr4 tools (e.g. the assembler).  In particular, we do support the
+   -z*, -V, -b, -t, -Qy, -Qn, and -YP* options here, and the -e*,
+   -l*, -o*, -r, -s, -u*, and -L* options are directly supported
+   by gcc.c itself.  We don't directly support the -m (generate load
+   map) option because that conflicts with the -m (run m4) option of
+   the svr4 assembler.  We also don't directly support the svr4 linker's
+   -I* or -M* options because these conflict with existing GCC options.
+   We do however allow passing arbitrary options to the svr4 linker
+   via the -Wl, option.  We don't support the svr4 linker's -a option
+   at all because it is totally useless and because it conflicts with
+   GCC's own -a option.
+
+   Note that gcc doesn't allow a space to follow -Y in a -YP,* option.
+
+   When the -G link option is used (-shared and -symbolic) a final link is
+   not being done.  */
+
+#undef	LINK_SPEC
+#ifdef CROSS_COMPILE
+#define LINK_SPEC "%{h*} %{v:-V} \
+		   %{b} %{Wl,*:%*} \
+		   %{static:-dn -Bstatic} \
+		   %{shared:-G -dy -z text} \
+		   %{symbolic:-Bsymbolic -G -dy -z text} \
+		   %{G:-G} \
+		   %{YP,*} \
+		   %{Qy:} %{!Qn:-Qy}"
+#else
+#define LINK_SPEC "%{h*} %{v:-V} \
+		   %{b} %{Wl,*:%*} \
+		   %{static:-dn -Bstatic} \
+		   %{shared:-G -dy -z text} \
+		   %{symbolic:-Bsymbolic -G -dy -z text} \
+		   %{G:-G} \
+		   %{YP,*} \
+		   %{!YP,*:%{p:-Y P,/x86/lib} \
+		    %{!p:-Y P,/x86/lib}} \
+		   %{Qy:} %{!Qn:-Qy}"
+#endif
+
+/* Gcc automatically adds in one of the files /usr/ccs/lib/values-Xc.o,
+   /usr/ccs/lib/values-Xa.o, or /usr/ccs/lib/values-Xt.o for each final
+   link step (depending upon the other gcc options selected, such as
+   -traditional and -ansi).  These files each contain one (initialized)
+   copy of a special variable called `_lib_version'.  Each one of these
+   files has `_lib_version' initialized to a different (enum) value.
+   The SVR4 library routines query the value of `_lib_version' at run
+   to decide how they should behave.  Specifically, they decide (based
+   upon the value of `_lib_version') if they will act in a strictly ANSI
+   conforming manner or not.
+*/
+
+#undef	STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define STARTFILE_SPEC "%{!shared: \
+             %{!symbolic: \
+              /x86/lib/%{pg:mcrt1.o}%{!pg:%{p:mcrt1.o}%{!p:crt1.o}}}}\
+            /x86/lib/crti.o \
+            %{fexceptions: crtbeginC++.o%s} %{!fexceptions: /x86/lib/crtbegin.o}"
+#elif defined __sun__
+#define STARTFILE_SPEC "%{!shared: \
+             %{!symbolic: \
+              /opt/QNXsdk/target/qnx6/x86/lib/%{pg:mcrt1.o}%{!pg:%{p:mcrt1.o}%{!p:crt1.o}}}}\
+            /opt/QNXsdk/target/qnx6/x86/lib/crti.o \
+            %{fexceptions: crtbeginC++.o%s} %{!fexceptions: /opt/QNXsdk/target/qnx6/x86/lib/crtbegin.o} "
+#else
+#define STARTFILE_SPEC "%{!shared: \
+             %{!symbolic: \
+              /usr/nto/x86/lib/%{pg:mcrt1.o}%{!pg:%{p:mcrt1.o}%{!p:crt1.o}}}}\
+            /usr/nto/x86/lib/crti.o \
+            %{fexceptions: crtbeginC++.o%s} %{!fexceptions: /usr/nto/x86/lib/crtbegin.o}"
+#endif
+
+/* Attach a special .ident directive to the end of the file to identify
+   the version of GCC which compiled this code.  The format of the
+   .ident string is patterned after the ones produced by native svr4
+   C compilers.  */
+
+#define IDENT_ASM_OP ".ident"
+
+#define ASM_FILE_END(FILE)					\
+do {				 				\
+     fprintf ((FILE), "\t%s\t\"GCC: (GNU) %s\"\n",		\
+	      IDENT_ASM_OP, version_string);			\
+   } while (0)
+
+/* Allow #sccs in preprocessor.  */
+
+#define SCCS_DIRECTIVE
+
+/* Output #ident as a .ident.  */
+#ifndef ASM_OUTPUT_IDENT
+#define ASM_OUTPUT_IDENT(FILE, NAME) \
+  fprintf (FILE, "\t%s\t\"%s\"\n", IDENT_ASM_OP, NAME);
+#endif
+
+/* Use periods rather than dollar signs in special g++ assembler names.  */
+
+#define NO_DOLLAR_IN_LABEL
+
+/* Writing `int' for a bitfield forces int alignment for the structure.  */
+
+#define PCC_BITFIELD_TYPE_MATTERS 1
+
+/* Implicit library calls should use memcpy, not bcopy, etc.  */
+#ifndef TARGET_MEM_FUNCTIONS
+#define TARGET_MEM_FUNCTIONS
+#endif
+
+/* Handle #pragma weak and #pragma pack.  */
+
+#define HANDLE_SYSV_PRAGMA
+
+/* System V Release 4 uses DWARF debugging info.  */
+
+#define DWARF_DEBUGGING_INFO
+
+/* All ELF targets can support DWARF-2.  */
+
+#define DWARF2_DEBUGGING_INFO
+
+/* The numbers used to denote specific machine registers in the System V
+   Release 4 DWARF debugging information are quite likely to be totally
+   different from the numbers used in BSD stabs debugging information
+   for the same kind of target machine.  Thus, we undefine the macro
+   DBX_REGISTER_NUMBER here as an extra inducement to get people to
+   provide proper machine-specific definitions of DBX_REGISTER_NUMBER
+   (which is also used to provide DWARF registers numbers in dwarfout.c)
+   in their tm.h files which include this file.  */
+
+#undef DBX_REGISTER_NUMBER
+
+/* gas on SVR4 supports the use of .stabs.  Permit -gstabs to be used
+   in general, although it will only work when using gas.  */
+
+#ifndef DBX_DEBUGGING_INFO
+#define DBX_DEBUGGING_INFO
+#endif
+
+/* When generating stabs debugging, use N_BINCL entries.  */
+
+#define DBX_USE_BINCL
+
+/* Use DWARF debugging info by default.  */
+
+#ifndef PREFERRED_DEBUGGING_TYPE
+#define PREFERRED_DEBUGGING_TYPE DWARF_DEBUG
+#endif
+
+/* Make LBRAC and RBRAC addresses relative to the start of the
+   function.  The native Solaris stabs debugging format works this
+   way, gdb expects it, and it reduces the number of relocation
+   entries.  */
+
+#define DBX_BLOCKS_FUNCTION_RELATIVE 1
+
+/* When using stabs, gcc2_compiled must be a stabs entry, not an
+   ordinary symbol, or gdb won't see it.  Furthermore, since gdb reads
+   the input piecemeal, starting with each N_SO, it's a lot easier if
+   the gcc2 flag symbol is *after* the N_SO rather than before it.  So
+   we emit an N_OPT stab there.  */
+
+#ifndef ASM_IDENTIFY_GCC
+#define ASM_IDENTIFY_GCC(FILE)						\
+do									\
+  {									\
+    if (write_symbols != DBX_DEBUG)					\
+      fputs ("gcc2_compiled.:\n", FILE);				\
+  }									\
+while (0)
+#endif
+
+#define ASM_IDENTIFY_GCC_AFTER_SOURCE(FILE)				\
+do									\
+  {									\
+    if (write_symbols == DBX_DEBUG)					\
+      fputs ("\t.stabs\t\"gcc2_compiled.\", 0x3c, 0, 0, 0\n", FILE);	\
+  }									\
+while (0)
+
+/* Like block addresses, stabs line numbers are relative to the
+   current function.  */
+
+#define ASM_OUTPUT_SOURCE_LINE(file, line)				\
+do									\
+  {									\
+    static int sym_lineno = 1;						\
+    fprintf (file, ".stabn 68,0,%d,.LM%d-",				\
+	     line, sym_lineno);						\
+    assemble_name (file,						\
+		   XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0));\
+    fprintf (file, "\n.LM%d:\n", sym_lineno);				\
+    sym_lineno += 1;							\
+  }									\
+while (0)
+
+/* In order for relative line numbers to work, we must output the
+   stabs entry for the function name first.  */
+
+#define DBX_FUNCTION_FIRST
+
+/* Generate a blank trailing N_SO to mark the end of the .o file, since
+   we can't depend upon the linker to mark .o file boundaries with
+   embedded stabs.  */
+
+#define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME)			\
+do									\
+  {									\
+    text_section ();							\
+    fprintf (FILE,							\
+	   "\t.stabs \"\",%d,0,0,.Letext\n.Letext:\n", N_SO);		\
+  }									\
+while (0)
+
+/* Define the actual types of some ANSI-mandated types.  (These
+   definitions should work for most SVR4 systems).  */
+
+#undef SIZE_TYPE
+#define SIZE_TYPE "unsigned int"
+
+#undef PTRDIFF_TYPE
+#define PTRDIFF_TYPE "int"
+
+#undef WCHAR_TYPE
+#define WCHAR_TYPE "long int"
+
+#undef WCHAR_TYPE_SIZE
+#define WCHAR_TYPE_SIZE BITS_PER_WORD
+
+/* This causes trouble, because it requires the host machine
+   to support ANSI C.  */
+/* #define MULTIBYTE_CHARS */
+
+#undef ASM_BYTE_OP
+#define ASM_BYTE_OP	".byte"
+
+#undef SET_ASM_OP
+#define SET_ASM_OP	".set"
+
+/* This is how to begin an assembly language file.  Most svr4 assemblers want
+   at least a .file directive to come first, and some want to see a .version
+   directive come right after that.  Here we just establish a default
+   which generates only the .file directive.  If you need a .version
+   directive for any specific target, you should override this definition
+   in the target-specific file which includes this one.  */
+
+#undef ASM_FILE_START
+#define ASM_FILE_START(FILE)                                    \
+  output_file_directive ((FILE), main_input_filename)
+
+/* This is how to allocate empty space in some section.  The .zero
+   pseudo-op is used for this on most svr4 assemblers.  */
+
+#define SKIP_ASM_OP	".zero"
+
+#undef ASM_OUTPUT_SKIP
+#define ASM_OUTPUT_SKIP(FILE,SIZE) \
+  fprintf (FILE, "\t%s\t%u\n", SKIP_ASM_OP, (SIZE))
+
+/* The prefix to add to user-visible assembler symbols.
+
+   For System V Release 4 the convention is *not* to prepend a leading
+   underscore onto user-level symbol names.  */
+
+#undef USER_LABEL_PREFIX
+#define USER_LABEL_PREFIX ""
+
+/* This is how to output an internal numbered label where
+   PREFIX is the class of label and NUM is the number within the class.
+
+   For most svr4 systems, the convention is that any symbol which begins
+   with a period is not put into the linker symbol table by the assembler.  */
+
+#undef ASM_OUTPUT_INTERNAL_LABEL
+#define ASM_OUTPUT_INTERNAL_LABEL(FILE, PREFIX, NUM)			\
+do {									\
+  fprintf (FILE, ".%s%d:\n", PREFIX, NUM);				\
+} while (0)
+
+/* This is how to store into the string LABEL
+   the symbol_ref name of an internal numbered label where
+   PREFIX is the class of label and NUM is the number within the class.
+   This is suitable for output with `assemble_name'.
+
+   For most svr4 systems, the convention is that any symbol which begins
+   with a period is not put into the linker symbol table by the assembler.  */
+
+#undef ASM_GENERATE_INTERNAL_LABEL
+#define ASM_GENERATE_INTERNAL_LABEL(LABEL, PREFIX, NUM)			\
+do {									\
+  sprintf (LABEL, "*.%s%d", PREFIX, (unsigned) (NUM));			\
+} while (0)
+
+/* Output the label which precedes a jumptable.  Note that for all svr4
+   systems where we actually generate jumptables (which is to say every
+   svr4 target except i386, where we use casesi instead) we put the jump-
+   tables into the .rodata section and since other stuff could have been
+   put into the .rodata section prior to any given jumptable, we have to
+   make sure that the location counter for the .rodata section gets pro-
+   perly re-aligned prior to the actual beginning of the jump table.  */
+
+#define ALIGN_ASM_OP ".align"
+
+#ifndef ASM_OUTPUT_BEFORE_CASE_LABEL
+#define ASM_OUTPUT_BEFORE_CASE_LABEL(FILE,PREFIX,NUM,TABLE) \
+  ASM_OUTPUT_ALIGN ((FILE), 2);
+#endif
+
+#undef ASM_OUTPUT_CASE_LABEL
+#define ASM_OUTPUT_CASE_LABEL(FILE,PREFIX,NUM,JUMPTABLE)		\
+  do {									\
+    ASM_OUTPUT_BEFORE_CASE_LABEL (FILE, PREFIX, NUM, JUMPTABLE)		\
+    ASM_OUTPUT_INTERNAL_LABEL (FILE, PREFIX, NUM);			\
+  } while (0)
+
+/* The standard SVR4 assembler seems to require that certain builtin
+   library routines (e.g. .udiv) be explicitly declared as .globl
+   in each assembly file where they are referenced.  */
+
+#define ASM_OUTPUT_EXTERNAL_LIBCALL(FILE, FUN)				\
+  ASM_GLOBALIZE_LABEL (FILE, XSTR (FUN, 0))
+
+/* This says how to output assembler code to declare an
+   uninitialized external linkage data object.  Under SVR4,
+   the linker seems to want the alignment of data objects
+   to depend on their types.  We do exactly that here.  */
+
+#define COMMON_ASM_OP	".comm"
+
+#undef ASM_OUTPUT_ALIGNED_COMMON
+#define ASM_OUTPUT_ALIGNED_COMMON(FILE, NAME, SIZE, ALIGN)		\
+do {									\
+  fprintf ((FILE), "\t%s\t", COMMON_ASM_OP);				\
+  assemble_name ((FILE), (NAME));					\
+  fprintf ((FILE), ",%u,%u\n", (SIZE), (ALIGN) / BITS_PER_UNIT);	\
+} while (0)
+
+/* This says how to output assembler code to declare an
+   uninitialized internal linkage data object.  Under SVR4,
+   the linker seems to want the alignment of data objects
+   to depend on their types.  We do exactly that here.  */
+
+#define LOCAL_ASM_OP	".local"
+
+#undef ASM_OUTPUT_ALIGNED_LOCAL
+#define ASM_OUTPUT_ALIGNED_LOCAL(FILE, NAME, SIZE, ALIGN)		\
+do {									\
+  fprintf ((FILE), "\t%s\t", LOCAL_ASM_OP);				\
+  assemble_name ((FILE), (NAME));					\
+  fprintf ((FILE), "\n");						\
+  ASM_OUTPUT_ALIGNED_COMMON (FILE, NAME, SIZE, ALIGN);			\
+} while (0)
+
+/* Biggest alignment supported by the object file format of this
+   machine.  Use this macro to limit the alignment which can be
+   specified using the `__attribute__ ((aligned (N)))' construct.  If
+   not defined, the default value is `BIGGEST_ALIGNMENT'.  */
+
+#define MAX_OFILE_ALIGNMENT (32768*8)
+
+/* This is the pseudo-op used to generate a 32-bit word of data with a
+   specific value in some section.  This is the same for all known svr4
+   assemblers.  */
+#ifndef INT_ASM_OP
+#define INT_ASM_OP		".long"
+#endif
+
+/* This is the pseudo-op used to generate a contiguous sequence of byte
+   values from a double-quoted string WITHOUT HAVING A TERMINATING NUL
+   AUTOMATICALLY APPENDED.  This is the same for most svr4 assemblers.  */
+
+#undef ASCII_DATA_ASM_OP
+#define ASCII_DATA_ASM_OP	".ascii"
+
+/* Support const sections and the ctors and dtors sections for g++.
+   Note that there appears to be two different ways to support const
+   sections at the moment.  You can either #define the symbol
+   READONLY_DATA_SECTION (giving it some code which switches to the
+   readonly data section) or else you can #define the symbols
+   EXTRA_SECTIONS, EXTRA_SECTION_FUNCTIONS, SELECT_SECTION, and
+   SELECT_RTX_SECTION.  We do both here just to be on the safe side.  */
+
+#define USE_CONST_SECTION	1
+
+#define CONST_SECTION_ASM_OP	".section\t.rodata"
+
+/* Define the pseudo-ops used to switch to the .ctors and .dtors sections.
+
+   Note that we want to give these sections the SHF_WRITE attribute
+   because these sections will actually contain data (i.e. tables of
+   addresses of functions in the current root executable or shared library
+   file) and, in the case of a shared library, the relocatable addresses
+   will have to be properly resolved/relocated (and then written into) by
+   the dynamic linker when it actually attaches the given shared library
+   to the executing process.  (Note that on SVR4, you may wish to use the
+   `-z text' option to the ELF linker, when building a shared library, as
+   an additional check that you are doing everything right.  But if you do
+   use the `-z text' option when building a shared library, you will get
+   errors unless the .ctors and .dtors sections are marked as writable
+   via the SHF_WRITE attribute.)  */
+#ifndef CTORS_SECTION_ASM_OP
+#define CTORS_SECTION_ASM_OP	".section\t.ctors,\"aw\""
+#endif
+#ifndef DTORS_SECTION_ASM_OP
+#define DTORS_SECTION_ASM_OP	".section\t.dtors,\"aw\""
+#endif
+
+/* On svr4, we *do* have support for the .init and .fini sections, and we
+   can put stuff in there to be executed before and after `main'.  We let
+   crtstuff.c and other files know this by defining the following symbols.
+   The definitions say how to change sections to the .init and .fini
+   sections.  This is the same for all known svr4 assemblers.  */
+
+#define INIT_SECTION_ASM_OP	".section\t.init"
+#define FINI_SECTION_ASM_OP	".section\t.fini"
+
+/* A default list of other sections which we might be "in" at any given
+   time.  For targets that use additional sections (e.g. .tdesc) you
+   should override this definition in the target-specific file which
+   includes this file.  */
+
+#undef EXTRA_SECTIONS
+#define EXTRA_SECTIONS in_const, in_ctors, in_dtors
+
+/* A default list of extra section function definitions.  For targets
+   that use additional sections (e.g. .tdesc) you should override this
+   definition in the target-specific file which includes this file.  */
+
+#undef EXTRA_SECTION_FUNCTIONS
+#define EXTRA_SECTION_FUNCTIONS						\
+  CONST_SECTION_FUNCTION						\
+  CTORS_SECTION_FUNCTION						\
+  DTORS_SECTION_FUNCTION
+
+#define READONLY_DATA_SECTION() const_section ()
+
+extern void text_section ();
+
+#define CONST_SECTION_FUNCTION						\
+void									\
+const_section ()							\
+{									\
+  if (!USE_CONST_SECTION)						\
+    text_section();							\
+  else if (in_section != in_const)					\
+    {									\
+      fprintf (asm_out_file, "%s\n", CONST_SECTION_ASM_OP);		\
+      in_section = in_const;						\
+    }									\
+}
+
+#define CTORS_SECTION_FUNCTION						\
+void									\
+ctors_section ()							\
+{									\
+  if (in_section != in_ctors)						\
+    {									\
+      fprintf (asm_out_file, "%s\n", CTORS_SECTION_ASM_OP);		\
+      in_section = in_ctors;						\
+    }									\
+}
+
+#define DTORS_SECTION_FUNCTION						\
+void									\
+dtors_section ()							\
+{									\
+  if (in_section != in_dtors)						\
+    {									\
+      fprintf (asm_out_file, "%s\n", DTORS_SECTION_ASM_OP);		\
+      in_section = in_dtors;						\
+    }									\
+}
+
+/* Switch into a generic section.
+ 
+   We make the section read-only and executable for a function decl,
+   read-only for a const data decl, and writable for a non-const data decl.
+ 
+   If the section has already been defined, we must not
+   emit the attributes here. The SVR4 assembler does not
+   recognize section redefinitions.
+   If DECL is NULL, no attributes are emitted.  */
+
+#define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME, RELOC)		\
+do {									\
+  static struct section_info						\
+    {									\
+      struct section_info *next;				        \
+      char *name;						        \
+      enum sect_enum {SECT_RW, SECT_RO, SECT_EXEC} type;		\
+    } *sections;							\
+  struct section_info *s;						\
+  char *mode;								\
+  enum sect_enum type;							\
+									\
+  for (s = sections; s; s = s->next)					\
+    if (!strcmp (NAME, s->name))					\
+      break;								\
+									\
+  if (DECL && TREE_CODE (DECL) == FUNCTION_DECL)			\
+    type = SECT_EXEC, mode = "ax";					\
+  else if (DECL && DECL_READONLY_SECTION (DECL, RELOC))			\
+    type = SECT_RO, mode = "a";						\
+  else									\
+    type = SECT_RW, mode = "aw";					\
+									\
+  if (s == 0)								\
+    {									\
+      s = (struct section_info *) xmalloc (sizeof (struct section_info));  \
+      s->name = xmalloc ((strlen (NAME) + 1) * sizeof (*NAME));		\
+      strcpy (s->name, NAME);						\
+      s->type = type;							\
+      s->next = sections;						\
+      sections = s;							\
+      fprintf (FILE, ".section\t%s,\"%s\",@progbits\n", NAME, mode);	\
+    }									\
+  else									\
+    {									\
+      if (DECL && s->type != type)					\
+	error_with_decl (DECL, "%s causes a section type conflict");	\
+									\
+      fprintf (FILE, ".section\t%s\n", NAME);				\
+    }									\
+} while (0)
+
+#define MAKE_DECL_ONE_ONLY(DECL) (DECL_WEAK (DECL) = 1)
+#define UNIQUE_SECTION_P(DECL) (DECL_ONE_ONLY (DECL))
+#define UNIQUE_SECTION(DECL,RELOC)				\
+do {								\
+  int len;							\
+  char *name, *string, *prefix;					\
+								\
+  name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (DECL));	\
+								\
+  if (! DECL_ONE_ONLY (DECL))					\
+    prefix = ".";						\
+  else if (TREE_CODE (DECL) == FUNCTION_DECL)			\
+    prefix = ".gnu.linkonce.t.";				\
+  else if (DECL_READONLY_SECTION (DECL, RELOC))			\
+    prefix = ".gnu.linkonce.r.";				\
+  else								\
+    prefix = ".gnu.linkonce.d.";				\
+								\
+  len = strlen (name) + strlen (prefix);			\
+  string = alloca (len + 1);					\
+  sprintf (string, "%s%s", prefix, name);			\
+								\
+  DECL_SECTION_NAME (DECL) = build_string (len, string);	\
+} while (0)
+
+/* A C statement (sans semicolon) to output an element in the table of
+   global constructors.  */
+#define ASM_OUTPUT_CONSTRUCTOR(FILE,NAME)				\
+  do {									\
+    ctors_section ();							\
+    fprintf (FILE, "\t%s\t ", INT_ASM_OP);				\
+    assemble_name (FILE, NAME);						\
+    fprintf (FILE, "\n");						\
+  } while (0)
+
+/* A C statement (sans semicolon) to output an element in the table of
+   global destructors.  */
+#define ASM_OUTPUT_DESTRUCTOR(FILE,NAME)       				\
+  do {									\
+    dtors_section ();                   				\
+    fprintf (FILE, "\t%s\t ", INT_ASM_OP);				\
+    assemble_name (FILE, NAME);              				\
+    fprintf (FILE, "\n");						\
+  } while (0)
+
+/* A C statement or statements to switch to the appropriate
+   section for output of DECL.  DECL is either a `VAR_DECL' node
+   or a constant of some sort.  RELOC indicates whether forming
+   the initial value of DECL requires link-time relocations.  */
+
+#define SELECT_SECTION(DECL,RELOC)					\
+{									\
+  if (flag_pic && RELOC)						\
+    data_section ();							\
+  else if (TREE_CODE (DECL) == STRING_CST)				\
+    {									\
+      if (! flag_writable_strings)					\
+	const_section ();						\
+      else								\
+	data_section ();						\
+    }									\
+  else if (TREE_CODE (DECL) == VAR_DECL)				\
+    {									\
+      if (! DECL_READONLY_SECTION (DECL, RELOC))			\
+	data_section ();						\
+      else								\
+	const_section ();						\
+    }									\
+  else									\
+    const_section ();							\
+}
+
+/* A C statement or statements to switch to the appropriate
+   section for output of RTX in mode MODE.  RTX is some kind
+   of constant in RTL.  The argument MODE is redundant except
+   in the case of a `const_int' rtx.  Currently, these always
+   go into the const section.  */
+
+#undef SELECT_RTX_SECTION
+#define SELECT_RTX_SECTION(MODE,RTX) const_section()
+
+/* Define the strings used for the special svr4 .type and .size directives.
+   These strings generally do not vary from one system running svr4 to
+   another, but if a given system (e.g. m88k running svr) needs to use
+   different pseudo-op names for these, they may be overridden in the
+   file which includes this one.  */
+
+#define TYPE_ASM_OP	".type"
+#define SIZE_ASM_OP	".size"
+
+/* This is how we tell the assembler that a symbol is weak.  */
+
+#define ASM_WEAKEN_LABEL(FILE,NAME) \
+  do { fputs ("\t.weak\t", FILE); assemble_name (FILE, NAME); \
+       fputc ('\n', FILE); } while (0)
+
+/* The following macro defines the format used to output the second
+   operand of the .type assembler directive.  Different svr4 assemblers
+   expect various different forms for this operand.  The one given here
+   is just a default.  You may need to override it in your machine-
+   specific tm.h file (depending upon the particulars of your assembler).  */
+#ifndef TYPE_OPERAND_FMT
+#define TYPE_OPERAND_FMT	"@%s"
+#endif
+
+/* Write the extra assembler code needed to declare a function's result.
+   Most svr4 assemblers don't require any special declaration of the
+   result value, but there are exceptions.  */
+
+#ifndef ASM_DECLARE_RESULT
+#define ASM_DECLARE_RESULT(FILE, RESULT)
+#endif
+
+/* These macros generate the special .type and .size directives which
+   are used to set the corresponding fields of the linker symbol table
+   entries in an ELF object file under SVR4.  These macros also output
+   the starting labels for the relevant functions/objects.  */
+
+/* Write the extra assembler code needed to declare a function properly.
+   Some svr4 assemblers need to also have something extra said about the
+   function's return value.  We allow for that here.  */
+#ifndef ASM_DECLARE_FUNCTION_NAME
+#define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL)			\
+  do {									\
+    fprintf (FILE, "\t%s\t ", TYPE_ASM_OP);				\
+    assemble_name (FILE, NAME);						\
+    putc (',', FILE);							\
+    fprintf (FILE, TYPE_OPERAND_FMT, "function");			\
+    putc ('\n', FILE);							\
+    ASM_DECLARE_RESULT (FILE, DECL_RESULT (DECL));			\
+    ASM_OUTPUT_LABEL(FILE, NAME);					\
+  } while (0)
+#endif
+
+/* Write the extra assembler code needed to declare an object properly.  */
+#ifndef ASM_DECLARE_OBJECT_NAME
+#define ASM_DECLARE_OBJECT_NAME(FILE, NAME, DECL)			\
+  do {									\
+    fprintf (FILE, "\t%s\t ", TYPE_ASM_OP);				\
+    assemble_name (FILE, NAME);						\
+    putc (',', FILE);							\
+    fprintf (FILE, TYPE_OPERAND_FMT, "object");				\
+    putc ('\n', FILE);							\
+    size_directive_output = 0;						\
+    if (!flag_inhibit_size_directive && DECL_SIZE (DECL))		\
+      {									\
+	size_directive_output = 1;					\
+	fprintf (FILE, "\t%s\t ", SIZE_ASM_OP);				\
+	assemble_name (FILE, NAME);					\
+	putc (',', FILE);						\
+	fprintf (FILE, HOST_WIDE_INT_PRINT_DEC,				\
+		 int_size_in_bytes (TREE_TYPE (DECL)));			\
+	fputc ('\n', FILE);						\
+      }									\
+    ASM_OUTPUT_LABEL(FILE, NAME);					\
+  } while (0)
+#endif
+
+/* Output the size directive for a decl in rest_of_decl_compilation
+   in the case where we did not do so before the initializer.
+   Once we find the error_mark_node, we know that the value of
+   size_directive_output was set
+   by ASM_DECLARE_OBJECT_NAME when it was run for the same decl.  */
+
+#ifndef ASM_FINISH_DECLARE_OBJECT
+#define ASM_FINISH_DECLARE_OBJECT(FILE, DECL, TOP_LEVEL, AT_END)	 \
+do {									 \
+     char *name = XSTR (XEXP (DECL_RTL (DECL), 0), 0);			 \
+     if (!flag_inhibit_size_directive && DECL_SIZE (DECL)		 \
+         && ! AT_END && TOP_LEVEL					 \
+	 && DECL_INITIAL (DECL) == error_mark_node			 \
+	 && !size_directive_output)					 \
+       {								 \
+	 size_directive_output = 1;					 \
+	 fprintf (FILE, "\t%s\t ", SIZE_ASM_OP);			 \
+	 assemble_name (FILE, name);					 \
+	 putc (',', FILE);						 \
+	 fprintf (FILE, HOST_WIDE_INT_PRINT_DEC,			 \
+		  int_size_in_bytes (TREE_TYPE (DECL))); 		 \
+	fputc ('\n', FILE);						 \
+       }								 \
+   } while (0)
+#endif
+
+/* This is how to declare the size of a function.  */
+#ifndef ASM_DECLARE_FUNCTION_SIZE
+#define ASM_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL)			\
+  do {									\
+    if (!flag_inhibit_size_directive)					\
+      {									\
+        char label[256];						\
+	static int labelno;						\
+	labelno++;							\
+	ASM_GENERATE_INTERNAL_LABEL (label, "Lfe", labelno);		\
+	ASM_OUTPUT_INTERNAL_LABEL (FILE, "Lfe", labelno);		\
+	fprintf (FILE, "\t%s\t ", SIZE_ASM_OP);				\
+	assemble_name (FILE, (FNAME));					\
+        fprintf (FILE, ",");						\
+	assemble_name (FILE, label);					\
+        fprintf (FILE, "-");						\
+	assemble_name (FILE, (FNAME));					\
+	putc ('\n', FILE);						\
+      }									\
+  } while (0)
+#endif
+
+/* A table of bytes codes used by the ASM_OUTPUT_ASCII and
+   ASM_OUTPUT_LIMITED_STRING macros.  Each byte in the table
+   corresponds to a particular byte value [0..255].  For any
+   given byte value, if the value in the corresponding table
+   position is zero, the given character can be output directly.
+   If the table value is 1, the byte must be output as a \ooo
+   octal escape.  If the tables value is anything else, then the
+   byte value should be output as a \ followed by the value
+   in the table.  Note that we can use standard UN*X escape
+   sequences for many control characters, but we don't use
+   \a to represent BEL because some svr4 assemblers (e.g. on
+   the i386) don't know about that.  Also, we don't use \v
+   since some versions of gas, such as 2.2 did not accept it.  */
+
+#define ESCAPES \
+"\1\1\1\1\1\1\1\1btn\1fr\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\
+\0\0\"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\
+\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\\\0\0\0\
+\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1\
+\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\
+\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\
+\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\
+\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1"
+
+/* Some svr4 assemblers have a limit on the number of characters which
+   can appear in the operand of a .string directive.  If your assembler
+   has such a limitation, you should define STRING_LIMIT to reflect that
+   limit.  Note that at least some svr4 assemblers have a limit on the
+   actual number of bytes in the double-quoted string, and that they
+   count each character in an escape sequence as one byte.  Thus, an
+   escape sequence like \377 would count as four bytes.
+
+   If your target assembler doesn't support the .string directive, you
+   should define this to zero.
+*/
+
+#define STRING_LIMIT	((unsigned) 256)
+
+#define STRING_ASM_OP	".string"
+
+/* The routine used to output NUL terminated strings.  We use a special
+   version of this for most svr4 targets because doing so makes the
+   generated assembly code more compact (and thus faster to assemble)
+   as well as more readable, especially for targets like the i386
+   (where the only alternative is to output character sequences as
+   comma separated lists of numbers).   */
+
+#define ASM_OUTPUT_LIMITED_STRING(FILE, STR)				\
+  do									\
+    {									\
+      register unsigned char *_limited_str = (unsigned char *) (STR);	\
+      register unsigned ch;						\
+      fprintf ((FILE), "\t%s\t\"", STRING_ASM_OP);			\
+      for (; (ch = *_limited_str); _limited_str++)			\
+        {								\
+	  register int escape;						\
+	  switch (escape = ESCAPES[ch])					\
+	    {								\
+	    case 0:							\
+	      putc (ch, (FILE));					\
+	      break;							\
+	    case 1:							\
+	      fprintf ((FILE), "\\%03o", ch);				\
+	      break;							\
+	    default:							\
+	      putc ('\\', (FILE));					\
+	      putc (escape, (FILE));					\
+	      break;							\
+	    }								\
+        }								\
+      fprintf ((FILE), "\"\n");						\
+    }									\
+  while (0)
+
+/* The routine used to output sequences of byte values.  We use a special
+   version of this for most svr4 targets because doing so makes the
+   generated assembly code more compact (and thus faster to assemble)
+   as well as more readable.  Note that if we find subparts of the
+   character sequence which end with NUL (and which are shorter than
+   STRING_LIMIT) we output those using ASM_OUTPUT_LIMITED_STRING.  */
+
+#undef ASM_OUTPUT_ASCII
+#define ASM_OUTPUT_ASCII(FILE, STR, LENGTH)				\
+  do									\
+    {									\
+      register unsigned char *_ascii_bytes = (unsigned char *) (STR);	\
+      register unsigned char *limit = _ascii_bytes + (LENGTH);		\
+      register unsigned bytes_in_chunk = 0;				\
+      for (; _ascii_bytes < limit; _ascii_bytes++)			\
+        {								\
+	  register unsigned char *p;					\
+	  if (bytes_in_chunk >= 60)					\
+	    {								\
+	      fprintf ((FILE), "\"\n");					\
+	      bytes_in_chunk = 0;					\
+	    }								\
+	  for (p = _ascii_bytes; p < limit && *p != '\0'; p++)		\
+	    continue;							\
+	  if (p < limit && (p - _ascii_bytes) <= STRING_LIMIT)		\
+	    {								\
+	      if (bytes_in_chunk > 0)					\
+		{							\
+		  fprintf ((FILE), "\"\n");				\
+		  bytes_in_chunk = 0;					\
+		}							\
+	      ASM_OUTPUT_LIMITED_STRING ((FILE), _ascii_bytes);		\
+	      _ascii_bytes = p;						\
+	    }								\
+	  else								\
+	    {								\
+	      register int escape;					\
+	      register unsigned ch;					\
+	      if (bytes_in_chunk == 0)					\
+		fprintf ((FILE), "\t%s\t\"", ASCII_DATA_ASM_OP);	\
+	      switch (escape = ESCAPES[ch = *_ascii_bytes])		\
+		{							\
+		case 0:							\
+		  putc (ch, (FILE));					\
+		  bytes_in_chunk++;					\
+		  break;						\
+		case 1:							\
+		  fprintf ((FILE), "\\%03o", ch);			\
+		  bytes_in_chunk += 4;					\
+		  break;						\
+		default:						\
+		  putc ('\\', (FILE));					\
+		  putc (escape, (FILE));				\
+		  bytes_in_chunk += 2;					\
+		  break;						\
+		}							\
+	    }								\
+	}								\
+      if (bytes_in_chunk > 0)						\
+        fprintf ((FILE), "\"\n");					\
+    }									\
+  while (0)
+
+/* All SVR4 targets use the ELF object file format.  */
+#define OBJECT_FORMAT_ELF
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/rs6000/nto.h gcc/gcc/config/rs6000/nto.h
--- gcc-2.95.2/gcc/config/rs6000/nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/rs6000/nto.h	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,1497 @@
+/* Target definitions for GNU compiler for PowerPC running System V.4
+   Copyright (C) 1995, 1996, 1997 Free Software Foundation, Inc.
+   Contributed by Cygnus Support.
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+/* Small data support types */
+enum rs6000_sdata_type {
+  SDATA_NONE,			/* no small data support */
+  SDATA_DATA,			/* just put data in .sbss/.sdata, don't use relocs */
+  SDATA_SYSV,			/* Use r13 to point to .sdata/.sbss */
+  SDATA_EABI			/* Use r13 like above, r2 points to .sdata2/.sbss2 */
+};
+
+extern enum rs6000_sdata_type rs6000_sdata;
+
+/* V.4/eabi switches */
+#define	MASK_NO_BITFIELD_TYPE	0x40000000	/* Set PCC_BITFIELD_TYPE_MATTERS to 0 */
+#define	MASK_STRICT_ALIGN	0x20000000	/* Set STRICT_ALIGNMENT to 1.  */
+#define MASK_RELOCATABLE	0x10000000	/* GOT pointers are PC relative */
+#define	MASK_EABI		0x08000000	/* Adhere to eabi, not System V spec */
+#define MASK_LITTLE_ENDIAN	0x04000000	/* target is little endian */
+#define MASK_REGNAMES		0x02000000	/* use alternate register names.  */
+#define MASK_PROTOTYPE		0x01000000	/* Only prototyped fcns pass variable args */
+
+#define	TARGET_NO_BITFIELD_TYPE	(target_flags & MASK_NO_BITFIELD_TYPE)
+#define TARGET_STRICT_ALIGN	(target_flags & MASK_STRICT_ALIGN)
+#define TARGET_RELOCATABLE	(target_flags & MASK_RELOCATABLE)
+#define TARGET_EABI		(target_flags & MASK_EABI)
+#define TARGET_LITTLE_ENDIAN	(target_flags & MASK_LITTLE_ENDIAN)
+#define TARGET_REGNAMES		(target_flags & MASK_REGNAMES)
+#define	TARGET_PROTOTYPE	(target_flags & MASK_PROTOTYPE)
+#define	TARGET_TOC		((target_flags & MASK_64BIT)		\
+				 || ((target_flags & (MASK_RELOCATABLE	\
+						      | MASK_MINIMAL_TOC)) \
+				     && flag_pic > 1)			\
+				 || DEFAULT_ABI == ABI_AIX		\
+				 || DEFAULT_ABI == ABI_NT)
+
+#define	TARGET_BITFIELD_TYPE	(! TARGET_NO_BITFIELD_TYPE)
+#define TARGET_BIG_ENDIAN	(! TARGET_LITTLE_ENDIAN)
+#define	TARGET_NO_PROTOTYPE	(! TARGET_PROTOTYPE)
+#define	TARGET_NO_TOC		(! TARGET_TOC)
+#define TARGET_NO_EABI		(! TARGET_EABI)
+
+/* Pseudo target to indicate whether the object format is ELF
+   (to get around not having conditional compilation in the md file)  */
+#define	TARGET_ELF		1
+
+/* Note, V.4 no longer uses a normal TOC, so make -mfull-toc, be just
+   the same as -mminimal-toc.  */
+#undef	SUBTARGET_SWITCHES
+#define SUBTARGET_SWITCHES						\
+  { "bit-align",	-MASK_NO_BITFIELD_TYPE },			\
+  { "no-bit-align",	 MASK_NO_BITFIELD_TYPE },			\
+  { "strict-align",	 MASK_STRICT_ALIGN },				\
+  { "no-strict-align",	-MASK_STRICT_ALIGN },				\
+  { "relocatable",	 MASK_RELOCATABLE | MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC }, \
+  { "no-relocatable",	-MASK_RELOCATABLE },				\
+  { "relocatable-lib",	 MASK_RELOCATABLE | MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC }, \
+  { "no-relocatable-lib", -MASK_RELOCATABLE },				\
+  { "little-endian",	 MASK_LITTLE_ENDIAN },				\
+  { "little",		 MASK_LITTLE_ENDIAN },				\
+  { "big-endian",	-MASK_LITTLE_ENDIAN },				\
+  { "big",		-MASK_LITTLE_ENDIAN },				\
+  { "no-toc",		 0 },						\
+  { "toc",		 MASK_MINIMAL_TOC },				\
+  { "full-toc",		 MASK_MINIMAL_TOC },				\
+  { "prototype",	 MASK_PROTOTYPE },				\
+  { "no-prototype",	-MASK_PROTOTYPE },				\
+  { "no-traceback",	 0 },						\
+  { "eabi",		 MASK_EABI },					\
+  { "no-eabi",		-MASK_EABI },					\
+  { "regnames",		  MASK_REGNAMES },				\
+  { "no-regnames",	 -MASK_REGNAMES },				\
+  { "sdata",		 0 },						\
+  { "no-sdata",		 0 },						\
+  { "sim",		 0 },						\
+  { "ads",		 0 },						\
+  { "yellowknife",	 0 },						\
+  { "mvme",		 0 },						\
+  { "emb",		 0 },						\
+  { "solaris-cclib",	 0 },						\
+  { "shlib",		 0 },						\
+  EXTRA_SUBTARGET_SWITCHES                                              \
+  { "newlib",		 0 },
+
+/* This is meant to be redefined in the host dependent files */
+#define EXTRA_SUBTARGET_SWITCHES
+
+/* Default ABI to use */
+#define RS6000_ABI_NAME "sysv"
+
+/* Strings provided by SUBTARGET_OPTIONS */
+extern const char *rs6000_abi_name;
+extern const char *rs6000_sdata_name;
+
+#define SUBTARGET_OPTIONS						\
+  { "call-",  &rs6000_abi_name},					\
+  { "sdata=", &rs6000_sdata_name}
+
+/* Max # of bytes for variables to automatically be put into the .sdata
+   or .sdata2 sections.  */
+extern int g_switch_value;		/* value of the -G xx switch */
+extern int g_switch_set;		/* whether -G xx was passed.  */
+
+#ifndef SDATA_DEFAULT_SIZE
+#define SDATA_DEFAULT_SIZE 8
+#endif
+
+/* Sometimes certain combinations of command options do not make sense
+   on a particular target machine.  You can define a macro
+   `OVERRIDE_OPTIONS' to take account of this.  This macro, if
+   defined, is executed once just after all the command options have
+   been parsed.
+
+   The macro SUBTARGET_OVERRIDE_OPTIONS is provided for subtargets, to
+   get control.  */
+
+#define SUBTARGET_OVERRIDE_OPTIONS					\
+do {									\
+  if (!g_switch_set)							\
+    g_switch_value = SDATA_DEFAULT_SIZE;				\
+									\
+  if (!strcmp (rs6000_abi_name, "sysv"))				\
+    rs6000_current_abi = ABI_V4;					\
+  else if (!strcmp (rs6000_abi_name, "sysv-noeabi"))			\
+    {									\
+      rs6000_current_abi = ABI_V4;					\
+      target_flags &= ~ MASK_EABI;					\
+    }									\
+  else if (!strcmp (rs6000_abi_name, "sysv-eabi")			\
+	   || !strcmp (rs6000_abi_name, "eabi"))			\
+    {									\
+      rs6000_current_abi = ABI_V4;					\
+      target_flags |= MASK_EABI;					\
+    }									\
+  else if (!strcmp (rs6000_abi_name, "aix"))				\
+    {									\
+      rs6000_current_abi = ABI_AIX_NODESC;				\
+      target_flags |= MASK_EABI;					\
+    }									\
+  else if (!strcmp (rs6000_abi_name, "aixdesc"))			\
+    rs6000_current_abi = ABI_AIX;					\
+  else if (!strcmp (rs6000_abi_name, "nt"))				\
+    rs6000_current_abi = ABI_NT;					\
+  else if (!strcmp (rs6000_abi_name, "linux"))				\
+    rs6000_current_abi = ABI_V4;					\
+  else if (!strcmp (rs6000_abi_name, "solaris"))			\
+    rs6000_current_abi = ABI_SOLARIS;					\
+  else									\
+    {									\
+      rs6000_current_abi = ABI_V4;					\
+      error ("Bad value for -mcall-%s", rs6000_abi_name);		\
+    }									\
+									\
+  if (rs6000_sdata_name)						\
+    {									\
+      if (!strcmp (rs6000_sdata_name, "none"))				\
+	rs6000_sdata = SDATA_NONE;					\
+      else if (!strcmp (rs6000_sdata_name, "data"))			\
+	rs6000_sdata = SDATA_DATA;					\
+      else if (!strcmp (rs6000_sdata_name, "default"))			\
+	rs6000_sdata = (TARGET_EABI) ? SDATA_EABI : SDATA_SYSV;		\
+      else if (!strcmp (rs6000_sdata_name, "sysv"))			\
+	rs6000_sdata = SDATA_SYSV;					\
+      else if (!strcmp (rs6000_sdata_name, "eabi"))			\
+	rs6000_sdata = SDATA_EABI;					\
+      else								\
+	error ("Bad value for -msdata=%s", rs6000_sdata_name);		\
+    }									\
+  else if (DEFAULT_ABI == ABI_V4 || DEFAULT_ABI == ABI_SOLARIS)		\
+    {									\
+      rs6000_sdata = SDATA_DATA;					\
+      rs6000_sdata_name = "data";					\
+    }									\
+  else									\
+    {									\
+      rs6000_sdata = SDATA_NONE;					\
+      rs6000_sdata_name = "none";					\
+    }									\
+									\
+  if (TARGET_RELOCATABLE &&						\
+      (rs6000_sdata == SDATA_EABI || rs6000_sdata == SDATA_SYSV))	\
+    {									\
+      rs6000_sdata = SDATA_DATA;					\
+      error ("-mrelocatable and -msdata=%s are incompatible.",		\
+	     rs6000_sdata_name);					\
+    }									\
+									\
+  else if (flag_pic &&							\
+	   (rs6000_sdata == SDATA_EABI || rs6000_sdata == SDATA_SYSV))	\
+    {									\
+      rs6000_sdata = SDATA_DATA;					\
+      error ("-f%s and -msdata=%s are incompatible.",			\
+	     (flag_pic > 1) ? "PIC" : "pic",				\
+	     rs6000_sdata_name);					\
+    }									\
+									\
+  if (rs6000_sdata != SDATA_NONE && DEFAULT_ABI != ABI_V4		\
+      && DEFAULT_ABI != ABI_SOLARIS)					\
+    {									\
+      rs6000_sdata = SDATA_NONE;					\
+      error ("-msdata=%s and -mcall-%s are incompatible.",		\
+	     rs6000_sdata_name, rs6000_abi_name);			\
+    }									\
+									\
+  if (TARGET_RELOCATABLE && !TARGET_MINIMAL_TOC)			\
+    {									\
+      target_flags |= MASK_MINIMAL_TOC;					\
+      error ("-mrelocatable and -mno-minimal-toc are incompatible.");	\
+    }									\
+									\
+  if (TARGET_RELOCATABLE &&						\
+      (rs6000_current_abi == ABI_AIX || rs6000_current_abi == ABI_NT))	\
+    {									\
+      target_flags &= ~MASK_RELOCATABLE;				\
+      error ("-mrelocatable and -mcall-%s are incompatible.",		\
+	     rs6000_abi_name);						\
+    }									\
+									\
+  if (flag_pic > 1 &&							\
+      (rs6000_current_abi == ABI_AIX || rs6000_current_abi == ABI_NT))	\
+    {									\
+      flag_pic = 0;							\
+      error ("-fPIC and -mcall-%s are incompatible.",			\
+	     rs6000_abi_name);						\
+    }									\
+									\
+  if (rs6000_current_abi == ABI_AIX && TARGET_LITTLE_ENDIAN)		\
+    {									\
+      target_flags &= ~MASK_LITTLE_ENDIAN;				\
+      error ("-mcall-aixdesc must be big endian");			\
+    }									\
+									\
+  if (rs6000_current_abi == ABI_NT && TARGET_BIG_ENDIAN)		\
+    {									\
+      target_flags |= MASK_LITTLE_ENDIAN;				\
+      error ("-mcall-nt must be little endian");			\
+    }									\
+									\
+  /* Treat -fPIC the same as -mrelocatable */				\
+  if (flag_pic > 1)							\
+    target_flags |= MASK_RELOCATABLE | MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC; \
+									\
+  else if (TARGET_RELOCATABLE)						\
+    flag_pic = 2;							\
+									\
+} while (0)
+
+/* Default ABI to compile code for */
+#define DEFAULT_ABI rs6000_current_abi
+
+#include "rs6000/rs6000.h"
+
+/* 
+ * Set default target to PPC601, overriding the rs6000 header
+ */
+
+#undef PROCESSOR_DEFAULT
+#define PROCESSOR_DEFAULT PROCESSOR_PPC601
+
+#undef TARGET_DEFAULT
+#define TARGET_DEFAULT (MASK_POWERPC | MASK_NEW_MNEMONICS)
+
+#undef ASM_DEFAULT_SPEC
+#define ASM_DEFAULT_SPEC "-mppc"
+
+/* System V.4 uses register 13 as a pointer to the small data area,
+   so it is not available to the normal user.  */
+
+#undef	FIXED_R13
+#define FIXED_R13 1
+
+/* System V.4 passes the first 8 floating arguments in registers,
+   instead of the first 13 like AIX does.  */
+#undef	FP_ARG_MAX_REG
+#define	FP_ARG_MAX_REG ((DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_AIX_NODESC) \
+			? FP_ARG_AIX_MAX_REG : FP_ARG_V4_MAX_REG)
+
+/* Size of the V.4 varargs area if needed */
+#undef	RS6000_VARARGS_AREA
+#define RS6000_VARARGS_AREA ((rs6000_sysv_varargs_p) ? RS6000_VARARGS_SIZE : 0)
+
+/* Override default big endianism */
+#undef  BYTES_BIG_ENDIAN
+#undef  WORDS_BIG_ENDIAN
+#define BYTES_BIG_ENDIAN (TARGET_BIG_ENDIAN)
+#define WORDS_BIG_ENDIAN (TARGET_BIG_ENDIAN)
+
+/* Define this to set the endianness to use in libgcc2.c, which can
+   not depend on target_flags.  */
+#if !defined(_LITTLE_ENDIAN) && !defined(__sun__)
+#define LIBGCC2_WORDS_BIG_ENDIAN 1
+#else
+#define LIBGCC2_WORDS_BIG_ENDIAN 0
+#endif
+
+/* Size of the outgoing register save area */
+#undef	RS6000_REG_SAVE
+#define RS6000_REG_SAVE ((DEFAULT_ABI == ABI_AIX			\
+			  || DEFAULT_ABI == ABI_AIX_NODESC)		\
+			 ? (TARGET_64BIT ? 64 : 32)			\
+			 : 0)
+
+/* Size of the fixed area on the stack.  For AIX, use the standard 6 word
+   area, otherwise use 2 words to store back chain & LR.  */
+#undef	RS6000_SAVE_AREA
+#define RS6000_SAVE_AREA \
+  (((DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_AIX_NODESC) ? 24 : 8) << (TARGET_64BIT ? 1 : 0))
+
+/* Define cutoff for using external functions to save floating point.
+   Currently on V.4, always use inline stores */
+#undef	FP_SAVE_INLINE
+#define FP_SAVE_INLINE(FIRST_REG) ((FIRST_REG) < 64)
+
+/* Don't generate XCOFF debugging information.  */
+
+#undef XCOFF_DEBUGGING_INFO
+
+/* Don't use the COFF object file format.  */
+
+#undef OBJECT_FORMAT_COFF
+
+/* Don't bother to output .extern pseudo-ops.  They are not needed by
+   ELF assemblers.  */
+
+#undef ASM_OUTPUT_EXTERNAL
+
+/* Put jump tables in read-only memory, rather than in .text.  */
+#undef JUMP_TABLES_IN_TEXT_SECTION
+
+/* Undefine some things which are defined by the generic svr4.h.  */
+
+#undef ASM_FILE_END
+#undef ASM_OUTPUT_EXTERNAL_LIBCALL
+#undef READONLY_DATA_SECTION
+#undef SELECT_SECTION
+#undef ASM_DECLARE_FUNCTION_NAME
+#undef ASM_OUTPUT_CONSTRUCTOR
+#undef ASM_OUTPUT_DESTRUCTOR
+
+/* Use the regular svr4 definitions.  */
+
+#include "svr4.h"
+
+/* Prefix and suffix to use to saving floating point */
+#undef	SAVE_FP_PREFIX
+#undef	SAVE_FP_SUFFIX
+#define	SAVE_FP_PREFIX "_savefpr_"
+#define SAVE_FP_SUFFIX "_l"
+
+/* Prefix and suffix to use to restoring floating point */
+#undef	RESTORE_FP_PREFIX
+#undef	RESTORE_FP_SUFFIX
+#define	RESTORE_FP_PREFIX "_restfpr_"
+#define RESTORE_FP_SUFFIX "_l"
+
+/* Type used for ptrdiff_t, as a string used in a declaration.  */
+#undef	PTRDIFF_TYPE
+#define PTRDIFF_TYPE "int"
+
+/* Type used for wchar_t, as a string used in a declaration.  */
+#undef	WCHAR_TYPE
+#define WCHAR_TYPE "long int"
+
+/* Width of wchar_t in bits.  */
+#undef	WCHAR_TYPE_SIZE
+#define WCHAR_TYPE_SIZE 32
+
+#undef DEFAULT_SIGNED_CHAR
+#define DEFAULT_SIGNED_CHAR  1
+
+/* Make int foo : 8 not cause structures to be aligned to an int boundary */
+
+#undef	PCC_BITFIELD_TYPE_MATTERS
+#define	PCC_BITFIELD_TYPE_MATTERS (TARGET_BITFIELD_TYPE)
+
+/* Define this macro to be the value 1 if instructions will fail to
+   work if given data not on the nominal alignment.  If instructions
+   will merely go slower in that case, define this macro as 0.
+
+   Note, little endian systems trap on unaligned addresses, so never
+   turn off strict alignment in that case. */
+#undef	STRICT_ALIGNMENT
+#define	STRICT_ALIGNMENT (TARGET_STRICT_ALIGN || TARGET_LITTLE_ENDIAN)
+
+/* Alignment in bits of the stack boundary.  Note, in order to allow building
+   one set of libraries with -mno-eabi instead of eabi libraries and non-eabi
+   versions, just use 64 as the stack boundary.  */
+#undef	STACK_BOUNDARY
+#define	STACK_BOUNDARY	64
+
+/* Real stack boundary as mandated by the appropriate ABI */
+#define ABI_STACK_BOUNDARY ((TARGET_EABI) ? 64 : 128)
+
+/* No data type wants to be aligned rounder than this.  */
+#undef	BIGGEST_ALIGNMENT
+#define BIGGEST_ALIGNMENT ((TARGET_EABI) ? 64 : 128)
+
+#undef  BIGGEST_FIELD_ALIGNMENT
+#undef  ADJUST_FIELD_ALIGN
+#undef  ROUND_TYPE_ALIGN
+
+/* Use ELF style section commands.  */
+
+#undef TEXT_SECTION_ASM_OP
+#define TEXT_SECTION_ASM_OP	"\t.section \".text\""
+
+#undef DATA_SECTION_ASM_OP
+#define DATA_SECTION_ASM_OP	"\t.section \".data\""
+
+#undef BSS_SECTION_ASM_OP
+#define BSS_SECTION_ASM_OP	"\t.section \".bss\""
+
+#undef INIT_SECTION_ASM_OP
+#define INIT_SECTION_ASM_OP "\t.section \".init\",\"ax\""
+
+#undef FINI_SECTION_ASM_OP
+#define FINI_SECTION_ASM_OP "\t.section \".fini\",\"ax\""
+
+#define TOC_SECTION_ASM_OP "\t.section \".got\",\"aw\""
+
+/* Put PC relative got entries in .got2 */
+#define MINIMAL_TOC_SECTION_ASM_OP \
+  ((TARGET_RELOCATABLE || flag_pic) ? "\t.section\t\".got2\",\"aw\"" : "\t.section\t\".got1\",\"aw\"")
+
+/* Put relocatable data in .data, not .rodata so initialized pointers can be updated */
+#undef	CONST_SECTION_ASM_OP
+#define CONST_SECTION_ASM_OP \
+  ((TARGET_RELOCATABLE || flag_pic) ? "\t.section\t\".data\"\t# .rodata" : "\t.section\t\".rodata\"")
+
+
+#define SDATA_SECTION_ASM_OP "\t.section \".sdata\",\"aw\""
+#define SDATA2_SECTION_ASM_OP "\t.section \".sdata2\",\"a\""
+#define SBSS_SECTION_ASM_OP \
+  ((DEFAULT_ABI == ABI_SOLARIS) ? "\t.section \".sbss\",\"aw\"" : "\t.section \".sbss\",\"aw\",@nobits")
+
+
+/* Besides the usual ELF sections, we need a toc section.  */
+#undef EXTRA_SECTIONS
+#define EXTRA_SECTIONS in_const, in_ctors, in_dtors, in_toc, in_sdata, in_sdata2, in_sbss, in_init, in_fini
+
+#undef EXTRA_SECTION_FUNCTIONS
+#define EXTRA_SECTION_FUNCTIONS						\
+  CONST_SECTION_FUNCTION						\
+  CTORS_SECTION_FUNCTION						\
+  DTORS_SECTION_FUNCTION						\
+  TOC_SECTION_FUNCTION							\
+  SDATA_SECTION_FUNCTION						\
+  SDATA2_SECTION_FUNCTION						\
+  SBSS_SECTION_FUNCTION							\
+  INIT_SECTION_FUNCTION							\
+  FINI_SECTION_FUNCTION
+
+extern void toc_section (), sdata_section (), sdata2_section ();
+extern void sbss_section ();
+
+#define TOC_SECTION_FUNCTION						\
+void									\
+toc_section ()								\
+{									\
+  if (in_section != in_toc)						\
+    {									\
+      in_section = in_toc;						\
+      if ((DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_NT)		\
+	  && TARGET_MINIMAL_TOC						\
+	  && !TARGET_RELOCATABLE)					\
+	{								\
+	  if (! toc_initialized)					\
+	    {								\
+	      toc_initialized = 1;					\
+	      fprintf (asm_out_file, "%s\n", TOC_SECTION_ASM_OP);	\
+	      ASM_OUTPUT_INTERNAL_LABEL (asm_out_file, "LCTOC", 0);	\
+	      fprintf (asm_out_file, "\t.tc ");				\
+	      ASM_OUTPUT_INTERNAL_LABEL_PREFIX (asm_out_file, "LCTOC1[TC],"); \
+	      ASM_OUTPUT_INTERNAL_LABEL_PREFIX (asm_out_file, "LCTOC1"); \
+	      fprintf (asm_out_file, "\n");				\
+									\
+	      fprintf (asm_out_file, "%s\n", MINIMAL_TOC_SECTION_ASM_OP); \
+	      ASM_OUTPUT_INTERNAL_LABEL_PREFIX (asm_out_file, "LCTOC1"); \
+	      fprintf (asm_out_file, " = .+32768\n");			\
+	    }								\
+	  else								\
+	    fprintf (asm_out_file, "%s\n", MINIMAL_TOC_SECTION_ASM_OP);	\
+	}								\
+      else if ((DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_NT)	\
+	       && !TARGET_RELOCATABLE)					\
+	fprintf (asm_out_file, "%s\n", TOC_SECTION_ASM_OP);		\
+      else								\
+	{								\
+	  fprintf (asm_out_file, "%s\n", MINIMAL_TOC_SECTION_ASM_OP);	\
+	  if (! toc_initialized)					\
+	    {								\
+	      ASM_OUTPUT_INTERNAL_LABEL_PREFIX (asm_out_file, "LCTOC1"); \
+	      fprintf (asm_out_file, " = .+32768\n");			\
+	      toc_initialized = 1;					\
+	    }								\
+	}								\
+    }									\
+}
+
+#define SDATA_SECTION_FUNCTION						\
+void									\
+sdata_section ()							\
+{									\
+  if (in_section != in_sdata)						\
+    {									\
+      in_section = in_sdata;						\
+      fprintf (asm_out_file, "%s\n", SDATA_SECTION_ASM_OP);		\
+    }									\
+}
+
+#define SDATA2_SECTION_FUNCTION						\
+void									\
+sdata2_section ()							\
+{									\
+  if (in_section != in_sdata2)						\
+    {									\
+      in_section = in_sdata2;						\
+      fprintf (asm_out_file, "%s\n", SDATA2_SECTION_ASM_OP);		\
+    }									\
+}
+
+#define SBSS_SECTION_FUNCTION						\
+void									\
+sbss_section ()								\
+{									\
+  if (in_section != in_sbss)						\
+    {									\
+      in_section = in_sbss;						\
+      fprintf (asm_out_file, "%s\n", SBSS_SECTION_ASM_OP);		\
+    }									\
+}
+
+#define INIT_SECTION_FUNCTION						\
+void									\
+init_section ()								\
+{									\
+  if (in_section != in_init)						\
+    {									\
+      in_section = in_init;						\
+      fprintf (asm_out_file, "%s\n", INIT_SECTION_ASM_OP);		\
+    }									\
+}
+
+#define FINI_SECTION_FUNCTION						\
+void									\
+fini_section ()								\
+{									\
+  if (in_section != in_fini)						\
+    {									\
+      in_section = in_fini;						\
+      fprintf (asm_out_file, "%s\n", FINI_SECTION_ASM_OP);		\
+    }									\
+}
+
+/* A C statement or statements to switch to the appropriate section
+   for output of RTX in mode MODE.  You can assume that RTX is some
+   kind of constant in RTL.  The argument MODE is redundant except in
+   the case of a `const_int' rtx.  Select the section by calling
+   `text_section' or one of the alternatives for other sections.
+
+   Do not define this macro if you put all constants in the read-only
+   data section.  */
+
+extern void rs6000_select_rtx_section (), rs6000_select_section ();
+
+#undef SELECT_RTX_SECTION
+#define SELECT_RTX_SECTION(MODE, X) rs6000_select_rtx_section (MODE, X)
+
+/* A C statement or statements to switch to the appropriate
+   section for output of DECL.  DECL is either a `VAR_DECL' node
+   or a constant of some sort.  RELOC indicates whether forming
+   the initial value of DECL requires link-time relocations.  */
+
+#undef SELECT_SECTION
+#define SELECT_SECTION(DECL,RELOC) rs6000_select_section (DECL, RELOC)
+
+/* Return non-zero if this entry is to be written into the constant pool
+   in a special way.  We do so if this is a SYMBOL_REF, LABEL_REF or a CONST
+   containing one of them.  If -mfp-in-toc (the default), we also do
+   this for floating-point constants.  We actually can only do this
+   if the FP formats of the target and host machines are the same, but
+   we can't check that since not every file that uses
+   GO_IF_LEGITIMATE_ADDRESS_P includes real.h.
+
+   Unlike AIX, we don't key off of -mminimal-toc, but instead do not
+   allow floating point constants in the TOC if -mrelocatable.  */
+
+#undef	ASM_OUTPUT_SPECIAL_POOL_ENTRY_P
+#define ASM_OUTPUT_SPECIAL_POOL_ENTRY_P(X)				\
+  (TARGET_TOC								\
+   && (GET_CODE (X) == SYMBOL_REF					\
+       || (GET_CODE (X) == CONST && GET_CODE (XEXP (X, 0)) == PLUS	\
+	   && GET_CODE (XEXP (XEXP (X, 0), 0)) == SYMBOL_REF)		\
+       || GET_CODE (X) == LABEL_REF					\
+       || (!TARGET_NO_FP_IN_TOC						\
+	   && !TARGET_RELOCATABLE					\
+	   && GET_CODE (X) == CONST_DOUBLE				\
+	   && GET_MODE_CLASS (GET_MODE (X)) == MODE_FLOAT		\
+	   && BITS_PER_WORD == HOST_BITS_PER_INT)))
+
+/* These macros generate the special .type and .size directives which
+   are used to set the corresponding fields of the linker symbol table
+   entries in an ELF object file under SVR4.  These macros also output
+   the starting labels for the relevant functions/objects.  */
+
+/* Write the extra assembler code needed to declare a function properly.
+   Some svr4 assemblers need to also have something extra said about the
+   function's return value.  We allow for that here.  */
+
+extern int rs6000_pic_labelno;
+
+#undef	ASM_DECLARE_FUNCTION_NAME
+#define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL)			\
+  do {									\
+    char *orig_name;							\
+    char *init_ptr = (TARGET_64BIT) ? ".quad" : ".long";		\
+    STRIP_NAME_ENCODING (orig_name, NAME);				\
+									\
+    if (TARGET_RELOCATABLE && (get_pool_size () != 0 || profile_flag))	\
+      {									\
+	char buf[256], *buf_ptr;					\
+									\
+	ASM_OUTPUT_INTERNAL_LABEL (FILE, "LCL", rs6000_pic_labelno);	\
+									\
+	ASM_GENERATE_INTERNAL_LABEL (buf, "LCTOC", 1);			\
+	STRIP_NAME_ENCODING (buf_ptr, buf);				\
+	fprintf (FILE, "\t%s %s-", init_ptr, buf_ptr);			\
+									\
+	ASM_GENERATE_INTERNAL_LABEL (buf, "LCF", rs6000_pic_labelno);	\
+	fprintf (FILE, "%s\n", buf_ptr);				\
+      }									\
+									\
+    fprintf (FILE, "\t%s\t %s,", TYPE_ASM_OP, orig_name);		\
+    fprintf (FILE, TYPE_OPERAND_FMT, "function");			\
+    putc ('\n', FILE);							\
+    ASM_DECLARE_RESULT (FILE, DECL_RESULT (DECL));			\
+									\
+    if (DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_NT)		\
+      {									\
+	char *desc_name = orig_name;					\
+									\
+	while (*desc_name == '.')					\
+	  desc_name++;							\
+									\
+	if (TREE_PUBLIC (DECL))						\
+	  fprintf (FILE, "\t.globl %s\n", desc_name);			\
+									\
+	fprintf (FILE, "%s\n", MINIMAL_TOC_SECTION_ASM_OP);		\
+	fprintf (FILE, "%s:\n", desc_name);				\
+	fprintf (FILE, "\t%s %s\n", init_ptr, orig_name);		\
+	fprintf (FILE, "\t%s _GLOBAL_OFFSET_TABLE_\n", init_ptr);	\
+	if (DEFAULT_ABI == ABI_AIX)					\
+	  fprintf (FILE, "\t%s 0\n", init_ptr);				\
+	fprintf (FILE, "\t.previous\n");				\
+      }									\
+    fprintf (FILE, "%s:\n", orig_name);					\
+  } while (0)
+
+/* How to renumber registers for dbx and gdb.  */
+
+#define DBX_REGISTER_NUMBER(REGNO) (REGNO)
+
+/* svr4.h overrides ASM_OUTPUT_INTERNAL_LABEL.  */
+
+#undef ASM_OUTPUT_INTERNAL_LABEL_PREFIX
+#define ASM_OUTPUT_INTERNAL_LABEL_PREFIX(FILE,PREFIX)	\
+  fprintf (FILE, ".%s", PREFIX)
+
+/* This is how to allocate empty space in some section.  Use .space
+   instead of .zero because the Solaris PowerPC assembler doesn't
+   like it, and gas accepts either syntax.  */
+
+#undef	SKIP_ASM_OP
+#define SKIP_ASM_OP	".space"
+
+/* This says how to output assembler code to declare an
+   uninitialized internal linkage data object.  Under SVR4,
+   the linker seems to want the alignment of data objects
+   to depend on their types.  We do exactly that here.  */
+
+#ifndef LOCAL_ASM_OP
+#define LOCAL_ASM_OP	".local"
+#endif
+
+#ifndef LCOMM_ASM_OP
+#define LCOMM_ASM_OP	".lcomm"
+#endif
+
+#undef ASM_OUTPUT_ALIGNED_LOCAL
+#define ASM_OUTPUT_ALIGNED_LOCAL(FILE, NAME, SIZE, ALIGN)		\
+do {									\
+  if (rs6000_sdata != SDATA_NONE && (SIZE) > 0				\
+      && (SIZE) <= g_switch_value)					\
+    {									\
+      sdata_section ();							\
+      ASM_OUTPUT_ALIGN (FILE, exact_log2 (ALIGN / BITS_PER_UNIT));	\
+      ASM_OUTPUT_LABEL (FILE, NAME);					\
+      ASM_OUTPUT_SKIP (FILE, SIZE);					\
+      if (!flag_inhibit_size_directive && (SIZE) > 0)			\
+	{								\
+	  fprintf (FILE, "\t%s\t ", SIZE_ASM_OP);			\
+	  assemble_name (FILE, NAME);					\
+	  fprintf (FILE, ",%d\n",  SIZE);				\
+	}								\
+    }									\
+  else									\
+    {									\
+      fprintf (FILE, "\t%s\t", LCOMM_ASM_OP);				\
+      assemble_name ((FILE), (NAME));					\
+      fprintf ((FILE), ",%u,%u\n", (SIZE), (ALIGN) / BITS_PER_UNIT);	\
+    }									\
+} while (0)
+
+/* Describe how to emit uninitialized external linkage items  */
+#define ASM_OUTPUT_ALIGNED_BSS(FILE, DECL, NAME, SIZE, ALIGN)		\
+do {									\
+  ASM_GLOBALIZE_LABEL (FILE, NAME);					\
+  ASM_OUTPUT_ALIGNED_LOCAL (FILE, NAME, SIZE, ALIGN);			\
+} while (0)
+
+/* Switch  Recognition by gcc.c.  Add -G xx support */
+
+#undef SWITCH_TAKES_ARG
+#define SWITCH_TAKES_ARG(CHAR)						\
+  ((CHAR) == 'D' || (CHAR) == 'U' || (CHAR) == 'o'			\
+   || (CHAR) == 'e' || (CHAR) == 'T' || (CHAR) == 'u'			\
+   || (CHAR) == 'I' || (CHAR) == 'm' || (CHAR) == 'x'			\
+   || (CHAR) == 'L' || (CHAR) == 'A' || (CHAR) == 'V'			\
+   || (CHAR) == 'B' || (CHAR) == 'b' || (CHAR) == 'G')
+
+/* Output .file.  */
+#undef ASM_FILE_START
+#define ASM_FILE_START(FILE)						\
+do {									\
+  output_file_directive ((FILE), main_input_filename);			\
+  rs6000_file_start (FILE, TARGET_CPU_DEFAULT);				\
+} while (0)
+
+
+/* This is how to output an assembler line defining an `int' constant.
+   For -mrelocatable, we mark all addresses that need to be fixed up
+   in the .fixup section.  */
+#undef	ASM_OUTPUT_INT
+#define ASM_OUTPUT_INT(FILE,VALUE)					\
+do {									\
+  static int recurse = 0;						\
+  if ((TARGET_RELOCATABLE || flag_pic)					\
+      && in_section != in_toc						\
+      && in_section != in_text						\
+      && in_section != in_ctors						\
+      && in_section != in_dtors						\
+      && !recurse							\
+      && GET_CODE (VALUE) != CONST_INT					\
+      && GET_CODE (VALUE) != CONST_DOUBLE				\
+      && CONSTANT_P (VALUE))						\
+    {									\
+      static int labelno = 0;						\
+      char buf[256], *p;						\
+									\
+      recurse = 1;							\
+      ASM_GENERATE_INTERNAL_LABEL (buf, "LCP", labelno++);		\
+      STRIP_NAME_ENCODING (p, buf);					\
+      fprintf (FILE, "%s:\n", p);					\
+      fprintf (FILE, "\t.long (");					\
+      output_addr_const (FILE, (VALUE));				\
+      fprintf (FILE, ")@fixup\n");					\
+      fprintf (FILE, "\t.section \".fixup\",\"aw\"\n");			\
+      ASM_OUTPUT_ALIGN (FILE, 2);					\
+      fprintf (FILE, "\t.long\t%s\n", p);				\
+      fprintf (FILE, "\t.previous\n");					\
+      recurse = 0;							\
+    }									\
+  /* Remove initial .'s to turn a -mcall-aixdesc or -mcall-nt function	\
+     address into the address of the descriptor, not the function	\
+     itself.  */							\
+  else if (GET_CODE (VALUE) == SYMBOL_REF				\
+	   && XSTR (VALUE, 0)[0] == '.'					\
+	   && (DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_NT))	\
+    {									\
+      char *name = XSTR (VALUE, 0);					\
+      while (*name == '.')						\
+	name++;								\
+									\
+      fprintf (FILE, "\t.long %s\n", name);				\
+    }									\
+  else									\
+    {									\
+      fprintf (FILE, "\t.long ");					\
+      output_addr_const (FILE, (VALUE));				\
+      fprintf (FILE, "\n");						\
+    }									\
+} while (0)
+
+/* This is the end of what might become sysv4.h.  */
+
+/* Allow stabs and dwarf, for now, and make dwarf the default for Neutrino */
+#undef	PREFERRED_DEBUGGING_TYPE
+#define PREFERRED_DEBUGGING_TYPE DWARF_DEBUG
+
+#define	DBX_DEBUGGING_INFO
+#define	DWARF_DEBUGGING_INFO
+
+/* If we are referencing a function that is static or is known to be
+   in this file, make the SYMBOL_REF special.  We can use this to indicate
+   that we can branch to this function without emitting a no-op after the
+   call.  For real AIX and NT calling sequences, we also replace the
+   function name with the real name (1 or 2 leading .'s), rather than
+   the function descriptor name.  This saves a lot of overriding code
+   to readd the prefixes.  */
+
+#undef	ENCODE_SECTION_INFO
+#define ENCODE_SECTION_INFO(DECL) rs6000_encode_section_info (DECL)
+
+extern void rs6000_encode_section_info ();
+
+/* This macro gets just the user-specified name
+   out of the string in a SYMBOL_REF.  Discard
+   a leading * or @. */
+#undef  STRIP_NAME_ENCODING
+#define STRIP_NAME_ENCODING(VAR,SYMBOL_NAME)				\
+do {									\
+  char *_name = SYMBOL_NAME;						\
+  while (*_name == '*' || *_name == '@')				\
+    _name++;								\
+  (VAR) = _name;							\
+} while (0)
+
+/* This is how to output a reference to a user-level label named NAME.
+   `assemble_name' uses this.  */
+
+#undef ASM_OUTPUT_LABELREF
+#define ASM_OUTPUT_LABELREF(FILE,NAME)	\
+do {									\
+  char *_name = NAME;							\
+  while (*_name == '*' || *_name == '@')				\
+    _name++;								\
+  fputs (_name, FILE);							\
+} while (0)
+
+/*
+ * Switch into a generic section.
+ *
+ * We make the section read-only and executable for a function decl,
+ * read-only for a const data decl, and writable for a non-const data decl.
+ *
+ * If the section has already been defined, we must not
+ * emit the attributes here. The SVR4 assembler does not
+ * recognize section redefinitions.
+ * If DECL is NULL, no attributes are emitted.
+ *
+ * Note, Solaris as doesn't like @nobits, and gas can handle .sbss without
+ * needing @nobits.
+ */
+
+#undef	ASM_OUTPUT_SECTION_NAME
+#define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME, RELOC)		\
+do {									\
+  static struct section_info						\
+    {									\
+      struct section_info *next;				        \
+      char *name;						        \
+      enum sect_enum {SECT_RW, SECT_RO, SECT_EXEC} type;		\
+    } *sections;							\
+  struct section_info *s;						\
+  char *mode;								\
+  enum sect_enum type;							\
+									\
+  for (s = sections; s; s = s->next)					\
+    if (!strcmp (NAME, s->name))					\
+      break;								\
+									\
+  if (DECL && TREE_CODE (DECL) == FUNCTION_DECL)			\
+    type = SECT_EXEC, mode = "ax";					\
+  else if (DECL && DECL_READONLY_SECTION (DECL, RELOC) && !TARGET_RELOCATABLE && !flag_pic) \
+    type = SECT_RO, mode = "a";						\
+  else									\
+    type = SECT_RW, mode = "aw";					\
+									\
+  if (s == 0)								\
+    {									\
+      s = (struct section_info *) xmalloc (sizeof (struct section_info));  \
+      s->name = xmalloc ((strlen (NAME) + 1) * sizeof (*NAME));		\
+      strcpy (s->name, NAME);						\
+      s->type = type;							\
+      s->next = sections;						\
+      sections = s;							\
+      fprintf (FILE, ".section\t%s,\"%s\"\n", NAME, mode);		\
+    }									\
+  else									\
+    {									\
+      if (DECL && s->type != type)					\
+	error_with_decl (DECL, "%s causes a section type conflict");	\
+									\
+      fprintf (FILE, ".section\t%s\n", NAME);				\
+    }									\
+} while (0)
+
+#undef ASM_OUTPUT_CONSTRUCTOR
+#define ASM_OUTPUT_CONSTRUCTOR(FILE,NAME)				\
+  do {									\
+    if (DEFAULT_ABI != ABI_SOLARIS)					\
+      {									\
+	ctors_section ();						\
+	fprintf (FILE, "\t%s\t ", INT_ASM_OP);				\
+	assemble_name (FILE, NAME);					\
+      }									\
+    else								\
+      {									\
+	init_section ();						\
+	fputs ("\tbl ", FILE);						\
+	assemble_name (FILE, NAME);					\
+      }									\
+    fputs ("\n", FILE);							\
+  } while (0)
+
+/* A C statement (sans semicolon) to output an element in the table of
+   global destructors.  */
+#undef ASM_OUTPUT_DESTRUCTOR
+#define ASM_OUTPUT_DESTRUCTOR(FILE,NAME)       				\
+  do {									\
+    if (DEFAULT_ABI != ABI_SOLARIS)					\
+      {									\
+	dtors_section ();						\
+	fprintf (FILE, "\t%s\t ", INT_ASM_OP);				\
+	assemble_name (FILE, NAME);					\
+      }									\
+    else								\
+      {									\
+	fini_section ();						\
+	fputs ("\tbl ", FILE);						\
+	assemble_name (FILE, NAME);					\
+      }									\
+    fputs ("\n", FILE);							\
+  } while (0)
+
+/* But, to make this work, we have to output the stabs for the function
+   name *first*...  */
+
+#define	DBX_FUNCTION_FIRST
+
+/* This is the end of what might become sysv4dbx.h.  */
+
+#undef TARGET_VERSION
+#define TARGET_VERSION fprintf (stderr, " (QNX/Neutrino/PowerPC)");
+
+#undef CPP_PREDEFINES
+#define CPP_PREDEFINES \
+  "-DPPC -Dunix -D__QNXNTO__ -D__QNX__ -Asystem(unix) -Asystem(qnxnto) -Acpu(powerpc) -Amachine(powerpc) -D__PPC__"
+
+/* Pass various options to the assembler */
+#undef ASM_SPEC
+#define ASM_SPEC "%(asm_cpu) \
+%{.s: %{mregnames} %{mno-regnames}} %{.S: %{mregnames} %{mno-regnames}} \
+%{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*} \
+%{mrelocatable} %{mrelocatable-lib} %{fpic:-K PIC} %{fPIC:-K PIC} \
+%{memb} %{!memb: %{msdata: -memb} %{msdata=eabi: -memb}} \
+%{mlittle} %{mlittle-endian} %{mbig} %{mbig-endian} \
+%{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \
+    %{mcall-solaris: -mlittle -msolaris} %{mcall-linux: -mbig} }}}} \
+%{EL:-mlittle} %{!EL:-mbig}"
+
+#undef CC1_SPEC
+/* Pass -G xxx to the compiler and set correct endian mode */
+#define CC1_SPEC "%{G*} \
+%{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \
+    %{mcall-nt: -mlittle } \
+    %{mcall-aixdesc: -mbig } \
+    %{mcall-solaris: -mlittle } \
+    %{mcall-linux: -mbig} }}}} \
+%{mcall-solaris: -mregnames } \
+%{mno-sdata: -msdata=none } \
+%{meabi: %{!mcall-*: -mcall-sysv }} \
+%{!meabi: %{!mno-eabi: \
+    %{mrelocatable: -meabi } \
+    %{mcall-solaris: -mno-eabi } \
+    %{mcall-linux: -mno-eabi }}} \
+%{msdata: -msdata=default} \
+%{mno-sdata: -msdata=none} \
+%{EL:} %{EB:}"
+
+/* Don't put -Y P,<path> for cross compilers */
+#undef LINK_PATH_SPEC
+#ifndef CROSS_COMPILE
+#define LINK_PATH_SPEC "\
+%{!R*:%{L*:-R %*}} \
+%{!nostdlib: %{!YP,*: \
+    %{compat-bsd: \
+	%{p:-Y P,/usr/ucblib:/usr/ccs/lib/libp:/usr/lib/libp:/usr/ccs/lib:/usr/lib} \
+	%{!p:-Y P,/usr/ucblib:/usr/ccs/lib:/usr/lib}} \
+	%{!R*: %{!L*: -R /usr/ucblib}} \
+    %{!compat-bsd: \
+	%{p:-Y P,/usr/ccs/lib/libp:/usr/lib/libp:/usr/ccs/lib:/usr/lib} \
+	%{!p:-Y P,/usr/ccs/lib:/usr/lib}}}}"
+
+#else
+#define LINK_PATH_SPEC ""
+#endif
+
+/* Default starting address if specified */
+#ifndef LINK_START_SPEC
+#define LINK_START_SPEC "\
+%{mads: %(link_start_ads) } \
+%{myellowknife: %(link_start_yellowknife) } \
+%{mmvme: %(link_start_mvme) } \
+%{msim: %(link_start_sim) } \
+%{mcall-linux: %(link_start_linux) } \
+%{mcall-solaris: %(link_start_solaris) } \
+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(link_start_default) }}}}}}"
+#endif
+
+#ifndef	LINK_START_DEFAULT_SPEC
+#define LINK_START_DEFAULT_SPEC ""
+#endif
+
+#undef LINK_SPEC
+#define LINK_SPEC "\
+%{!g:-X} %{h*} %{v:-V} %{G*} \
+%{Wl,*:%*} %{YP,*} %{R*} \
+%{Qy:} %{!Qn:-Qy} \
+%(link_shlib) \
+%{!Ttext*: %(link_start) } \
+%(link_target) \
+%(link_os) \
+%{EB} %{EL} \
+%{EL:-melf32lppcnto} %{!EL:-melf32ppcnto} %{MAP: -Map mapfile} \
+%{!shared: --dynamic-linker /usr/lib/ldqnx.so.2} "
+
+/* For now, turn off shared libraries by default.  */
+/* Turn it on for Neutrino.... */
+#define SHARED_LIB_SUPPORT
+
+#ifndef SHARED_LIB_SUPPORT
+#define NO_SHARED_LIB_SUPPORT
+#endif
+
+#undef  LINK_SHLIB_SPEC
+#ifndef NO_SHARED_LIB_SUPPORT
+/* Shared libraries are default.  */
+#define LINK_SHLIB_SPEC "\
+%{!static: %(link_path) %{!R*:%{L*:-R %*}}} \
+%{mshlib: } \
+%{static:-dn -Bstatic} \
+%{shared:-G -dy -z text} \
+%{symbolic:-Bsymbolic -G -dy -z text}"
+
+#else
+/* Shared libraries are not default.  */
+#define LINK_SHLIB_SPEC "\
+%{mshlib: %(link_path) } \
+%{!mshlib: %{!shared: %{!symbolic: -dn -Bstatic}}} \
+%{static: } \
+%{shared:-G -dy -z text %(link_path) } \
+%{symbolic:-Bsymbolic -G -dy -z text %(link_path) }"
+#endif
+
+/* Override the default target of the linker.  */
+#undef	LINK_TARGET_SPEC
+#define	LINK_TARGET_SPEC "\
+%{mlittle: -oformat elf32-powerpcle } %{mlittle-endian: -oformat elf32-powerpcle } \
+%{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: %{mcall-solaris: -oformat elf32-powerpcle}}}}}"
+
+/* Any specific OS flags */
+#ifndef LINK_OS_SPEC
+#define LINK_OS_SPEC "\
+%{mads: %(link_os_ads) } \
+%{myellowknife: %(link_os_yellowknife) } \
+%{mmvme: %(link_os_mvme) } \
+%{msim: %(link_os_sim) } \
+%{mcall-linux: %(link_os_linux) } \
+%{mcall-solaris: %(link_os_solaris) } \
+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(link_os_default) }}}}}}"
+#endif
+
+#ifndef	LINK_OS_DEFAULT_SPEC
+#define LINK_OS_DEFAULT_SPEC ""
+#endif
+
+#undef	CPP_SYSV_SPEC
+#define CPP_SYSV_SPEC \
+"%{mrelocatable*: -D_RELOCATABLE} \
+%{fpic: -D__PIC__=1 -D__pic__=1} \
+%{fPIC: -D__PIC__=2 -D__pic__=2} \
+%{mcall-sysv: -D_CALL_SYSV} %{mcall-nt: -D_CALL_NT} \
+%{mcall-aix: -D_CALL_AIX} %{mcall-aixdesc: -D_CALL_AIX -D_CALL_AIXDESC} \
+%{!mcall-sysv: %{!mcall-aix: %{!mcall-aixdesc: %{!mcall-nt: %(cpp_sysv_default) }}}} \
+%{msoft-float: -D_SOFT_FLOAT} %{mcpu=403: -D_SOFT_FLOAT}"
+
+#undef	CPP_SYSV_DEFAULT_SPEC
+#define	CPP_SYSV_DEFAULT_SPEC "-D_CALL_SYSV"
+
+#ifndef CPP_ENDIAN_BIG_SPEC
+#define CPP_ENDIAN_BIG_SPEC "-D_BIG_ENDIAN -D__BIG_ENDIAN__ -Amachine(bigendian)"
+#endif
+
+#ifndef CPP_ENDIAN_LITTLE_SPEC
+#define CPP_ENDIAN_LITTLE_SPEC "-D_LITTLE_ENDIAN -D__LITTLE_ENDIAN__ -Amachine(littleendian)"
+#endif
+
+#ifndef CPP_ENDIAN_SOLARIS_SPEC
+#define CPP_ENDIAN_SOLARIS_SPEC "-D__LITTLE_ENDIAN__ -Amachine(littleendian)"
+#endif
+
+/* For solaris, don't define _LITTLE_ENDIAN, it conflicts with a header file.  */
+#undef	CPP_ENDIAN_SPEC
+#define	CPP_ENDIAN_SPEC \
+"%{mlittle: %(cpp_endian_little) } \
+%{mlittle-endian: %(cpp_endian_little) } \
+%{mbig: %(cpp_endian_big) } \
+%{mbig-endian: %(cpp_endian_big) } \
+%{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \
+    %{mcall-solaris: %(cpp_endian_solaris) } \
+    %{mcall-nt: %(cpp_endian_little) } \
+    %{mcall-linux: %(cpp_endian_big) } \
+    %{mcall-aixdesc:  %(cpp_endian_big) } \
+    %{!mcall-solaris: %{!mcall-linux: %{!mcall-nt: %{!mcall-aixdesc: %(cpp_endian_default) }}}}}}}}"
+
+#undef	CPP_ENDIAN_DEFAULT_SPEC
+#define	CPP_ENDIAN_DEFAULT_SPEC "%(cpp_endian_big)"
+
+#undef CPP_SPEC
+#ifdef __QNXNTO__
+#define CPP_SPEC "%{posix: -D_POSIX_SOURCE} %(cpp_sysv) %(cpp_endian) %(cpp_cpu) \
+%{mads: %(cpp_os_ads) } \
+%{myellowknife: %(cpp_os_yellowknife) } \
+%{mmvme: %(cpp_os_mvme) } \
+%{msim: %(cpp_os_sim) } \
+%{mcall-linux: %(cpp_os_linux) } \
+%{mcall-solaris: %(cpp_os_solaris) } \
+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(cpp_os_default) }}}}}} \
+-nostdinc -idirafter /usr/include %{EL:-D__LITTLEENDIAN__} %{!EL:-D__BIGENDIAN__}"
+#elif defined(__sun__)
+#define CPP_SPEC "%{posix: -D_POSIX_SOURCE} %(cpp_sysv) %(cpp_endian) %(cpp_cpu) \
+%{mads: %(cpp_os_ads) } \
+%{myellowknife: %(cpp_os_yellowknife) } \
+%{mmvme: %(cpp_os_mvme) } \
+%{msim: %(cpp_os_sim) } \
+%{mcall-linux: %(cpp_os_linux) } \
+%{mcall-solaris: %(cpp_os_solaris) } \
+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(cpp_os_default) }}}}}} \
+-nostdinc -idirafter /opt/QNXsdk/target/qnx6/usr/include %{EL:-D__LITTLEENDIAN__} %{!EL:-D__BIGENDIAN__}"
+#else
+#define CPP_SPEC "%{posix: -D_POSIX_SOURCE} %(cpp_sysv) %(cpp_endian) %(cpp_cpu) \
+%{mads: %(cpp_os_ads) } \
+%{myellowknife: %(cpp_os_yellowknife) } \
+%{mmvme: %(cpp_os_mvme) } \
+%{msim: %(cpp_os_sim) } \
+%{mcall-linux: %(cpp_os_linux) } \
+%{mcall-solaris: %(cpp_os_solaris) } \
+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(cpp_os_default) }}}}}} \
+-nostdinc -idirafter /usr/nto/usr/include %{EL:-D__LITTLEENDIAN__} %{!EL:-D__BIGENDIAN__}"
+#endif
+
+#ifndef CPP_OS_DEFAULT_SPEC
+#define CPP_OS_DEFAULT_SPEC ""
+#endif
+
+#undef  STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define STARTFILE_SPEC "\
+%{!shared: -u_start /ppc%{!EL:be}%{EL:le}/lib/crti.o \
+/ppc%{!EL:be}%{EL:le}/lib/crtbegin.o \
+/ppc%{!EL:be}%{EL:le}/lib/%{!pg:crt1.o}%{pg:mcrt1.o}%{p:mcrt1.o}}"
+#elif defined(__sun__)
+#define	STARTFILE_SPEC "\
+%{!shared: -u_start /opt/QNXsdk/target/qnx6/ppc%{!EL:be}%{EL:le}/lib/crti.o \
+/opt/QNXsdk/target/qnx6/ppc%{!EL:be}%{EL:le}/lib/crtbegin.o \
+/opt/QNXsdk/target/qnx6/ppc%{!EL:be}%{EL:le}/lib/%{!pg:crt1.o}%{pg:mcrt1.o}%{p:mcrt1.o}}"
+#else
+#define	STARTFILE_SPEC "\
+%{!shared: -u_start /usr/nto/ppc%{!EL:be}%{EL:le}/lib/crti.o \
+/usr/nto/ppc%{!EL:be}%{EL:le}/lib/crtbegin.o \
+/usr/nto/ppc%{!EL:be}%{EL:le}/lib/%{!pg:crt1.o}%{pg:mcrt1.o}%{p:mcrt1.o}}"
+#endif
+
+#undef	STARTFILE_DEFAULT_SPEC
+#define	STARTFILE_DEFAULT_SPEC ""
+
+#undef	LIB_SPEC
+#ifdef __QNXNTO__
+#define LIB_SPEC "\
+-L/ppc%{EL:le}%{!EL:be}/lib -lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}"
+#elif defined(__sun__)
+#define LIB_SPEC "\
+-L/opt/QNXsdk/target/qnx6/ppc%{EL:le}%{!EL:be}/lib -lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}"
+#else
+#define	LIB_SPEC "\
+-L/usr/nto/ppc%{EL:le}%{!EL:be}/lib -lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}"
+#endif
+
+#undef	LIBGCC_SPEC
+#define	LIBGCC_SPEC "libgcc.a%s"
+
+#ifndef LIB_DEFAULT_SPEC
+#define LIB_DEFAULT_SPEC ""
+#endif
+
+#undef	ENDFILE_SPEC
+#ifdef __QNXNTO__
+#define ENDFILE_SPEC "\
+%{!shared: /ppc%{!EL:be}%{EL:le}/lib/crtend.o /ppc%{!EL:be}%{EL:le}/lib/crtn.o}"
+#elif defined(__sun__)
+#define ENDFILE_SPEC "\
+%{!shared: /opt/QNXsdk/target/qnx6/ppc%{!EL:be}%{EL:le}/lib/crtend.o /opt/QNXsdk/target/qnx6/ppc%{!EL:be}%{EL:le}/lib/crtn.o}"
+#else
+#define	ENDFILE_SPEC "\
+%{!shared: /usr/nto/ppc%{!EL:be}%{EL:le}/lib/crtend.o /usr/nto/ppc%{!EL:be}%{EL:le}/lib/crtn.o}"
+#endif
+
+#undef	ENDFILE_DEFAULT_SPEC
+#define	ENDFILE_DEFAULT_SPEC ""
+
+/* Motorola ADS support.  */
+#ifndef	LIB_ADS_SPEC
+#define LIB_ADS_SPEC "--start-group -lads -lc --end-group"
+#endif
+
+#ifndef	STARTFILE_ADS_SPEC
+#define	STARTFILE_ADS_SPEC "ecrti.o%s crt0.o%s"
+#endif
+
+#ifndef	ENDFILE_ADS_SPEC
+#define	ENDFILE_ADS_SPEC "ecrtn.o%s"
+#endif
+
+#ifndef LINK_START_ADS_SPEC
+#define LINK_START_ADS_SPEC "-T ads.ld%s"
+#endif
+
+#ifndef LINK_OS_ADS_SPEC
+#define LINK_OS_ADS_SPEC ""
+#endif
+
+#ifndef CPP_OS_ADS_SPEC
+#define CPP_OS_ADS_SPEC ""
+#endif
+
+/* Motorola Yellowknife support.  */
+#ifndef	LIB_YELLOWKNIFE_SPEC
+#define LIB_YELLOWKNIFE_SPEC "--start-group -lyk -lc --end-group"
+#endif
+
+#ifndef	STARTFILE_YELLOWKNIFE_SPEC
+#define	STARTFILE_YELLOWKNIFE_SPEC "ecrti.o%s crt0.o%s"
+#endif
+
+#ifndef	ENDFILE_YELLOWKNIFE_SPEC
+#define	ENDFILE_YELLOWKNIFE_SPEC "ecrtn.o%s"
+#endif
+
+#ifndef LINK_START_YELLOWKNIFE_SPEC
+#define LINK_START_YELLOWKNIFE_SPEC "-T yellowknife.ld%s"
+#endif
+
+#ifndef LINK_OS_YELLOWKNIFE_SPEC
+#define LINK_OS_YELLOWKNIFE_SPEC ""
+#endif
+
+#ifndef CPP_OS_YELLOWKNIFE_SPEC
+#define CPP_OS_YELLOWKNIFE_SPEC ""
+#endif
+
+/* Motorola MVME support.  */
+#ifndef	LIB_MVME_SPEC
+#define LIB_MVME_SPEC "--start-group -lmvme -lc --end-group"
+#endif
+
+#ifndef	STARTFILE_MVME_SPEC
+#define	STARTFILE_MVME_SPEC "ecrti.o%s crt0.o%s"
+#endif
+
+#ifndef	ENDFILE_MVME_SPEC
+#define	ENDFILE_MVME_SPEC "ecrtn.o%s"
+#endif
+
+#ifndef LINK_START_MVME_SPEC
+#define LINK_START_MVME_SPEC "%{!Wl,-T*: %{!T*: -Ttext 0x40000}}"
+#endif
+
+#ifndef LINK_OS_MVME_SPEC
+#define LINK_OS_MVME_SPEC ""
+#endif
+
+#ifndef CPP_OS_MVME_SPEC
+#define CPP_OS_MVME_SPEC ""
+#endif
+
+/* PowerPC simulator based on netbsd system calls support.  */
+#ifndef	LIB_SIM_SPEC
+#define LIB_SIM_SPEC "--start-group -lsim -lc --end-group"
+#endif
+
+#ifndef	STARTFILE_SIM_SPEC
+#define	STARTFILE_SIM_SPEC "ecrti.o%s sim-crt0.o%s"
+#endif
+
+#ifndef	ENDFILE_SIM_SPEC
+#define	ENDFILE_SIM_SPEC "ecrtn.o%s"
+#endif
+
+#ifndef LINK_START_SIM_SPEC
+#define LINK_START_SIM_SPEC "-Ttext 0x10000074"
+#endif
+
+#ifndef LINK_OS_SIM_SPEC
+#define LINK_OS_SIM_SPEC ""
+#endif
+
+#ifndef CPP_OS_SIM_SPEC
+#define CPP_OS_SIM_SPEC ""
+#endif
+
+/* GNU/Linux support.  */
+#ifndef	LIB_LINUX_SPEC
+#define LIB_LINUX_SPEC "%{mnewlib: --start-group -llinux -lc --end-group } %{!mnewlib: -lc }"
+#endif
+
+#ifndef	STARTFILE_LINUX_SPEC
+#define	STARTFILE_LINUX_SPEC "\
+%{!shared: %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} %{!p:crt1.o%s}}} \
+%{mnewlib: ecrti.o%s} \
+%{!mnewlib: crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}}"
+#endif
+
+#ifndef	ENDFILE_LINUX_SPEC
+#define	ENDFILE_LINUX_SPEC "\
+%{mnewlib: ecrtn.o%s} \
+%{!mnewlib: %{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s}"
+#endif
+
+#ifndef LINK_START_LINUX_SPEC
+#define LINK_START_LINUX_SPEC "-Ttext 0x400074"
+#endif
+
+#ifndef LINK_OS_LINUX_SPEC
+#define LINK_OS_LINUX_SPEC ""
+#endif
+
+#ifndef CPP_OS_LINUX_SPEC
+#define CPP_OS_LINUX_SPEC "-D__unix__ -D__linux__ \
+%{!ansi: -Dunix -Dlinux } \
+-Asystem(unix) -Asystem(linux)"
+#endif
+
+#ifndef CPP_OS_LINUX_SPEC
+#define CPP_OS_LINUX_SPEC ""
+#endif
+
+/* Solaris support.  */
+/* For Solaris, Gcc automatically adds in one of the files
+   /usr/ccs/lib/values-Xc.o, /usr/ccs/lib/values-Xa.o, or
+   /usr/ccs/lib/values-Xt.o for each final link step (depending upon the other
+   gcc options selected, such as -traditional and -ansi).  These files each
+   contain one (initialized) copy of a special variable called `_lib_version'.
+   Each one of these files has `_lib_version' initialized to a different (enum)
+   value.  The SVR4 library routines query the value of `_lib_version' at run
+   to decide how they should behave.  Specifically, they decide (based upon the
+   value of `_lib_version') if they will act in a strictly ANSI conforming
+   manner or not.  */
+
+#ifndef	LIB_SOLARIS_SPEC
+#define LIB_SOLARIS_SPEC "\
+%{mnewlib: --start-group -lsolaris -lc --end-group } \
+%{!mnewlib: \
+    %{ansi:values-Xc.o%s} \
+    %{!ansi: \
+	%{traditional:values-Xt.o%s} \
+	%{!traditional:values-Xa.o%s}} \
+	%{compat-bsd:-lucb -lsocket -lnsl -lelf -laio} \
+    %{solaris-cclib: /opt/SUNWspro/SC4.0/lib/libabi.a} \
+    %{!shared: %{!symbolic: -lc }}}"
+#endif
+
+#ifndef	STARTFILE_SOLARIS_SPEC
+#define	STARTFILE_SOLARIS_SPEC "\
+%{!msolaris-cclib: scrti.o%s scrt0.o%s} \
+%{msolaris-cclib: /opt/SUNWspro/SC4.0/lib/crti.o%s /opt/SUNWspro/SC4.0/lib/crt1.o%s}"
+#endif
+
+#ifndef	ENDFILE_SOLARIS_SPEC
+#define	ENDFILE_SOLARIS_SPEC "\
+%{!msolaris-cclib: scrtn.o%s} \
+%{msolaris-cclib: /opt/SUNWspro/SC4.0/lib/crtn.o%s}"
+#endif
+
+#ifndef LINK_START_SOLARIS_SPEC
+#ifdef CROSS_COMPILER
+#define LINK_START_SOLARIS_SPEC "-Ttext 0x2000074"
+#else
+#define LINK_START_SOLARIS_SPEC ""
+#endif
+#endif
+
+#ifndef LINK_OS_SOLARIS_SPEC
+#define LINK_OS_SOLARIS_SPEC ""
+#endif
+
+#ifndef CPP_OS_SOLARIS_SPEC
+#define CPP_OS_SOLARIS_SPEC "-D__ppc -D__sun__=1 -D__unix__ -D__svr4__  -D__SVR4__ \
+%{!ansi: -Dsun=1 -Dunix -DSVR4 -D__EXTENSIONS__ } \
+-Amachine(prep)"
+#endif
+
+/* Define any extra SPECS that the compiler needs to generate.  */
+#undef	SUBTARGET_EXTRA_SPECS
+#define SUBTARGET_EXTRA_SPECS						\
+  { "lib_ads",			LIB_ADS_SPEC },				\
+  { "lib_yellowknife",		LIB_YELLOWKNIFE_SPEC },			\
+  { "lib_mvme",			LIB_MVME_SPEC },			\
+  { "lib_sim",			LIB_SIM_SPEC },				\
+  { "lib_linux",		LIB_LINUX_SPEC },			\
+  { "lib_solaris",		LIB_SOLARIS_SPEC },			\
+  { "lib_default",		LIB_DEFAULT_SPEC },			\
+  { "startfile_ads",		STARTFILE_ADS_SPEC },			\
+  { "startfile_yellowknife",	STARTFILE_YELLOWKNIFE_SPEC },		\
+  { "startfile_mvme",		STARTFILE_MVME_SPEC },			\
+  { "startfile_sim",		STARTFILE_SIM_SPEC },			\
+  { "startfile_linux",		STARTFILE_LINUX_SPEC },			\
+  { "startfile_solaris",	STARTFILE_SOLARIS_SPEC },		\
+  { "startfile_default",	STARTFILE_DEFAULT_SPEC },		\
+  { "endfile_ads",		ENDFILE_ADS_SPEC },			\
+  { "endfile_yellowknife",	ENDFILE_YELLOWKNIFE_SPEC },		\
+  { "endfile_mvme",		ENDFILE_MVME_SPEC },			\
+  { "endfile_sim",		ENDFILE_SIM_SPEC },			\
+  { "endfile_linux",		ENDFILE_LINUX_SPEC },			\
+  { "endfile_solaris",		ENDFILE_SOLARIS_SPEC },			\
+  { "endfile_default",		ENDFILE_DEFAULT_SPEC },			\
+  { "link_path",		LINK_PATH_SPEC },			\
+  { "link_shlib",		LINK_SHLIB_SPEC },			\
+  { "link_target",		LINK_TARGET_SPEC },			\
+  { "link_start",		LINK_START_SPEC },			\
+  { "link_start_ads",		LINK_START_ADS_SPEC },			\
+  { "link_start_yellowknife",	LINK_START_YELLOWKNIFE_SPEC },		\
+  { "link_start_mvme",		LINK_START_MVME_SPEC },			\
+  { "link_start_sim",		LINK_START_SIM_SPEC },			\
+  { "link_start_linux",		LINK_START_LINUX_SPEC },		\
+  { "link_start_solaris",	LINK_START_SOLARIS_SPEC },		\
+  { "link_start_default",	LINK_START_DEFAULT_SPEC },		\
+  { "link_os",			LINK_OS_SPEC },				\
+  { "link_os_ads",		LINK_OS_ADS_SPEC },			\
+  { "link_os_yellowknife",	LINK_OS_YELLOWKNIFE_SPEC },		\
+  { "link_os_mvme",		LINK_OS_MVME_SPEC },			\
+  { "link_os_sim",		LINK_OS_SIM_SPEC },			\
+  { "link_os_linux",		LINK_OS_LINUX_SPEC },			\
+  { "link_os_solaris",		LINK_OS_SOLARIS_SPEC },			\
+  { "link_os_default",		LINK_OS_DEFAULT_SPEC },			\
+  { "cpp_endian_big",		CPP_ENDIAN_BIG_SPEC },			\
+  { "cpp_endian_little",	CPP_ENDIAN_LITTLE_SPEC },		\
+  { "cpp_endian_solaris",	CPP_ENDIAN_SOLARIS_SPEC },		\
+  { "cpp_os_ads",		CPP_OS_ADS_SPEC },			\
+  { "cpp_os_yellowknife",	CPP_OS_YELLOWKNIFE_SPEC },		\
+  { "cpp_os_mvme",		CPP_OS_MVME_SPEC },			\
+  { "cpp_os_sim",		CPP_OS_SIM_SPEC },			\
+  { "cpp_os_linux",		CPP_OS_LINUX_SPEC },			\
+  { "cpp_os_solaris",		CPP_OS_SOLARIS_SPEC },			\
+  { "cpp_os_default",		CPP_OS_DEFAULT_SPEC },
+
+/* Define this macro as a C expression for the initializer of an
+   array of string to tell the driver program which options are
+   defaults for this target and thus do not need to be handled
+   specially when using `MULTILIB_OPTIONS'.
+
+   Do not define this macro if `MULTILIB_OPTIONS' is not defined in
+   the target makefile fragment or if none of the options listed in
+   `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */
+
+#undef	MULTILIB_DEFAULTS
+#define	MULTILIB_DEFAULTS { "mbig", "mcall-sysv" }
+
+/* Define this macro if the code for function profiling should come
+   before the function prologue.  Normally, the profiling code comes
+   after.  */
+#define PROFILE_BEFORE_PROLOGUE 1
+
+/* Function name to call to do profiling.  */
+#undef	RS6000_MCOUNT
+#define RS6000_MCOUNT "_mcount"
+
+#undef CC1PLUS_SPEC
+#define CC1PLUS_SPEC "-fhonor-std"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/rs6000/rs6000.c gcc/gcc/config/rs6000/rs6000.c
--- gcc-2.95.2/gcc/config/rs6000/rs6000.c	1999-10-11 11:10:58.000000000 +1000
+++ gcc/gcc/config/rs6000/rs6000.c	2001-03-01 05:24:46.000000000 +1000
@@ -129,6 +129,11 @@
   "fpmem"
 };
 
+#ifdef RS6000_REG_ALT_ALLOC_ORDER
+    static int rs6000_reg_alt_alloc_order[FIRST_PSEUDO_REGISTER] = 
+			RS6000_REG_ALT_ALLOC_ORDER;
+#endif
+
 #ifdef TARGET_REGNAMES
 static char alt_reg_names[][8] =
 {
@@ -345,6 +350,13 @@
 	error ("Unknown -mdebug-%s switch", rs6000_debug_name);
     }
 
+  if (TARGET_NO_FP_MOVES)
+    {
+#ifdef RS6000_REG_ALT_ALLOC_ORDER
+    bcopy ((char *)rs6000_reg_alt_alloc_order, (char *)reg_alloc_order, sizeof (rs6000_reg_alt_alloc_order));
+#endif
+    }
+
 #ifdef TARGET_REGNAMES
   /* If the user desires alternate register names, copy in the alternate names
      now.  */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/rs6000/rs6000.h gcc/gcc/config/rs6000/rs6000.h
--- gcc-2.95.2/gcc/config/rs6000/rs6000.h	1999-09-08 06:52:24.000000000 +1000
+++ gcc/gcc/config/rs6000/rs6000.h	2001-03-01 05:24:46.000000000 +1000
@@ -279,6 +279,9 @@
 /* Disable fused multiply/add operations */
 #define MASK_NO_FUSED_MADD	0x00020000
 
+/* Try not to use fp registers to move 8-byte things around */
+#define MASK_NO_FP_MOVES	0x00040000
+
 #define TARGET_POWER		(target_flags & MASK_POWER)
 #define TARGET_POWER2		(target_flags & MASK_POWER2)
 #define TARGET_POWERPC		(target_flags & MASK_POWERPC)
@@ -297,6 +300,7 @@
 #define TARGET_STRING_SET	(target_flags & MASK_STRING_SET)
 #define TARGET_NO_UPDATE	(target_flags & MASK_NO_UPDATE)
 #define TARGET_NO_FUSED_MADD	(target_flags & MASK_NO_FUSED_MADD)
+#define TARGET_NO_FP_MOVES	(target_flags & MASK_NO_FP_MOVES)
 
 #define TARGET_32BIT		(! TARGET_64BIT)
 #define TARGET_HARD_FLOAT	(! TARGET_SOFT_FLOAT)
@@ -390,6 +394,8 @@
   {"no-update",		MASK_NO_UPDATE},				\
   {"fused-madd",	- MASK_NO_FUSED_MADD},				\
   {"no-fused-madd",	MASK_NO_FUSED_MADD},				\
+  {"fp-moves",		- MASK_NO_FP_MOVES},				\
+  {"no-fp-moves",	MASK_NO_FP_MOVES},				\
   SUBTARGET_SWITCHES							\
   {"",			TARGET_DEFAULT}}
 
@@ -759,6 +765,28 @@
    64, 66, 65, 						\
    73, 1, 2, 67, 76}
 
+/*
+ Alternative register ordering; we move all the FP registers to be
+ after the integer registers; this will greatly reduce the tendency
+ of the compiler to generate code that moves 8-byte quantites through the
+ FP registers. Good for code that may run both on targets with/without an FPU.
+ */
+
+#define RS6000_REG_ALT_ALLOC_ORDER			\
+  {69, 74, 75, 68, 70, 71, 72,				\
+   0,							\
+   9, 11, 10, 8, 7, 6, 5, 4,				\
+   3,							\
+   31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19,	\
+   18, 17, 16, 15, 14, 13, 12,				\
+   32, 							\
+   45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34,	\
+   33,							\
+   63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51,	\
+   50, 49, 48, 47, 46, 					\
+   64, 66, 65, 						\
+   73, 1, 2, 67, 76}
+
 /* True if register is floating-point.  */
 #define FP_REGNO_P(N) ((N) >= 32 && (N) <= 63)
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/rs6000/t-nto gcc/gcc/config/rs6000/t-nto
--- gcc-2.95.2/gcc/config/rs6000/t-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/rs6000/t-nto	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,37 @@
+# Build libgcc.a with different options.  With gas, build pic libraries
+# as well no floating point
+
+T_CFLAGS = -D__QNXTARGET__ -DLIBSTDCXX=\"-lcpp\"
+CRTSTUFF_T_CFLAGS = -msdata=none -fPIC -fno-omit-frame-pointer
+TARGET_LIBGCC2_CFLAGS = -fPIC -fno-honor-std
+FIXPROTO_DEFINES = -D__QNX__ -D__QNXNTO__ -D__PPC__ -D__GNUC__
+
+MULTILIB_OPTIONS	= msoft-float fPIC fexceptions
+MULTILIB_DIRNAMES	= nof pic exceptions
+MULTILIB_EXCEPTIONS	=
+MULTILIB_MATCHES	= ${MULTILIB_MATCHES_FLOAT} \
+			  fPIC=mrelocatable-lib \
+			  fPIC=mrelocatable \
+			  fPIC=shared \
+			  fPIC=fpic
+
+USER_H = $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)
+
+LIBGCC=stmp-multilib
+INSTALL_LIBGCC=install-multilib
+
+CROSS_LIBGCC1 = libgcc1.a
+
+EXTRA_PARTS = crtbeginC++.o crtendC++.o
+
+LIB2FUNCS_EXTRA = tramp.S
+
+tramp.S: $(srcdir)/config/rs6000/tramp.asm
+	cat $(srcdir)/config/rs6000/tramp.asm > tramp.S
+
+$(T)crtbeginC++.o: crtbegin.o
+	cp crtbegin.o crtbeginC++.o
+
+$(T)crtendC++.o: crtend.o
+	cp crtend.o crtendC++.o
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/rs6000/xm-nto.h gcc/gcc/config/rs6000/xm-nto.h
--- gcc-2.95.2/gcc/config/rs6000/xm-nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/rs6000/xm-nto.h	2001-03-01 05:24:47.000000000 +1000
@@ -0,0 +1,68 @@
+/* Configuration for GNU C-compiler for PowerPC running System V.4.
+   Copyright (C) 1995 Free Software Foundation, Inc.
+
+   Cloned from sparc/xm-sysv4.h by Michael Meissner (meissner@cygnus.com).
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+
+/* #defines that need visibility everywhere.  */
+#define FALSE 0
+#define TRUE 1
+
+/* This describes the machine the compiler is hosted on.  */
+#define HOST_BITS_PER_CHAR 8
+#define HOST_BITS_PER_SHORT 16
+#define HOST_BITS_PER_INT 32
+#define HOST_BITS_PER_LONG 32
+#define HOST_BITS_PER_LONGLONG 64
+
+/* Doubles are stored in memory with the high order word first.  This
+   matters when cross-compiling.  */
+#define HOST_WORDS_BIG_ENDIAN 1
+
+/* target machine dependencies.
+   tm.h is a symbolic link to the actual target specific file.   */
+#include "tm.h"
+
+/* Arguments to use with `exit'.  */
+#define SUCCESS_EXIT_CODE 0
+#define FATAL_EXIT_CODE 33
+
+#include "xm-svr4.h"
+
+/* if not compiled with GNU C, use the C alloca and use only int bitfields. */
+#ifndef __GNUC__
+#define	USE_C_ALLOCA
+#ifdef __STDC__
+extern void *alloca ();
+#else
+extern char *alloca ();
+#endif
+#undef ONLY_INT_FIELDS
+#define ONLY_INT_FIELDS
+#endif
+
+#ifdef __PPC__
+#ifndef __STDC__
+extern char *malloc (), *realloc (), *calloc ();
+#else
+extern void *malloc (), *realloc (), *calloc ();
+#endif
+extern void free ();
+#endif
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/rs6000/x-nto gcc/gcc/config/rs6000/x-nto
--- gcc-2.95.2/gcc/config/rs6000/x-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/rs6000/x-nto	2001-03-01 05:24:47.000000000 +1000
@@ -0,0 +1,3 @@
+X_CFLAGS=-DSVR4
+ALLOCA=alloca.o
+TAROUTOPTS = xf
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/elf.h gcc/gcc/config/sh/elf.h
--- gcc-2.95.2/gcc/config/sh/elf.h	1999-01-18 13:14:02.000000000 +1000
+++ gcc/gcc/config/sh/elf.h	2001-03-01 05:24:47.000000000 +1000
@@ -66,7 +66,7 @@
 
 /* Pass -ml and -mrelax to the assembler and linker.  */
 #undef ASM_SPEC
-#define ASM_SPEC  "%{ml:-little} %{mrelax:-relax}"
+#define ASM_SPEC  "%{ml:-little} %{mrelax:-relax} %{fpic:-pic} %{fPIC:-pic}"
 
 #undef LINK_SPEC
 #define LINK_SPEC "%{ml:-m shlelf} %{mrelax:-relax}"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/lib1funcs.asm gcc/gcc/config/sh/lib1funcs.asm
--- gcc-2.95.2/gcc/config/sh/lib1funcs.asm	1999-08-11 14:41:49.000000000 +1000
+++ gcc/gcc/config/sh/lib1funcs.asm	2001-03-01 05:24:47.000000000 +1000
@@ -1,4 +1,4 @@
-/* Copyright (C) 1994, 1995, 1997, 1998 Free Software Foundation, Inc.
+/* Copyright (C) 1994, 1995, 1997, 1998, 2000 Free Software Foundation, Inc.
 
 This file is free software; you can redistribute it and/or modify it
 under the terms of the GNU General Public License as published by the
@@ -49,118 +49,122 @@
 #define LOCAL(X) L_##X
 #endif
 
+#ifndef GLOBAL
+#define GLOBAL(X) ___##X
+#endif
+
 #ifdef L_ashiftrt
-	.global	___ashiftrt_r4_0
-	.global	___ashiftrt_r4_1
-	.global	___ashiftrt_r4_2
-	.global	___ashiftrt_r4_3
-	.global	___ashiftrt_r4_4
-	.global	___ashiftrt_r4_5
-	.global	___ashiftrt_r4_6
-	.global	___ashiftrt_r4_7
-	.global	___ashiftrt_r4_8
-	.global	___ashiftrt_r4_9
-	.global	___ashiftrt_r4_10
-	.global	___ashiftrt_r4_11
-	.global	___ashiftrt_r4_12
-	.global	___ashiftrt_r4_13
-	.global	___ashiftrt_r4_14
-	.global	___ashiftrt_r4_15
-	.global	___ashiftrt_r4_16
-	.global	___ashiftrt_r4_17
-	.global	___ashiftrt_r4_18
-	.global	___ashiftrt_r4_19
-	.global	___ashiftrt_r4_20
-	.global	___ashiftrt_r4_21
-	.global	___ashiftrt_r4_22
-	.global	___ashiftrt_r4_23
-	.global	___ashiftrt_r4_24
-	.global	___ashiftrt_r4_25
-	.global	___ashiftrt_r4_26
-	.global	___ashiftrt_r4_27
-	.global	___ashiftrt_r4_28
-	.global	___ashiftrt_r4_29
-	.global	___ashiftrt_r4_30
-	.global	___ashiftrt_r4_31
-	.global	___ashiftrt_r4_32
+	.global	GLOBAL(ashiftrt_r4_0)
+	.global	GLOBAL(ashiftrt_r4_1)
+	.global	GLOBAL(ashiftrt_r4_2)
+	.global	GLOBAL(ashiftrt_r4_3)
+	.global	GLOBAL(ashiftrt_r4_4)
+	.global	GLOBAL(ashiftrt_r4_5)
+	.global	GLOBAL(ashiftrt_r4_6)
+	.global	GLOBAL(ashiftrt_r4_7)
+	.global	GLOBAL(ashiftrt_r4_8)
+	.global	GLOBAL(ashiftrt_r4_9)
+	.global	GLOBAL(ashiftrt_r4_10)
+	.global	GLOBAL(ashiftrt_r4_11)
+	.global	GLOBAL(ashiftrt_r4_12)
+	.global	GLOBAL(ashiftrt_r4_13)
+	.global	GLOBAL(ashiftrt_r4_14)
+	.global	GLOBAL(ashiftrt_r4_15)
+	.global	GLOBAL(ashiftrt_r4_16)
+	.global	GLOBAL(ashiftrt_r4_17)
+	.global	GLOBAL(ashiftrt_r4_18)
+	.global	GLOBAL(ashiftrt_r4_19)
+	.global	GLOBAL(ashiftrt_r4_20)
+	.global	GLOBAL(ashiftrt_r4_21)
+	.global	GLOBAL(ashiftrt_r4_22)
+	.global	GLOBAL(ashiftrt_r4_23)
+	.global	GLOBAL(ashiftrt_r4_24)
+	.global	GLOBAL(ashiftrt_r4_25)
+	.global	GLOBAL(ashiftrt_r4_26)
+	.global	GLOBAL(ashiftrt_r4_27)
+	.global	GLOBAL(ashiftrt_r4_28)
+	.global	GLOBAL(ashiftrt_r4_29)
+	.global	GLOBAL(ashiftrt_r4_30)
+	.global	GLOBAL(ashiftrt_r4_31)
+	.global	GLOBAL(ashiftrt_r4_32)
 
 	.align	1
-___ashiftrt_r4_32:
-___ashiftrt_r4_31:
+GLOBAL(ashiftrt_r4_32):
+GLOBAL(ashiftrt_r4_31):
 	rotcl	r4
 	rts
 	subc	r4,r4
 
-___ashiftrt_r4_30:
+GLOBAL(ashiftrt_r4_30):
 	shar	r4
-___ashiftrt_r4_29:
+GLOBAL(ashiftrt_r4_29):
 	shar	r4
-___ashiftrt_r4_28:
+GLOBAL(ashiftrt_r4_28):
 	shar	r4
-___ashiftrt_r4_27:
+GLOBAL(ashiftrt_r4_27):
 	shar	r4
-___ashiftrt_r4_26:
+GLOBAL(ashiftrt_r4_26):
 	shar	r4
-___ashiftrt_r4_25:
+GLOBAL(ashiftrt_r4_25):
 	shar	r4
-___ashiftrt_r4_24:
+GLOBAL(ashiftrt_r4_24):
 	shlr16	r4
 	shlr8	r4
 	rts
 	exts.b	r4,r4
 
-___ashiftrt_r4_23:
+GLOBAL(ashiftrt_r4_23):
 	shar	r4
-___ashiftrt_r4_22:
+GLOBAL(ashiftrt_r4_22):
 	shar	r4
-___ashiftrt_r4_21:
+GLOBAL(ashiftrt_r4_21):
 	shar	r4
-___ashiftrt_r4_20:
+GLOBAL(ashiftrt_r4_20):
 	shar	r4
-___ashiftrt_r4_19:
+GLOBAL(ashiftrt_r4_19):
 	shar	r4
-___ashiftrt_r4_18:
+GLOBAL(ashiftrt_r4_18):
 	shar	r4
-___ashiftrt_r4_17:
+GLOBAL(ashiftrt_r4_17):
 	shar	r4
-___ashiftrt_r4_16:
+GLOBAL(ashiftrt_r4_16):
 	shlr16	r4
 	rts
 	exts.w	r4,r4
 
-___ashiftrt_r4_15:
+GLOBAL(ashiftrt_r4_15):
 	shar	r4
-___ashiftrt_r4_14:
+GLOBAL(ashiftrt_r4_14):
 	shar	r4
-___ashiftrt_r4_13:
+GLOBAL(ashiftrt_r4_13):
 	shar	r4
-___ashiftrt_r4_12:
+GLOBAL(ashiftrt_r4_12):
 	shar	r4
-___ashiftrt_r4_11:
+GLOBAL(ashiftrt_r4_11):
 	shar	r4
-___ashiftrt_r4_10:
+GLOBAL(ashiftrt_r4_10):
 	shar	r4
-___ashiftrt_r4_9:
+GLOBAL(ashiftrt_r4_9):
 	shar	r4
-___ashiftrt_r4_8:
+GLOBAL(ashiftrt_r4_8):
 	shar	r4
-___ashiftrt_r4_7:
+GLOBAL(ashiftrt_r4_7):
 	shar	r4
-___ashiftrt_r4_6:
+GLOBAL(ashiftrt_r4_6):
 	shar	r4
-___ashiftrt_r4_5:
+GLOBAL(ashiftrt_r4_5):
 	shar	r4
-___ashiftrt_r4_4:
+GLOBAL(ashiftrt_r4_4):
 	shar	r4
-___ashiftrt_r4_3:
+GLOBAL(ashiftrt_r4_3):
 	shar	r4
-___ashiftrt_r4_2:
+GLOBAL(ashiftrt_r4_2):
 	shar	r4
-___ashiftrt_r4_1:
+GLOBAL(ashiftrt_r4_1):
 	rts
 	shar	r4
 
-___ashiftrt_r4_0:
+GLOBAL(ashiftrt_r4_0):
 	rts
 	nop
 #endif
@@ -168,7 +172,7 @@
 #ifdef L_ashiftrt_n
 
 !
-! ___ashrsi3
+! GLOBAL(ashrsi3)
 !
 ! Entry:
 !
@@ -184,9 +188,9 @@
 ! (none)
 !
 
-	.global	___ashrsi3
+	.global	GLOBAL(ashrsi3)
 	.align	2
-___ashrsi3:
+GLOBAL(ashrsi3):
 	mov	#31,r0
 	and	r0,r5
 	mova	LOCAL(ashrsi3_table),r0
@@ -317,7 +321,7 @@
 #ifdef L_ashiftlt
 
 !
-! ___ashlsi3
+! GLOBAL(ashlsi3)
 !
 ! Entry:
 !
@@ -332,9 +336,9 @@
 !
 ! (none)
 !
-	.global	___ashlsi3
+	.global	GLOBAL(ashlsi3)
 	.align	2
-___ashlsi3:
+GLOBAL(ashlsi3):
 	mov	#31,r0
 	and	r0,r5
 	mova	LOCAL(ashlsi3_table),r0
@@ -474,7 +478,7 @@
 #ifdef L_lshiftrt
 
 !
-! ___lshrsi3
+! GLOBAL(lshrsi3)
 !
 ! Entry:
 !
@@ -489,9 +493,9 @@
 !
 ! (none)
 !
-	.global	___lshrsi3
+	.global	GLOBAL(lshrsi3)
 	.align	2
-___lshrsi3:
+GLOBAL(lshrsi3):
 	mov	#31,r0
 	and	r0,r5
 	mova	LOCAL(lshrsi3_table),r0
@@ -635,84 +639,84 @@
 ! jump to movstr+
 done:
 	add	#64,r5
-	mova	___movstrSI0,r0
+	mova	GLOBAL(movstrSI0),r0
 	shll2	r6
 	add	r6,r0
 	jmp	@r0
 	add	#64,r4
 	.align	4
-	.global	___movstrSI64
-___movstrSI64:
+	.global	GLOBAL(movstrSI64)
+GLOBAL(movstrSI64):
 	mov.l	@(60,r5),r0
 	mov.l	r0,@(60,r4)
-	.global	___movstrSI60
-___movstrSI60:
+	.global	GLOBAL(movstrSI60)
+GLOBAL(movstrSI60):
 	mov.l	@(56,r5),r0
 	mov.l	r0,@(56,r4)
-	.global	___movstrSI56
-___movstrSI56:
+	.global	GLOBAL(movstrSI56)
+GLOBAL(movstrSI56):
 	mov.l	@(52,r5),r0
 	mov.l	r0,@(52,r4)
-	.global	___movstrSI52
-___movstrSI52:
+	.global	GLOBAL(movstrSI52)
+GLOBAL(movstrSI52):
 	mov.l	@(48,r5),r0
 	mov.l	r0,@(48,r4)
-	.global	___movstrSI48
-___movstrSI48:
+	.global	GLOBAL(movstrSI48)
+GLOBAL(movstrSI48):
 	mov.l	@(44,r5),r0
 	mov.l	r0,@(44,r4)
-	.global	___movstrSI44
-___movstrSI44:
+	.global	GLOBAL(movstrSI44)
+GLOBAL(movstrSI44):
 	mov.l	@(40,r5),r0
 	mov.l	r0,@(40,r4)
-	.global	___movstrSI40
-___movstrSI40:
+	.global	GLOBAL(movstrSI40)
+GLOBAL(movstrSI40):
 	mov.l	@(36,r5),r0
 	mov.l	r0,@(36,r4)
-	.global	___movstrSI36
-___movstrSI36:
+	.global	GLOBAL(movstrSI36)
+GLOBAL(movstrSI36):
 	mov.l	@(32,r5),r0
 	mov.l	r0,@(32,r4)
-	.global	___movstrSI32
-___movstrSI32:
+	.global	GLOBAL(movstrSI32)
+GLOBAL(movstrSI32):
 	mov.l	@(28,r5),r0
 	mov.l	r0,@(28,r4)
-	.global	___movstrSI28
-___movstrSI28:
+	.global	GLOBAL(movstrSI28)
+GLOBAL(movstrSI28):
 	mov.l	@(24,r5),r0
 	mov.l	r0,@(24,r4)
-	.global	___movstrSI24
-___movstrSI24:
+	.global	GLOBAL(movstrSI24)
+GLOBAL(movstrSI24):
 	mov.l	@(20,r5),r0
 	mov.l	r0,@(20,r4)
-	.global	___movstrSI20
-___movstrSI20:
+	.global	GLOBAL(movstrSI20)
+GLOBAL(movstrSI20):
 	mov.l	@(16,r5),r0
 	mov.l	r0,@(16,r4)
-	.global	___movstrSI16
-___movstrSI16:
+	.global	GLOBAL(movstrSI16)
+GLOBAL(movstrSI16):
 	mov.l	@(12,r5),r0
 	mov.l	r0,@(12,r4)
-	.global	___movstrSI12
-___movstrSI12:
+	.global	GLOBAL(movstrSI12)
+GLOBAL(movstrSI12):
 	mov.l	@(8,r5),r0
 	mov.l	r0,@(8,r4)
-	.global	___movstrSI8
-___movstrSI8:
+	.global	GLOBAL(movstrSI8)
+GLOBAL(movstrSI8):
 	mov.l	@(4,r5),r0
 	mov.l	r0,@(4,r4)
-	.global	___movstrSI4
-___movstrSI4:
+	.global	GLOBAL(movstrSI4)
+GLOBAL(movstrSI4):
 	mov.l	@(0,r5),r0
 	mov.l	r0,@(0,r4)
-___movstrSI0:
+GLOBAL(movstrSI0):
 	rts
 	nop
 
 	.align	4
 
-	.global	___movstr
-___movstr:
+	.global	GLOBAL(movstr)
+GLOBAL(movstr):
 	mov.l	@(60,r5),r0
 	mov.l	r0,@(60,r4)
 
@@ -766,16 +770,16 @@
 	bf	done
 
 	add	#64,r5
-	bra	___movstr
+	bra	GLOBAL(movstr)
 	add	#64,r4
 #endif
 
 #ifdef L_movstr_i4
 #if defined(__SH4__) || defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)
 	.text
-	.global	___movstr_i4_even
-	.global	___movstr_i4_odd
-	.global	___movstrSI12_i4
+	.global	GLOBAL(movstr_i4_even)
+	.global	GLOBAL(movstr_i4_odd)
+	.global	GLOBAL(movstrSI12_i4)
 
 	.p2align	5
 L_movstr_2mod4_end:
@@ -785,7 +789,7 @@
 
 	.p2align	2
 
-___movstr_i4_odd:
+GLOBAL(movstr_i4_odd):
 	mov.l	@r5+,r1
 	add	#-4,r4
 	mov.l	@r5+,r2
@@ -811,13 +815,13 @@
 	rts
 	mov.l	r3,@(12,r4)
 
-___movstr_i4_even:
+GLOBAL(movstr_i4_even):
 	mov.l	@r5+,r0
 	bra	L_movstr_start_even
 	mov.l	@r5+,r1
 
 	.p2align	4
-___movstrSI12_i4:
+GLOBAL(movstrSI12_i4):
 	mov.l	@r5,r0
 	mov.l	@(4,r5),r1
 	mov.l	@(8,r5),r2
@@ -831,7 +835,7 @@
 #ifdef L_mulsi3
 
 
-	.global	___mulsi3
+	.global	GLOBAL(mulsi3)
 
 ! r4 =       aabb
 ! r5 =       ccdd
@@ -844,7 +848,7 @@
 ! aa = bb*dd + (aa*dd*65536) + (cc*bb*65536)
 !
 
-___mulsi3:
+GLOBAL(mulsi3):
 	mulu    r4,r5		! multiply the lsws  macl=bb*dd
 	mov     r5,r3		! r3 = ccdd
 	swap.w  r4,r2		! r2 = bbaa
@@ -872,8 +876,8 @@
 #ifdef __SH4__
 !! args in r4 and r5, result in fpul, clobber dr0, dr2
 
-	.global	___sdivsi3_i4
-___sdivsi3_i4:
+	.global	GLOBAL(sdivsi3_i4)
+GLOBAL(sdivsi3_i4):
 	lds r4,fpul
 	float fpul,dr0
 	lds r5,fpul
@@ -885,8 +889,8 @@
 #elif defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)
 !! args in r4 and r5, result in fpul, clobber r2, dr0, dr2
 
-	.global	___sdivsi3_i4
-___sdivsi3_i4:
+	.global	GLOBAL(sdivsi3_i4)
+GLOBAL(sdivsi3_i4):
 	sts.l fpscr,@-r15
 	mov #8,r2
 	swap.w r2,r2
@@ -915,8 +919,8 @@
 
 !! args in r4 and r5, result in r0 clobber r1,r2,r3
 
-	.global	___sdivsi3
-___sdivsi3:
+	.global	GLOBAL(sdivsi3)
+GLOBAL(sdivsi3):
 	mov	r4,r1
 	mov	r5,r0
 
@@ -1009,8 +1013,8 @@
 #ifdef __SH4__
 !! args in r4 and r5, result in fpul, clobber r0, r1, r4, r5, dr0, dr2, dr4
 
-	.global	___udivsi3_i4
-___udivsi3_i4:
+	.global	GLOBAL(udivsi3_i4)
+GLOBAL(udivsi3_i4):
 	mov #1,r1
 	cmp/hi r1,r5
 	bf trivial
@@ -1050,8 +1054,8 @@
 #elif defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)
 !! args in r4 and r5, result in fpul, clobber r0, r1, r4, r5, dr0, dr2, dr4
 
-	.global	___udivsi3_i4
-___udivsi3_i4:
+	.global	GLOBAL(udivsi3_i4)
+GLOBAL(udivsi3_i4):
 	mov #1,r1
 	cmp/hi r1,r5
 	bf trivial
@@ -1110,9 +1114,9 @@
 !!
 
 !! args in r4 and r5, result in r0, clobbers r4, pr, and t bit
-	.global	___udivsi3
+	.global	GLOBAL(udivsi3)
 
-___udivsi3:
+GLOBAL(udivsi3):
 longway:
 	mov	#0,r0
 	div0u
@@ -1164,10 +1168,10 @@
 #endif
 #ifdef L_set_fpscr
 #if defined (__SH3E__) || defined(__SH4_SINGLE__) || defined(__SH4__) || defined(__SH4_SINGLE_ONLY__)
-	.global ___set_fpscr
-___set_fpscr:
+	.global GLOBAL(set_fpscr)
+GLOBAL(set_fpscr):
 	lds r4,fpscr
-	mov.l ___set_fpscr_L1,r1
+	mov.l LOCAL(set_fpscr_L1),r1
 	swap.w r4,r0
 	or #24,r0
 #ifndef FMOVD_WORKS
@@ -1195,12 +1199,34 @@
 	mov.l r3,@(4,r1)
 #endif
 	.align 2
-___set_fpscr_L1:
-	.long ___fpscr_values
+LOCAL(set_fpscr_L1):
+	.long GLOBAL(fpscr_values)
 #ifdef __ELF__
-        .comm   ___fpscr_values,8,4
+        .comm   GLOBAL(fpscr_values),8,4
 #else
-        .comm   ___fpscr_values,8
+        .comm   GLOBAL(fpscr_values),8
 #endif /* ELF */
 #endif /* SH3E / SH4 */
 #endif /* L_set_fpscr */
+#ifdef L_ic_invalidate
+#if defined(__SH4_SINGLE__) || defined(__SH4__) || defined(__SH4_SINGLE_ONLY__)
+	.global GLOBAL(ic_invalidate)
+GLOBAL(ic_invalidate):
+	ocbwb	@r4
+	mova	0f,r0
+	mov.w	1f,r1
+	sub	r0,r4
+	and	r1,r4
+	add	#4,r4
+	braf	r4
+	nop
+1:
+	.short	0x1fe0
+	nop
+0:
+	.rept	2048
+	rts
+	nop
+	.endr
+#endif /* SH4 */
+#endif /* L_ic_invalidate */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/lib1nto.asm gcc/gcc/config/sh/lib1nto.asm
--- gcc-2.95.2/gcc/config/sh/lib1nto.asm	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/sh/lib1nto.asm	2001-03-01 05:24:47.000000000 +1000
@@ -0,0 +1,1291 @@
+/*-
+	lib1funcs.asm: %s/___/__/g
+ */
+/* Copyright (C) 1994, 1995, 1997, 1998 Free Software Foundation, Inc.
+
+This file is free software; you can redistribute it and/or modify it
+under the terms of the GNU General Public License as published by the
+Free Software Foundation; either version 2, or (at your option) any
+later version.
+
+In addition to the permissions in the GNU General Public License, the
+Free Software Foundation gives you unlimited permission to link the
+compiled version of this file with other programs, and to distribute
+those programs without any restriction coming from the use of this
+file.  (The General Public License restrictions do apply in other
+respects; for example, they cover modification of the file, and
+distribution when not linked into another program.)
+
+This file is distributed in the hope that it will be useful, but
+WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+/* As a special exception, if you link this library with other files,
+   some of which are compiled with GCC, to produce an executable,
+   this library does not by itself cause the resulting executable
+   to be covered by the GNU General Public License.
+   This exception does not however invalidate any other reasons why
+   the executable file might be covered by the GNU General Public License.  */
+
+
+!! libgcc1 routines for the Hitachi SH cpu.
+!! Contributed by Steve Chamberlain.
+!! sac@cygnus.com
+
+!! ashiftrt_r4_x, __ashrsi3, __ashlsi3, __lshrsi3 routines
+!! recoded in assembly by Toshiyasu Morita
+!! tm@netcom.com
+
+/* SH2 optimizations for __ashrsi3, __ashlsi3, __lshrsi3 and
+   ELF local label prefixes by J"orn Rennecke
+   amylaar@cygnus.com  */
+
+#ifdef __ELF__
+#define LOCAL(X) .L_##X
+#else
+#define LOCAL(X) L_##X
+#endif
+
+#ifdef L_ashiftrt
+	.global	__ashiftrt_r4_0
+	.global	__ashiftrt_r4_1
+	.global	__ashiftrt_r4_2
+	.global	__ashiftrt_r4_3
+	.global	__ashiftrt_r4_4
+	.global	__ashiftrt_r4_5
+	.global	__ashiftrt_r4_6
+	.global	__ashiftrt_r4_7
+	.global	__ashiftrt_r4_8
+	.global	__ashiftrt_r4_9
+	.global	__ashiftrt_r4_10
+	.global	__ashiftrt_r4_11
+	.global	__ashiftrt_r4_12
+	.global	__ashiftrt_r4_13
+	.global	__ashiftrt_r4_14
+	.global	__ashiftrt_r4_15
+	.global	__ashiftrt_r4_16
+	.global	__ashiftrt_r4_17
+	.global	__ashiftrt_r4_18
+	.global	__ashiftrt_r4_19
+	.global	__ashiftrt_r4_20
+	.global	__ashiftrt_r4_21
+	.global	__ashiftrt_r4_22
+	.global	__ashiftrt_r4_23
+	.global	__ashiftrt_r4_24
+	.global	__ashiftrt_r4_25
+	.global	__ashiftrt_r4_26
+	.global	__ashiftrt_r4_27
+	.global	__ashiftrt_r4_28
+	.global	__ashiftrt_r4_29
+	.global	__ashiftrt_r4_30
+	.global	__ashiftrt_r4_31
+	.global	__ashiftrt_r4_32
+
+	.align	1
+__ashiftrt_r4_32:
+__ashiftrt_r4_31:
+	rotcl	r4
+	rts
+	subc	r4,r4
+
+__ashiftrt_r4_30:
+	shar	r4
+__ashiftrt_r4_29:
+	shar	r4
+__ashiftrt_r4_28:
+	shar	r4
+__ashiftrt_r4_27:
+	shar	r4
+__ashiftrt_r4_26:
+	shar	r4
+__ashiftrt_r4_25:
+	shar	r4
+__ashiftrt_r4_24:
+	shlr16	r4
+	shlr8	r4
+	rts
+	exts.b	r4,r4
+
+__ashiftrt_r4_23:
+	shar	r4
+__ashiftrt_r4_22:
+	shar	r4
+__ashiftrt_r4_21:
+	shar	r4
+__ashiftrt_r4_20:
+	shar	r4
+__ashiftrt_r4_19:
+	shar	r4
+__ashiftrt_r4_18:
+	shar	r4
+__ashiftrt_r4_17:
+	shar	r4
+__ashiftrt_r4_16:
+	shlr16	r4
+	rts
+	exts.w	r4,r4
+
+__ashiftrt_r4_15:
+	shar	r4
+__ashiftrt_r4_14:
+	shar	r4
+__ashiftrt_r4_13:
+	shar	r4
+__ashiftrt_r4_12:
+	shar	r4
+__ashiftrt_r4_11:
+	shar	r4
+__ashiftrt_r4_10:
+	shar	r4
+__ashiftrt_r4_9:
+	shar	r4
+__ashiftrt_r4_8:
+	shar	r4
+__ashiftrt_r4_7:
+	shar	r4
+__ashiftrt_r4_6:
+	shar	r4
+__ashiftrt_r4_5:
+	shar	r4
+__ashiftrt_r4_4:
+	shar	r4
+__ashiftrt_r4_3:
+	shar	r4
+__ashiftrt_r4_2:
+	shar	r4
+__ashiftrt_r4_1:
+	rts
+	shar	r4
+
+__ashiftrt_r4_0:
+	rts
+	nop
+#endif
+
+#ifdef L_ashiftrt_n
+
+!
+! __ashrsi3
+!
+! Entry:
+!
+! r4: Value to shift
+! r5: Shifts
+!
+! Exit:
+!
+! r0: Result
+!
+! Destroys:
+!
+! (none)
+!
+
+	.global	__ashrsi3
+	.align	2
+__ashrsi3:
+	mov	#31,r0
+	and	r0,r5
+	mova	LOCAL(ashrsi3_table),r0
+	mov.b	@(r0,r5),r5
+#ifdef __sh1__
+	add	r5,r0
+	jmp	@r0
+#else
+	braf	r5
+#endif
+	mov	r4,r0
+
+	.align	2
+LOCAL(ashrsi3_table):
+	.byte		LOCAL(ashrsi3_0)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_1)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_2)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_3)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_4)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_5)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_6)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_7)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_8)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_9)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_10)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_11)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_12)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_13)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_14)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_15)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_16)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_17)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_18)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_19)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_20)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_21)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_22)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_23)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_24)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_25)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_26)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_27)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_28)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_29)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_30)-LOCAL(ashrsi3_table)
+	.byte		LOCAL(ashrsi3_31)-LOCAL(ashrsi3_table)
+
+LOCAL(ashrsi3_31):
+	rotcl	r0
+	rts
+	subc	r0,r0
+
+LOCAL(ashrsi3_30):
+	shar	r0
+LOCAL(ashrsi3_29):
+	shar	r0
+LOCAL(ashrsi3_28):
+	shar	r0
+LOCAL(ashrsi3_27):
+	shar	r0
+LOCAL(ashrsi3_26):
+	shar	r0
+LOCAL(ashrsi3_25):
+	shar	r0
+LOCAL(ashrsi3_24):
+	shlr16	r0
+	shlr8	r0
+	rts
+	exts.b	r0,r0
+
+LOCAL(ashrsi3_23):
+	shar	r0
+LOCAL(ashrsi3_22):
+	shar	r0
+LOCAL(ashrsi3_21):
+	shar	r0
+LOCAL(ashrsi3_20):
+	shar	r0
+LOCAL(ashrsi3_19):
+	shar	r0
+LOCAL(ashrsi3_18):
+	shar	r0
+LOCAL(ashrsi3_17):
+	shar	r0
+LOCAL(ashrsi3_16):
+	shlr16	r0
+	rts
+	exts.w	r0,r0
+
+LOCAL(ashrsi3_15):
+	shar	r0
+LOCAL(ashrsi3_14):
+	shar	r0
+LOCAL(ashrsi3_13):
+	shar	r0
+LOCAL(ashrsi3_12):
+	shar	r0
+LOCAL(ashrsi3_11):
+	shar	r0
+LOCAL(ashrsi3_10):
+	shar	r0
+LOCAL(ashrsi3_9):
+	shar	r0
+LOCAL(ashrsi3_8):
+	shar	r0
+LOCAL(ashrsi3_7):
+	shar	r0
+LOCAL(ashrsi3_6):
+	shar	r0
+LOCAL(ashrsi3_5):
+	shar	r0
+LOCAL(ashrsi3_4):
+	shar	r0
+LOCAL(ashrsi3_3):
+	shar	r0
+LOCAL(ashrsi3_2):
+	shar	r0
+LOCAL(ashrsi3_1):
+	rts
+	shar	r0
+
+LOCAL(ashrsi3_0):
+	rts
+	nop
+
+	.type __ashrsi3,@function
+	.size __ashrsi3,.-__ashrsi3
+
+#endif
+
+#ifdef L_ashiftlt
+
+!
+! __ashlsi3
+!
+! Entry:
+!
+! r4: Value to shift
+! r5: Shifts
+!
+! Exit:
+!
+! r0: Result
+!
+! Destroys:
+!
+! (none)
+!
+	.global	__ashlsi3
+	.align	2
+__ashlsi3:
+	mov	#31,r0
+	and	r0,r5
+	mova	LOCAL(ashlsi3_table),r0
+	mov.b	@(r0,r5),r5
+#ifdef __sh1__
+	add	r5,r0
+	jmp	@r0
+#else
+	braf	r5
+#endif
+	mov	r4,r0
+
+	.align	2
+LOCAL(ashlsi3_table):
+	.byte		LOCAL(ashlsi3_0)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_1)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_2)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_3)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_4)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_5)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_6)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_7)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_8)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_9)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_10)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_11)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_12)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_13)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_14)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_15)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_16)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_17)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_18)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_19)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_20)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_21)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_22)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_23)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_24)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_25)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_26)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_27)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_28)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_29)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_30)-LOCAL(ashlsi3_table)
+	.byte		LOCAL(ashlsi3_31)-LOCAL(ashlsi3_table)
+
+LOCAL(ashlsi3_6):
+	shll2	r0
+LOCAL(ashlsi3_4):
+	shll2	r0
+LOCAL(ashlsi3_2):
+	rts
+	shll2	r0
+
+LOCAL(ashlsi3_7):
+	shll2	r0
+LOCAL(ashlsi3_5):
+	shll2	r0
+LOCAL(ashlsi3_3):
+	shll2	r0
+LOCAL(ashlsi3_1):
+	rts
+	shll	r0
+
+LOCAL(ashlsi3_14):
+	shll2	r0
+LOCAL(ashlsi3_12):
+	shll2	r0
+LOCAL(ashlsi3_10):
+	shll2	r0
+LOCAL(ashlsi3_8):
+	rts
+	shll8	r0
+
+LOCAL(ashlsi3_15):
+	shll2	r0
+LOCAL(ashlsi3_13):
+	shll2	r0
+LOCAL(ashlsi3_11):
+	shll2	r0
+LOCAL(ashlsi3_9):
+	shll8	r0
+	rts
+	shll	r0
+
+LOCAL(ashlsi3_22):
+	shll2	r0
+LOCAL(ashlsi3_20):
+	shll2	r0
+LOCAL(ashlsi3_18):
+	shll2	r0
+LOCAL(ashlsi3_16):
+	rts
+	shll16	r0
+
+LOCAL(ashlsi3_23):
+	shll2	r0
+LOCAL(ashlsi3_21):
+	shll2	r0
+LOCAL(ashlsi3_19):
+	shll2	r0
+LOCAL(ashlsi3_17):
+	shll16	r0
+	rts
+	shll	r0
+
+LOCAL(ashlsi3_30):
+	shll2	r0
+LOCAL(ashlsi3_28):
+	shll2	r0
+LOCAL(ashlsi3_26):
+	shll2	r0
+LOCAL(ashlsi3_24):
+	shll16	r0
+	rts
+	shll8	r0
+
+LOCAL(ashlsi3_31):
+	shll2	r0
+LOCAL(ashlsi3_29):
+	shll2	r0
+LOCAL(ashlsi3_27):
+	shll2	r0
+LOCAL(ashlsi3_25):
+	shll16	r0
+	shll8	r0
+	rts
+	shll	r0
+
+LOCAL(ashlsi3_0):
+	rts
+	nop
+
+	.type __ashlsi3,@function
+	.size __ashlsi3,.-__ashlsi3
+
+#endif
+
+#ifdef L_lshiftrt
+
+!
+! __lshrsi3
+!
+! Entry:
+!
+! r4: Value to shift
+! r5: Shifts
+!
+! Exit:
+!
+! r0: Result
+!
+! Destroys:
+!
+! (none)
+!
+	.global	__lshrsi3
+	.align	2
+__lshrsi3:
+	mov	#31,r0
+	and	r0,r5
+	mova	LOCAL(lshrsi3_table),r0
+	mov.b	@(r0,r5),r5
+#ifdef __sh1__
+	add	r5,r0
+	jmp	@r0
+#else
+	braf	r5
+#endif
+	mov	r4,r0
+
+	.align	2
+LOCAL(lshrsi3_table):
+	.byte		LOCAL(lshrsi3_0)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_1)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_2)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_3)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_4)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_5)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_6)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_7)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_8)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_9)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_10)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_11)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_12)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_13)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_14)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_15)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_16)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_17)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_18)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_19)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_20)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_21)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_22)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_23)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_24)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_25)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_26)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_27)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_28)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_29)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_30)-LOCAL(lshrsi3_table)
+	.byte		LOCAL(lshrsi3_31)-LOCAL(lshrsi3_table)
+
+LOCAL(lshrsi3_6):
+	shlr2	r0
+LOCAL(lshrsi3_4):
+	shlr2	r0
+LOCAL(lshrsi3_2):
+	rts
+	shlr2	r0
+
+LOCAL(lshrsi3_7):
+	shlr2	r0
+LOCAL(lshrsi3_5):
+	shlr2	r0
+LOCAL(lshrsi3_3):
+	shlr2	r0
+LOCAL(lshrsi3_1):
+	rts
+	shlr	r0
+
+LOCAL(lshrsi3_14):
+	shlr2	r0
+LOCAL(lshrsi3_12):
+	shlr2	r0
+LOCAL(lshrsi3_10):
+	shlr2	r0
+LOCAL(lshrsi3_8):
+	rts
+	shlr8	r0
+
+LOCAL(lshrsi3_15):
+	shlr2	r0
+LOCAL(lshrsi3_13):
+	shlr2	r0
+LOCAL(lshrsi3_11):
+	shlr2	r0
+LOCAL(lshrsi3_9):
+	shlr8	r0
+	rts
+	shlr	r0
+
+LOCAL(lshrsi3_22):
+	shlr2	r0
+LOCAL(lshrsi3_20):
+	shlr2	r0
+LOCAL(lshrsi3_18):
+	shlr2	r0
+LOCAL(lshrsi3_16):
+	rts
+	shlr16	r0
+
+LOCAL(lshrsi3_23):
+	shlr2	r0
+LOCAL(lshrsi3_21):
+	shlr2	r0
+LOCAL(lshrsi3_19):
+	shlr2	r0
+LOCAL(lshrsi3_17):
+	shlr16	r0
+	rts
+	shlr	r0
+
+LOCAL(lshrsi3_30):
+	shlr2	r0
+LOCAL(lshrsi3_28):
+	shlr2	r0
+LOCAL(lshrsi3_26):
+	shlr2	r0
+LOCAL(lshrsi3_24):
+	shlr16	r0
+	rts
+	shlr8	r0
+
+LOCAL(lshrsi3_31):
+	shlr2	r0
+LOCAL(lshrsi3_29):
+	shlr2	r0
+LOCAL(lshrsi3_27):
+	shlr2	r0
+LOCAL(lshrsi3_25):
+	shlr16	r0
+	shlr8	r0
+	rts
+	shlr	r0
+
+LOCAL(lshrsi3_0):
+	rts
+	nop
+
+	.type __lshrsi3,@function
+	.size __lshrsi3,.-__lshrsi3
+
+#endif
+
+#ifdef L_movstr
+	.text
+! done all the large groups, do the remainder
+
+! jump to movstr+
+done:
+	add	#64,r5
+	mova	__movstrSI0,r0
+	shll2	r6
+	add	r6,r0
+	jmp	@r0
+	add	#64,r4
+	.align	4
+	.global	__movstrSI64
+	.type __movstrSI64,@function
+__movstrSI64:
+	mov.l	@(60,r5),r0
+	mov.l	r0,@(60,r4)
+	.global	__movstrSI60
+	.type __movstrSI60,@function
+__movstrSI60:
+	mov.l	@(56,r5),r0
+	mov.l	r0,@(56,r4)
+	.global	__movstrSI56
+	.type __movstrSI56,@function
+__movstrSI56:
+	mov.l	@(52,r5),r0
+	mov.l	r0,@(52,r4)
+	.global	__movstrSI52
+	.type __movstrSI52,@function
+__movstrSI52:
+	mov.l	@(48,r5),r0
+	mov.l	r0,@(48,r4)
+	.global	__movstrSI48
+	.type __movstrSI48,@function
+__movstrSI48:
+	mov.l	@(44,r5),r0
+	mov.l	r0,@(44,r4)
+	.global	__movstrSI44
+	.type __movstrSI44,@function
+__movstrSI44:
+	mov.l	@(40,r5),r0
+	mov.l	r0,@(40,r4)
+	.global	__movstrSI40
+	.type __movstrSI40,@function
+__movstrSI40:
+	mov.l	@(36,r5),r0
+	mov.l	r0,@(36,r4)
+	.global	__movstrSI36
+	.type __movstrSI36,@function
+__movstrSI36:
+	mov.l	@(32,r5),r0
+	mov.l	r0,@(32,r4)
+	.global	__movstrSI32
+	.type __movstrSI32,@function
+__movstrSI32:
+	mov.l	@(28,r5),r0
+	mov.l	r0,@(28,r4)
+	.global	__movstrSI28
+	.type __movstrSI28,@function
+__movstrSI28:
+	mov.l	@(24,r5),r0
+	mov.l	r0,@(24,r4)
+	.global	__movstrSI24
+	.type __movstrSI24,@function
+__movstrSI24:
+	mov.l	@(20,r5),r0
+	mov.l	r0,@(20,r4)
+	.global	__movstrSI20
+	.type __movstrSI20,@function
+__movstrSI20:
+	mov.l	@(16,r5),r0
+	mov.l	r0,@(16,r4)
+	.global	__movstrSI16
+	.type __movstrSI16,@function
+__movstrSI16:
+	mov.l	@(12,r5),r0
+	mov.l	r0,@(12,r4)
+	.global	__movstrSI12
+	.type __movstrSI12,@function
+__movstrSI12:
+	mov.l	@(8,r5),r0
+	mov.l	r0,@(8,r4)
+	.global	__movstrSI8
+	.type __movstrSI8,@function
+__movstrSI8:
+	mov.l	@(4,r5),r0
+	mov.l	r0,@(4,r4)
+	.global	__movstrSI4
+	.type __movstrSI4,@function
+__movstrSI4:
+	mov.l	@(0,r5),r0
+	mov.l	r0,@(0,r4)
+__movstrSI0:
+	rts
+	nop
+#	or	r0,r0,r0
+
+	.align	4
+
+	.global	__movstr
+__movstr:
+	mov.l	@(60,r5),r0
+	mov.l	r0,@(60,r4)
+
+	mov.l	@(56,r5),r0
+	mov.l	r0,@(56,r4)
+
+	mov.l	@(52,r5),r0
+	mov.l	r0,@(52,r4)
+
+	mov.l	@(48,r5),r0
+	mov.l	r0,@(48,r4)
+
+	mov.l	@(44,r5),r0
+	mov.l	r0,@(44,r4)
+
+	mov.l	@(40,r5),r0
+	mov.l	r0,@(40,r4)
+
+	mov.l	@(36,r5),r0
+	mov.l	r0,@(36,r4)
+
+	mov.l	@(32,r5),r0
+	mov.l	r0,@(32,r4)
+
+	mov.l	@(28,r5),r0
+	mov.l	r0,@(28,r4)
+
+	mov.l	@(24,r5),r0
+	mov.l	r0,@(24,r4)
+
+	mov.l	@(20,r5),r0
+	mov.l	r0,@(20,r4)
+
+	mov.l	@(16,r5),r0
+	mov.l	r0,@(16,r4)
+
+	mov.l	@(12,r5),r0
+	mov.l	r0,@(12,r4)
+
+	mov.l	@(8,r5),r0
+	mov.l	r0,@(8,r4)
+
+	mov.l	@(4,r5),r0
+	mov.l	r0,@(4,r4)
+
+	mov.l	@(0,r5),r0
+	mov.l	r0,@(0,r4)
+
+	add	#-16,r6
+	cmp/pl	r6
+	bf	done
+
+	add	#64,r5
+	bra	__movstr
+	add	#64,r4
+	.type __movstr,@function
+	.size __movstr,.-__movstr
+#endif
+
+#ifdef L_movstr_i4
+#if defined(__SH4__) || defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)
+	.text
+	.global	__movstr_i4_even
+	.type __movstr_i4_even,@function
+	.global	__movstr_i4_odd
+	.type __movstr_i4_odd,@function
+	.global	__movstrSI12_i4
+	.type __movstrSI12,@function
+
+	.p2align	5
+L_movstr_2mod4_end:
+	mov.l	r0,@(16,r4)
+	rts
+	mov.l	r1,@(20,r4)
+
+	.p2align	2
+
+__movstr_i4_odd:
+	mov.l	@r5+,r1
+	add	#-4,r4
+	mov.l	@r5+,r2
+	mov.l	@r5+,r3
+	mov.l	r1,@(4,r4)
+	mov.l	r2,@(8,r4)
+
+L_movstr_loop:
+	mov.l	r3,@(12,r4)
+	dt	r6
+	mov.l	@r5+,r0
+	bt/s	L_movstr_2mod4_end
+	mov.l	@r5+,r1
+	add	#16,r4
+L_movstr_start_even:
+	mov.l	@r5+,r2
+	mov.l	@r5+,r3
+	mov.l	r0,@r4
+	dt	r6
+	mov.l	r1,@(4,r4)
+	bf/s	L_movstr_loop
+	mov.l	r2,@(8,r4)
+	rts
+	mov.l	r3,@(12,r4)
+
+__movstr_i4_even:
+	mov.l	@r5+,r0
+	bra	L_movstr_start_even
+	mov.l	@r5+,r1
+
+	.p2align	4
+__movstrSI12_i4:
+	mov.l	@r5,r0
+	mov.l	@(4,r5),r1
+	mov.l	@(8,r5),r2
+	mov.l	r0,@r4
+	mov.l	r1,@(4,r4)
+	rts
+	mov.l	r2,@(8,r4)
+#endif /* ! __SH4__ */
+#endif
+
+#ifdef L_mulsi3
+
+
+	.global	__mulsi3
+
+! r4 =       aabb
+! r5 =       ccdd
+! r0 = aabb*ccdd  via partial products
+!
+! if aa == 0 and cc = 0
+! r0 = bb*dd
+!
+! else
+! aa = bb*dd + (aa*dd*65536) + (cc*bb*65536)
+!
+
+__mulsi3:
+	mulu    r4,r5		! multiply the lsws  macl=bb*dd
+	mov     r5,r3		! r3 = ccdd
+	swap.w  r4,r2		! r2 = bbaa
+	xtrct   r2,r3		! r3 = aacc
+	tst  	r3,r3		! msws zero ?
+	bf      hiset
+	rts			! yes - then we have the answer
+	sts     macl,r0
+
+hiset:	sts	macl,r0		! r0 = bb*dd
+	mulu	r2,r5		! brewing macl = aa*dd
+	sts	macl,r1
+	mulu	r3,r4		! brewing macl = cc*bb
+	sts	macl,r2
+	add	r1,r2
+	shll16	r2
+	rts
+	add	r2,r0
+
+	.type __mulsi3,@function
+	.size __mulsi3,.-__mulsi3
+
+
+#endif
+#ifdef L_sdivsi3_i4
+	.title "SH DIVIDE"
+!! 4 byte integer Divide code for the Hitachi SH
+#ifdef __SH4__
+!! args in r4 and r5, result in fpul, clobber dr0, dr2
+
+	.global	__sdivsi3_i4
+__sdivsi3_i4:
+	lds r4,fpul
+	float fpul,dr0
+	lds r5,fpul
+	float fpul,dr2
+	fdiv dr2,dr0
+	rts
+	ftrc dr0,fpul
+	.type __sdivsi3_i4,@function
+	.size __sdivsi3_i4,.-__sdivsi3_i4
+
+#elif defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)
+!! args in r4 and r5, result in fpul, clobber r2, dr0, dr2
+
+	.global	__sdivsi3_i4
+__sdivsi3_i4:
+	sts.l fpscr,@-r15
+	mov #8,r2
+	swap.w r2,r2
+	lds r2,fpscr
+	lds r4,fpul
+	float fpul,dr0
+	lds r5,fpul
+	float fpul,dr2
+	fdiv dr2,dr0
+	ftrc dr0,fpul
+	rts
+	lds.l @r15+,fpscr
+
+	.type __sdivsi3_i4,@function
+	.size __sdivsi3_i4,.-__sdivsi3_i4
+
+#endif /* ! __SH4__ */
+#endif
+
+#ifdef L_sdivsi3
+/* __SH4_SINGLE_ONLY__ keeps this part for link compatibility with
+   sh3e code.  */
+#if ! defined(__SH4__) && ! defined (__SH4_SINGLE__)
+!!
+!! Steve Chamberlain
+!! sac@cygnus.com
+!!
+!!
+
+!! args in r4 and r5, result in r0 clobber r1,r2,r3
+
+	.global	__sdivsi3
+__sdivsi3:
+	mov	r4,r1
+	mov	r5,r0
+
+	tst	r0,r0
+	bt	div0
+	mov	#0,r2
+	div0s	r2,r1
+	subc	r3,r3
+	subc	r2,r1
+	div0s	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	div1	r0,r3
+	rotcl	r1
+	addc	r2,r1
+	rts
+	mov	r1,r0
+
+
+div0:	rts
+	mov	#0,r0
+
+	.type __sdivsi3,@function
+	.size __sdivsi3,.-__sdivsi3
+
+#endif /* ! __SH4__ */
+#endif
+#ifdef L_udivsi3_i4
+
+	.title "SH DIVIDE"
+!! 4 byte integer Divide code for the Hitachi SH
+#ifdef __SH4__
+!! args in r4 and r5, result in fpul, clobber r0, r1, r4, r5, dr0, dr2, dr4
+
+	.global	__udivsi3_i4
+__udivsi3_i4:
+	mov #1,r1
+	cmp/hi r1,r5
+	bf trivial
+	rotr r1
+	xor r1,r4
+	lds r4,fpul
+	mova L1,r0
+#ifdef FMOVD_WORKS
+	fmov.d @r0+,dr4
+#else
+#ifdef __LITTLE_ENDIAN__
+	fmov.s @r0+,fr5
+	fmov.s @r0,fr4
+#else
+	fmov.s @r0+,fr4
+	fmov.s @r0,fr5
+#endif
+#endif
+	float fpul,dr0
+	xor r1,r5
+	lds r5,fpul
+	float fpul,dr2
+	fadd dr4,dr0
+	fadd dr4,dr2
+	fdiv dr2,dr0
+	rts
+	ftrc dr0,fpul
+
+trivial:
+	rts
+	lds r4,fpul
+
+	.align 2
+L1:
+	.double 2147483648
+	.type __udivsi3_i4,@function
+	.size __udivsi3_i4,.-__udivsi3_i4
+
+#elif defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)
+!! args in r4 and r5, result in fpul, clobber r0, r1, r4, r5, dr0, dr2, dr4
+
+	.global	__udivsi3_i4
+__udivsi3_i4:
+	mov #1,r1
+	cmp/hi r1,r5
+	bf trivial
+	sts.l fpscr,@-r15
+	mova L1,r0
+	lds.l @r0+,fpscr
+	rotr r1
+	xor r1,r4
+	lds r4,fpul
+#ifdef FMOVD_WORKS
+	fmov.d @r0+,dr4
+#else
+#ifdef __LITTLE_ENDIAN__
+	fmov.s @r0+,fr5
+	fmov.s @r0,fr4
+#else
+	fmov.s @r0+,fr4
+	fmov.s @r0,fr5
+#endif
+#endif
+	float fpul,dr0
+	xor r1,r5
+	lds r5,fpul
+	float fpul,dr2
+	fadd dr4,dr0
+	fadd dr4,dr2
+	fdiv dr2,dr0
+	ftrc dr0,fpul
+	rts
+	lds.l @r15+,fpscr
+
+trivial:
+	rts
+	lds r4,fpul
+
+	.align 2
+L1:
+#if defined (__LITTLE_ENDIAN__) || ! defined (FMOVD_WORKS)
+	.long 0x80000
+#else
+	.long 0x180000
+#endif
+	.double 2147483648
+	.type __udivsi3_i4,@function
+	.size __udivsi3_i4,.-__udivsi3_i4
+
+#endif /* ! __SH4__ */
+#endif
+
+#ifdef L_udivsi3
+/* __SH4_SINGLE_ONLY__ keeps this part for link compatibility with
+   sh3e code.  */
+#if ! defined(__SH4__) && ! defined (__SH4_SINGLE__)
+!!
+!! Steve Chamberlain
+!! sac@cygnus.com
+!!
+!!
+
+!! args in r4 and r5, result in r0, clobbers r4, pr, and t bit
+	.global	__udivsi3
+
+__udivsi3:
+longway:
+	mov	#0,r0
+	div0u
+	! get one bit from the msb of the numerator into the T
+	! bit and divide it by whats in r5.  Put the answer bit
+	! into the T bit so it can come out again at the bottom
+
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+shortway:
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+
+vshortway:
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4 ; div1 r5,r0
+	rotcl	r4
+ret:	rts
+	mov	r4,r0
+
+	.type __udivsi3,@function
+	.size __udivsi3,.-__udivsi3
+
+#endif /* __SH4__ */
+#endif
+#ifdef L_set_fpscr
+#if defined (__SH3E__) || defined(__SH4_SINGLE__) || defined(__SH4__) || defined(__SH4_SINGLE_ONLY__)
+	.global __set_fpscr
+__set_fpscr:
+#ifdef __PIC__ /* handle shared libgcc.a */
+	mov.l	r12,@-r15
+	mov.l	r14,@-r15
+	mova	got1,r0
+	mov.l	got1,r12
+	add	r0,r12
+#endif
+	lds r4,fpscr
+	mov.l __set_fpscr_L1,r1
+	swap.w r4,r0
+	or #24,r0
+#ifndef FMOVD_WORKS
+	xor #16,r0
+#endif
+#if defined(__SH4__)
+	swap.w r0,r3
+#ifdef __PIC__
+	mov r0,r2
+	mov r1,r0
+	add #4,r0
+	mov.l r3,@(r0,r12)
+	mov r2,r0
+#else
+	mov.l r3,@(4,r1)
+#endif
+#else /* defined(__SH3E__) || defined(__SH4_SINGLE*__) */
+	swap.w r0,r2
+	mov.l r2,@r1
+#endif
+#ifndef FMOVD_WORKS
+	xor #8,r0
+#else
+	xor #24,r0
+#endif
+#if defined(__SH4__)
+	swap.w r0,r2
+#ifdef __PIC__
+	mov r1,r0
+	mov.l r2,@(r0,r12)
+	mov.l	@r15+,r14
+	mov.l	@r15+,r12
+	rts
+	nop
+#else
+	rts
+	mov.l r2,@r1
+#endif
+#else /* defined(__SH3E__) || defined(__SH4_SINGLE*__) */
+	swap.w r0,r3
+	rts
+	mov.l r3,@(4,r1)
+#endif
+	.align 2
+#ifdef __PIC__ /* handle shared libgcc.a */
+got1:
+	.long _GLOBAL_OFFSET_TABLE_
+__set_fpscr_L1:
+	.long __fpscr_values@GOTOFF
+#else
+__set_fpscr_L1:
+	.long __fpscr_values
+#endif /* ! __PIC__ */
+#ifdef __ELF__
+        .comm   __fpscr_values,8,4
+#else
+        .comm   __fpscr_values,8
+#endif /* ELF */
+	.type __set_fpscr,@function
+	.size __set_fpscr,.-__set_fpscr
+#endif /* SH3E / SH4 */
+#endif /* L_set_fpscr */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/nto.h gcc/gcc/config/sh/nto.h
--- gcc-2.95.2/gcc/config/sh/nto.h	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/sh/nto.h	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,214 @@
+/* Definitions of target machine for gcc for Hitachi Super-H using ELF.
+   Copyright (C) 1996 Free Software Foundation, Inc.
+   Contributed by Ian Lance Taylor <ian@cygnus.com>.
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+/* Mostly like the regular SH configuration.  */
+#include "sh/sh.h"
+
+/* No SDB debugging info.  */
+#undef SDB_DEBUGGING_INFO
+
+/* Undefine some macros defined in both sh.h and svr4.h.  */
+#undef IDENT_ASM_OP
+#undef ASM_FILE_END
+#undef ASM_OUTPUT_SOURCE_LINE
+#undef DBX_OUTPUT_MAIN_SOURCE_FILE_END
+#undef CTORS_SECTION_ASM_OP
+#undef DTORS_SECTION_ASM_OP
+#undef ASM_OUTPUT_SECTION_NAME
+#undef ASM_OUTPUT_CONSTRUCTOR
+#undef ASM_OUTPUT_DESTRUCTOR
+#undef ASM_DECLARE_FUNCTION_NAME
+#undef PREFERRED_DEBUGGING_TYPE
+#undef MAX_OFILE_ALIGNMENT
+
+/* Be ELF-like.  */
+#include "qnx-nto.h"
+
+/* The prefix to add to user-visible assembler symbols.
+   Note that svr4.h redefined it from the original value (that we want)
+   in sh.h */
+
+#undef USER_LABEL_PREFIX
+#define USER_LABEL_PREFIX ""
+
+#undef LOCAL_LABEL_PREFIX
+#define LOCAL_LABEL_PREFIX "."
+
+#undef ASM_FILE_START
+#define ASM_FILE_START(FILE) do {				\
+  output_file_directive ((FILE), main_input_filename);		\
+  if (TARGET_LITTLE_ENDIAN)					\
+    fprintf ((FILE), "\t.little\n");				\
+} while (0)
+
+
+/* Let code know that this is ELF.  */
+
+#undef CPP_SPEC
+#ifdef __QNXNTO__
+#define CPP_SPEC " \
+-D__SH4__ \
+-nostdinc -idirafter /usr/include %(cpp_cpu) \
+%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} \
+%{posix:-DPOSIX_SOURCE} \
+%{ml:-D__LITTLE_ENDIAN__} %{ml:-D__LITTLEENDIAN__}%{!ml:-D__BIGENDIAN__}"
+#elif defined(__sun__)
+#define CPP_SPEC " \
+-D__SH4__ \
+-nostdinc -idirafter /opt/QNXsdk/target/qnx6/usr/include %(cpp_cpu) \
+%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} \
+%{posix:-DPOSIX_SOURCE} \
+%{ml:-D__LITTLE_ENDIAN__} %{ml:-D__LITTLEENDIAN__}%{!ml:-D__BIGENDIAN__}"
+#else
+#define CPP_SPEC " \
+-D__SH4__ \
+-nostdinc -idirafter /usr/nto/usr/include %(cpp_cpu) \
+%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} \
+%{posix:-DPOSIX_SOURCE} \
+%{ml:-D__LITTLE_ENDIAN__} %{ml:-D__LITTLEENDIAN__}%{!ml:-D__BIGENDIAN__}"
+#endif
+
+#undef CPP_PREDEFINES
+#define CPP_PREDEFINES "-D__sh__ -D__SH__ -D__ELF__ -Dunix -D__QNXNTO__ -D__QNX__ -Asystem(unix) -Asystem(nto) -Asystem(qnxnto) -Asystem(qnx) -Acpu(sh) -Amachine(sh)"
+
+#undef CC1_SPEC
+#define CC1_SPEC "-m4"
+
+#undef CC1PLUS_SPEC
+#define CC1PLUS_SPEC "-m4 -fhonor-std"
+
+/* Pass -ml and -mrelax to the assembler and linker.  */
+#undef ASM_SPEC
+#define ASM_SPEC  "%{ml:-little} %{mrelax:-relax}"
+
+#undef LINK_SPEC
+#ifdef __QNXNTO__
+#define LINK_SPEC "%{ml:-EL}%{!ml:-EB} --small-stubs -u_start %{ml:-m shlelf_nto}%{!ml:-m shelf_nto}\
+%{mrelax:-relax} -YP,/sh%{ml:le}%{!ml:be}/lib -YP,/sh%{ml:le}%{!ml:be}/usr/lib \
+%{MAP:-Map mapfile} %{static:-dn -Bstatic} %{shared:-G -dy -z text} \
+%{symbolic: -Bsymbolic -G -dy -z text} %{G:-G} \
+%{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}"
+#elif defined(__sun__)
+#define LINK_SPEC "%{ml:-EL}%{!ml:-EB} --small-stubs -u_start %{ml:-m shlelf_nto}%{!ml:-m shelf_nto}\
+%{mrelax:-relax} -YP,/opt/QNXsdk/target/qnx6/sh%{ml:le}%{!ml:be}/lib \
+%{MAP:-Map mapfile} %{static:-dn -Bstatic} %{shared:-G -dy -z text} \
+%{symbolic: -Bsymbolic -G -dy -z text} %{G:-G} \
+%{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}"
+#else
+#define LINK_SPEC "%{ml:-EL}%{!ml:-EB} --small-stubs -u_start %{ml:-m shlelf_nto}%{!ml:-m shelf_nto}\
+%{mrelax:-relax} -YP,/usr/nto/sh%{ml:le}%{!ml:be}/lib \
+%{MAP:-Map mapfile} %{static:-dn -Bstatic} %{shared:-G -dy -z text} \
+%{symbolic: -Bsymbolic -G -dy -z text} %{G:-G} \
+%{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}"
+#endif
+
+#undef  LIB_SPEC
+#ifdef __QNXNTO__
+#define LIB_SPEC "\
+-L/sh%{EL:le}%{!EL:be}/lib %{!symbolic:-lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}}"
+#elif defined(__sun__)
+#define LIB_SPEC "\
+-L/opt/QNXsdk/target/qnx6/sh%{EL:le}%{!EL:be}/lib %{!symbolic:-lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}}"
+#else
+#define LIB_SPEC "\
+-L/usr/nto/sh%{EL:le}%{!EL:be}/lib %{!symbolic:-lc -dn -Bstatic %{!shared: -lc} %{shared: -lcS}}"
+#endif
+
+/* svr4.h undefined DBX_REGISTER_NUMBER, so we need to define it
+   again.  */
+#define DBX_REGISTER_NUMBER(REGNO)	\
+  (((REGNO) >= 22 && (REGNO) <= 39) ? ((REGNO) + 1) : (REGNO))
+
+/* SH ELF, unlike most ELF implementations, uses underscores before
+   symbol names.  */
+#undef ASM_OUTPUT_LABELREF
+#define ASM_OUTPUT_LABELREF(STREAM,NAME) \
+  asm_fprintf (STREAM, "%U%s", NAME)
+
+#undef ASM_GENERATE_INTERNAL_LABEL
+#define ASM_GENERATE_INTERNAL_LABEL(STRING, PREFIX, NUM) \
+  sprintf ((STRING), "*%s%s%d", LOCAL_LABEL_PREFIX, (PREFIX), (NUM))
+
+#undef ASM_OUTPUT_INTERNAL_LABEL
+#define ASM_OUTPUT_INTERNAL_LABEL(FILE,PREFIX,NUM) \
+  asm_fprintf ((FILE), "%L%s%d:\n", (PREFIX), (NUM))
+
+#undef  ASM_OUTPUT_SOURCE_LINE
+#define ASM_OUTPUT_SOURCE_LINE(file, line)				\
+do									\
+  {									\
+    static int sym_lineno = 1;						\
+    asm_fprintf ((file), ".stabn 68,0,%d,%LLM%d-",			\
+	     (line), sym_lineno);					\
+    assemble_name ((file),						\
+		   XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0));\
+    asm_fprintf ((file), "\n%LLM%d:\n", sym_lineno);			\
+    sym_lineno += 1;							\
+  }									\
+while (0)
+
+#undef DBX_OUTPUT_MAIN_SOURCE_FILE_END
+#define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME)			\
+do {									\
+  text_section ();							\
+  fprintf ((FILE), "\t.stabs \"\",%d,0,0,Letext\nLetext:\n", N_SO);	\
+} while (0)
+
+#undef  STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define	STARTFILE_SPEC "\
+%{!shared: /sh%{!ml:be}%{ml:le}/lib/crt1.o} \
+/sh%{!ml:be}%{ml:le}/lib/crti.o \
+/sh%{!ml:be}%{ml:le}/lib/crtbegin.o"
+#elif defined(__sun__)
+#define STARTFILE_SPEC "\
+%{!shared: /opt/QNXsdk/target/qnx6/sh%{!ml:be}%{ml:le}/lib/crt1.o} \
+/opt/QNXsdk/target/qnx6/sh%{!ml:be}%{ml:le}/lib/crti.o \
+/opt/QNXsdk/target/qnx6/sh%{!ml:be}%{ml:le}/lib/crtbegin.o"
+#else
+#define	STARTFILE_SPEC "\
+%{!shared: /usr/nto/sh%{!ml:be}%{ml:le}/lib/crt1.o} \
+/usr/nto/sh%{!ml:be}%{ml:le}/lib/crti.o \
+/usr/nto/sh%{!ml:be}%{ml:le}/lib/crtbegin.o"
+#endif
+
+#undef	ENDFILE_SPEC
+#ifdef __QNXNTO__
+#define	ENDFILE_SPEC "\
+/sh%{!ml:be}%{ml:le}/lib/crtend.o /sh%{!ml:be}%{ml:le}/lib/crtn.o"
+#elif defined(__sun__)
+#define ENDFILE_SPEC "\
+/opt/QNXsdk/target/qnx6/sh%{!ml:be}%{ml:le}/lib/crtend.o \
+/opt/QNXsdk/target/qnx6/sh%{!ml:be}%{ml:le}/lib/crtn.o"
+#else
+#define	ENDFILE_SPEC "\
+/usr/nto/sh%{!ml:be}%{ml:le}/lib/crtend.o /usr/nto/sh%{!ml:be}%{ml:le}/lib/crtn.o"
+#endif
+
+#undef	ENDFILE_DEFAULT_SPEC
+#define	ENDFILE_DEFAULT_SPEC ""
+
+/* HANDLE_SYSV_PRAGMA (defined by svr4.h) takes precedence over HANDLE_PRAGMA.
+   We want to use the HANDLE_PRAGMA from sh.h.  */
+#undef HANDLE_SYSV_PRAGMA
+/* Make sure we still handle #pragma pack */
+#define HANDLE_PRAGMA_WEAK 1
+#define HANDLE_PRAGMA_PACK 1
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/sh.c gcc/gcc/config/sh/sh.c
--- gcc-2.95.2/gcc/config/sh/sh.c	1999-08-02 15:02:55.000000000 +1000
+++ gcc/gcc/config/sh/sh.c	2001-05-26 03:35:13.000000000 +1000
@@ -35,6 +35,8 @@
 #include "output.h"
 #include "insn-attr.h"
 
+#include "obstack.h"
+
 int code_for_indirect_jump_scratch = CODE_FOR_indirect_jump_scratch;
 
 #define MSW (TARGET_LITTLE_ENDIAN ? 1 : 0)
@@ -108,12 +110,33 @@
   FPSCR_REGS,
 };
 
-char fp_reg_names[][5] =
+char fp_reg_names[][6] =
 {
-  "fr0", "fr1", "fr2", "fr3", "fr4", "fr5", "fr6", "fr7",
-  "fr8", "fr9", "fr10", "fr11", "fr12", "fr13", "fr14", "fr15",
-  "fpul",
-  "xd0","xd2","xd4", "xd6", "xd8", "xd10", "xd12", "xd14",
+  REGISTER_PREFIX "fr0",
+  REGISTER_PREFIX "fr1",
+  REGISTER_PREFIX "fr2",
+  REGISTER_PREFIX "fr3",
+  REGISTER_PREFIX "fr4",
+  REGISTER_PREFIX "fr5",
+  REGISTER_PREFIX "fr6",
+  REGISTER_PREFIX "fr7",
+  REGISTER_PREFIX "fr8",
+  REGISTER_PREFIX "fr9",
+  REGISTER_PREFIX "fr10",
+  REGISTER_PREFIX "fr11",
+  REGISTER_PREFIX "fr12",
+  REGISTER_PREFIX "fr13",
+  REGISTER_PREFIX "fr14",
+  REGISTER_PREFIX "fr15",
+  REGISTER_PREFIX "fpul",
+  REGISTER_PREFIX "xd0",
+  REGISTER_PREFIX "xd2",
+  REGISTER_PREFIX "xd4",
+  REGISTER_PREFIX "xd6",
+  REGISTER_PREFIX "xd8",
+  REGISTER_PREFIX "xd10",
+  REGISTER_PREFIX "xd12",
+  REGISTER_PREFIX "xd14",
 };
 
 /* Provide reg_class from a letter such as appears in the machine
@@ -140,6 +163,8 @@
 
 /* Print the operand address in x to the stream.  */
 
+void output_pic_addr_const PROTO ((FILE *, rtx));
+
 void
 print_operand_address (stream, x)
      FILE *stream;
@@ -170,8 +195,8 @@
 	      int base_num = true_regnum (base);
 	      int index_num = true_regnum (index);
 
-	      fprintf (stream, "@(r0,%s)",
-		       reg_names[MAX (base_num, index_num)]);
+	      fprintf (stream, "@(%sr0,%s)",
+		       REGISTER_PREFIX, reg_names[MAX (base_num, index_num)]);
 	      break;
 	    }
 
@@ -191,7 +216,7 @@
       break;
 
     default:
-      output_addr_const (stream, x);
+      output_pic_addr_const (stream, x);
       break;
     }
 }
@@ -207,7 +232,8 @@
    'R'  print the LSW of a dp value - changes if in little endian
    'S'  print the MSW of a dp value - changes if in little endian
    'T'  print the next word of a dp value - same as 'R' in big endian mode.
-   'o'  output an operator.  */
+   'o'  output an operator.
+   'p'  output REGISTER_PREFIX.  */
 
 void
 print_operand (stream, x, code)
@@ -283,13 +309,23 @@
 	case DIV:   fputs ("div", stream); break;
 	}
       break;
+    case 'p':
+#ifdef REGISTER_PREFIX
+      fputs (REGISTER_PREFIX, stream);
+#endif
+      break;
     default:
       switch (GET_CODE (x))
 	{
 	case REG:
 	  if (REGNO (x) >= FIRST_FP_REG && REGNO (x) <= LAST_FP_REG
 	      && GET_MODE_SIZE (GET_MODE (x)) > 4)
+#ifdef REGISTER_PREFIX
+	    fprintf ((stream), "%sd%s", REGISTER_PREFIX,
+		     reg_names[REGNO (x)]+1+strlen (REGISTER_PREFIX));
+#else
 	    fprintf ((stream), "d%s", reg_names[REGNO (x)]+1);
+#endif
 	  else
 	    fputs (reg_names[REGNO (x)], (stream));
 	  break;
@@ -344,16 +380,17 @@
       else if (bytes == 12)
 	{
 	  tree entry_name;
+	  rtx sym;
 	  rtx func_addr_rtx;
 	  rtx r4 = gen_rtx (REG, SImode, 4);
 	  rtx r5 = gen_rtx (REG, SImode, 5);
 
 	  entry_name = get_identifier ("__movstrSI12_i4");
 
-	  func_addr_rtx
-	    = copy_to_mode_reg (Pmode,
-				gen_rtx_SYMBOL_REF (Pmode,
-						    IDENTIFIER_POINTER (entry_name)));
+	  sym = gen_rtx (SYMBOL_REF, Pmode, IDENTIFIER_POINTER (entry_name));
+	  if (flag_pic)
+	    sym = legitimize_builtin_function_address (sym);
+	  func_addr_rtx = copy_to_mode_reg (Pmode, sym);
 	  force_into (XEXP (operands[0], 0), r4);
 	  force_into (XEXP (operands[1], 0), r5);
 	  emit_insn (gen_block_move_real_i4 (func_addr_rtx));
@@ -362,6 +399,7 @@
       else if (! TARGET_SMALLCODE)
 	{
 	  tree entry_name;
+	  rtx sym;
 	  rtx func_addr_rtx;
 	  int dwords;
 	  rtx r4 = gen_rtx (REG, SImode, 4);
@@ -371,10 +409,10 @@
 	  entry_name = get_identifier (bytes & 4
 				       ? "__movstr_i4_odd"
 				       : "__movstr_i4_even");
-	  func_addr_rtx
-	    = copy_to_mode_reg (Pmode,
-				gen_rtx_SYMBOL_REF (Pmode,
-						    IDENTIFIER_POINTER (entry_name)));
+	  sym = gen_rtx (SYMBOL_REF, Pmode, IDENTIFIER_POINTER (entry_name));
+	  if (flag_pic)
+	    sym = legitimize_builtin_function_address (sym);
+	  func_addr_rtx = copy_to_mode_reg (Pmode, sym);
 	  force_into (XEXP (operands[0], 0), r4);
 	  force_into (XEXP (operands[1], 0), r5);
 
@@ -390,17 +428,17 @@
     {
       char entry[30];
       tree entry_name;
+      rtx sym;
       rtx func_addr_rtx;
       rtx r4 = gen_rtx (REG, SImode, 4);
       rtx r5 = gen_rtx (REG, SImode, 5);
 
       sprintf (entry, "__movstrSI%d", bytes);
       entry_name = get_identifier (entry);
-
-      func_addr_rtx
-	= copy_to_mode_reg (Pmode,
-			    gen_rtx (SYMBOL_REF, Pmode,
-				     IDENTIFIER_POINTER (entry_name)));
+      sym = gen_rtx (SYMBOL_REF, Pmode, IDENTIFIER_POINTER (entry_name));
+      if (flag_pic)
+	sym = legitimize_builtin_function_address (sym);
+      func_addr_rtx = copy_to_mode_reg (Pmode, sym);
       force_into (XEXP (operands[0], 0), r4);
       force_into (XEXP (operands[1], 0), r5);
       emit_insn (gen_block_move_real (func_addr_rtx));
@@ -412,6 +450,7 @@
   if (! TARGET_SMALLCODE)
     {
       tree entry_name;
+      rtx sym;
       rtx func_addr_rtx;
       int final_switch, while_loop;
       rtx r4 = gen_rtx (REG, SImode, 4);
@@ -419,10 +458,10 @@
       rtx r6 = gen_rtx (REG, SImode, 6);
 
       entry_name = get_identifier ("__movstr");
-      func_addr_rtx
-	= copy_to_mode_reg (Pmode,
-			    gen_rtx (SYMBOL_REF, Pmode,
-				     IDENTIFIER_POINTER (entry_name)));
+      sym = gen_rtx (SYMBOL_REF, Pmode, IDENTIFIER_POINTER (entry_name));
+      if (flag_pic)
+	sym = legitimize_builtin_function_address (sym);
+      func_addr_rtx = copy_to_mode_reg (Pmode, sym);
       force_into (XEXP (operands[0], 0), r4);
       force_into (XEXP (operands[1], 0), r5);
 
@@ -466,6 +505,21 @@
 	       && GET_CODE (XEXP (operands[0], 0)) == PLUS
 	       && GET_CODE (XEXP (XEXP (operands[0], 0), 1)) == REG)
 	operands[1] = copy_to_mode_reg (mode, operands[1]);
+#if 1
+      /* These two else-if clauses given by Sebastien Marineau
+	 <sebastien@qnx.com>.  */
+      /* Same case, but the other way around.  */
+      else if (GET_CODE (operands[0]) == REG && REGNO (operands[0]) == 0
+ 	       && GET_CODE (operands[1]) == MEM
+ 	       && GET_CODE (XEXP (operands[1], 0)) == PLUS
+ 	       && GET_CODE (XEXP (XEXP (operands[1], 0), 1)) == REG)
+ 	operands[0] = copy_to_mode_reg (mode, operands[0]);
+      /* This is to prevent a DI move from MACH/MACL to mem.  */
+      else if (mode == DImode && !register_operand (operands[0], mode)
+ 	       && GET_CODE(operands[1]) == REG 
+ 	       && system_reg_operand (operands[1], mode))
+ 	operands[1] = copy_to_mode_reg (mode, operands[1]);
+#endif
     }
 
   return 0;
@@ -674,8 +728,8 @@
      rtx insn;
      rtx op;
 {
-  struct { rtx lab, reg, op; } this;
-  char *jump;
+  struct { rtx lab, reg, op, lab2; } this;
+  const char *jump;
   int far;
   int offset = branch_dest (insn) - insn_addresses[INSN_UID (insn)];
 
@@ -691,7 +745,10 @@
   else
     {
       far = 1;
-      jump = "mov.l	%O0,%1;jmp	@%1";
+      if (flag_pic)
+	jump = "mov.l	%O0,%1;braf	%1";
+      else
+	jump = "mov.l	%O0,%1;jmp	@%1";
     }
   /* If we have a scratch register available, use it.  */
   if (GET_CODE (PREV_INSN (insn)) == INSN
@@ -710,16 +767,29 @@
       if (dbr_sequence_length ())
 	print_slot (final_sequence);
 
-      this.reg = gen_rtx (REG, SImode, 13);
-      output_asm_insn ("mov.l	r13,@-r15", 0);
+      this.reg = gen_rtx_REG (SImode, 13);
+      output_asm_insn ("mov.l	" REGISTER_PREFIX "r13,@-"
+		       REGISTER_PREFIX "r15", 0);
       output_asm_insn (jump, &this.lab);
-      output_asm_insn ("mov.l	@r15+,r13", 0);
+      output_asm_insn ("mov.l	@" REGISTER_PREFIX "r15+,"
+		       REGISTER_PREFIX "r13", 0);
+    }
+  if (flag_pic && far)
+    {
+      this.lab2 = gen_label_rtx ();
+      ASM_OUTPUT_INTERNAL_LABEL (asm_out_file, "L",
+				 CODE_LABEL_NUMBER (this.lab2));
     }
   if (far)
     output_asm_insn (".align	2", 0);
   ASM_OUTPUT_INTERNAL_LABEL (asm_out_file, "L", CODE_LABEL_NUMBER (this.lab));
   this.op = op;
-  output_asm_insn (far ? ".long	%O2" : ".word %O2-%O0", &this.lab);
+  if (flag_pic && far)
+    output_asm_insn (".long	%O2-%O3", &this.lab);
+  else if (far)
+    output_asm_insn (".long	%O2", &this.lab);
+  else
+    output_asm_insn (".word	%O2-%O0", &this.lab);
   return "";
 }
 
@@ -925,6 +995,13 @@
   if (GET_CODE (XEXP (x, 1)) != CONST_INT)
     return SH_DYNAMIC_SHIFT_COST;
 
+  /* patch from Toshi Morita (toshiyasu.morita@hsa.hitachi.com) */
+  /* If we don't catch this case, then init_expmed will cause
+     this function to index past the end of arrays with only
+     MAX_BITS_PER_WORD.  */
+  if (value >= MAX_BITS_PER_WORD)
+    return 100;
+
   /* Otherwise, return the true cost in instructions.  */
   if (GET_CODE (x) == ASHIFTRT)
     {
@@ -1160,6 +1237,7 @@
 expand_ashiftrt (operands)
      rtx *operands;
 {
+  rtx sym;
   rtx wrk;
   char func[18];
   tree func_name;
@@ -1220,8 +1298,10 @@
   emit_move_insn (gen_rtx (REG, SImode, 4), operands[1]);
   sprintf (func, "__ashiftrt_r4_%d", value);
   func_name = get_identifier (func);
-  emit_move_insn (wrk, gen_rtx (SYMBOL_REF, Pmode,
-				IDENTIFIER_POINTER (func_name)));
+  sym = gen_rtx (SYMBOL_REF, Pmode, IDENTIFIER_POINTER (func_name));
+  if (flag_pic)
+    sym = legitimize_builtin_function_address (sym);
+  emit_move_insn (wrk, sym);
   emit_insn (gen_ashrsi3_n (GEN_INT (value), wrk));
   emit_move_insn (operands[0], gen_rtx (REG, SImode, 4));
   return 1;
@@ -1850,6 +1930,24 @@
    this causes us to almost always output constant pools sooner than
    necessary.  */
 
+static int
+plt_ref_equal (rtx x, rtx y)
+{
+  if (flag_pic)
+    {
+      if (GET_CODE (x) == CONST
+	  && GET_CODE (y) == CONST
+	  && GET_CODE (XEXP (x, 0)) == UNSPEC
+	  && GET_CODE (XEXP (y, 0)) == UNSPEC
+	  && (XINT (XEXP (y, 0), 1) == 8)
+	  && (XINT (XEXP (x, 0), 1) == 8)
+	  && rtx_equal_p (XVECEXP (XEXP (x, 0), 0, 0), 
+			  XVECEXP (XEXP (y, 0), 0, 0)))
+	return 1;
+    }
+  return 0;
+}
+
 /* Add a constant to the pool and return its label.  */
 
 static rtx
@@ -1861,6 +1959,13 @@
   int i;
   rtx lab;
 
+  /* The label for pc-rel call using bsrf is always unique.  */
+  if (flag_pic
+      && GET_CODE (x) == CONST
+      && GET_CODE (XEXP (x, 0)) == UNSPEC
+      && (XINT (XEXP (x, 0), 1) == 12))
+    goto new;
+
   /* First see if we've already got it.  */
   for (i = 0; i < pool_size; i++)
     {
@@ -1872,7 +1977,8 @@
 	      if (XINT (x, 3) != XINT (pool_vector[i].value, 3))
 		continue;
 	    }
-	  if (rtx_equal_p (x, pool_vector[i].value))
+	  if (rtx_equal_p (x, pool_vector[i].value)
+	      || plt_ref_equal (x, pool_vector[i].value))
 	    {
 	      lab = 0;
 	      if (! last_value
@@ -1888,6 +1994,7 @@
 	}
     }
 
+ new:
   /* Need a new one.  */
   pool_vector[pool_size].value = x;
   if (last_value && rtx_equal_p (last_value, pool_vector[pool_size - 1].value))
@@ -2703,13 +2810,13 @@
       pat = PATTERN (prev);
       /* If this is a very small table, we want to keep the alignment after
 	 the table to the minimum for proper code alignment.  */
-      return ((TARGET_SMALLCODE
+      return ((TARGET_SMALLCODE || TARGET_SMALLPOOLS
 	       || (XVECLEN (pat, 1) * GET_MODE_SIZE (GET_MODE (pat))
 		   <= 1 << (CACHE_LOG - 2)))
 	      ? 1 : CACHE_LOG);
     }
 
-  if (TARGET_SMALLCODE)
+  if (TARGET_SMALLCODE || TARGET_SMALLPOOLS)
     return 0;
 
   if (! TARGET_SH3 || ! optimize)
@@ -3117,9 +3224,63 @@
 		    }
 		  else
 		    {
-		      lab = add_constant (src, mode, 0);
-		      newsrc = gen_rtx (MEM, mode,
-					gen_rtx (LABEL_REF, VOIDmode, lab));
+		      if (flag_pic && ! TARGET_PSEUDOPIC
+			  && GET_CODE (src) == CONST
+			  && GET_CODE (XEXP (src, 0)) == UNSPEC
+			  && (XINT (XEXP (src, 0), 1) >= 9
+			      && XINT (XEXP (src,0), 1) <= 11))
+			{
+			  if (XINT (XEXP (src,0), 1) != 10)
+			    XINT (XEXP (src, 0), 1) = 8;
+			  lab = add_constant (src, mode, 0);
+			  newsrc = gen_rtx (MEM, mode,
+					    gen_rtx (LABEL_REF, VOIDmode,
+						     lab));
+			  SH_ADDRESSOF_MEMORY (newsrc) = 1;
+			}
+		      else if (flag_pic && ! TARGET_PSEUDOPIC
+			       && GET_CODE (PATTERN (scan)) == PARALLEL
+			       && GET_CODE (src) == CONST 
+			       && GET_CODE (XEXP (src, 0)) == UNSPEC 
+			       && ((XINT (XEXP (src, 0), 1) == 8)
+				   || (XINT (XEXP (src, 0), 1) == 10)))
+			{
+		  	  rtx *patp2, pat2;
+		  	  rtx src2, dst2, new2;
+
+	    		  patp2 = &XVECEXP (PATTERN (scan), 0, 1);
+			  pat2 = *patp2;
+		  	  src2 = SET_SRC (pat2);
+		  	  dst2 = SET_DEST (pat2);
+
+			  lab = add_constant (src, mode, 0);
+			  new2 = gen_rtx (MEM, mode,
+					  gen_rtx (LABEL_REF, VOIDmode,
+						   lab));
+		  	  RTX_UNCHANGING_P (new2) = 1;
+		  	  *patp2 = gen_rtx (SET, VOIDmode, dst2, new2);
+			  newsrc = gen_rtx (MEM, mode,
+					    gen_rtx (LABEL_REF, VOIDmode,
+						     lab));
+			  SH_ADDRESSOF_MEMORY (newsrc) = 1;
+			}
+		      else if(flag_pic && ! TARGET_PSEUDOPIC
+			  && GET_CODE (src) == CONST
+			  && GET_CODE (XEXP (src, 0)) == UNSPEC
+			  && (XINT (XEXP (src, 0), 1) == 12))
+			{
+			  lab = add_constant (src, mode, 0);
+			  newsrc = gen_rtx (MEM, mode,
+					    gen_rtx (LABEL_REF, VOIDmode,
+						     lab));
+			}
+		      else
+			{
+			  lab = add_constant (src, mode, 0);
+			  newsrc = gen_rtx (MEM, mode,
+					    gen_rtx (LABEL_REF, VOIDmode,
+						     lab));
+			}
 		    }
 		  RTX_UNCHANGING_P (newsrc) = 1;
 		  *patp = gen_rtx (SET, VOIDmode, dst, newsrc);
@@ -3473,7 +3634,8 @@
 
 	  ASM_OUTPUT_INTERNAL_LABEL (asm_out_file, "L",
 				     CODE_LABEL_NUMBER (p->label));
-	  output_asm_insn (".long	%O0", &p->value);
+//	  output_asm_insn (".long	%O0", &p->value);
+	  output_asm_insn (".fucked	%O0", &p->value);
 	}
       pool_size = 0;
     }
@@ -3759,7 +3921,32 @@
      that already happens to be at the function start into the prologue.  */
   if (target_flags != save_flags)
     emit_insn (gen_toggle_sz ());
+  if (flag_pic && (regs_ever_live[PIC_OFFSET_TABLE_REGNUM]
+		   || current_function_uses_pic_offset_table))
+    {
+      d++;
+      live_regs_mask |= (1 << PIC_OFFSET_TABLE_REGNUM);
+    }
   push_regs (live_regs_mask, live_regs_mask2);
+
+  if (flag_pic && (regs_ever_live[PIC_OFFSET_TABLE_REGNUM]
+		   || current_function_uses_pic_offset_table))
+    {
+      rtx gotsym, r0_rtx;
+
+      /* This moves _GLOBAL_OFFSET_TABLE_ in the normal pool, to save the
+	 branch on function entry. Sebastien Marineau <sebastien@qnx.com>.  */
+
+      gotsym = gen_rtx_SYMBOL_REF (VOIDmode, "_GLOBAL_OFFSET_TABLE_");
+      gotsym = gen_rtx_UNSPEC (VOIDmode, gen_rtvec (1, gotsym), 10);
+      gotsym = gen_rtx_CONST (VOIDmode, gotsym);
+      r0_rtx = gen_rtx (REG, Pmode, 0);
+      emit_move_insn (r0_rtx, gotsym);
+      emit_move_insn (pic_offset_table_rtx, gotsym);
+      emit_insn (gen_addsi3 (pic_offset_table_rtx, pic_offset_table_rtx,
+			    r0_rtx));
+    }
+
   if (target_flags != save_flags)
     emit_insn (gen_toggle_sz ());
 
@@ -3815,6 +4002,9 @@
 
   if (target_flags != save_flags)
     emit_insn (gen_toggle_sz ());
+  if (flag_pic && (regs_ever_live[PIC_OFFSET_TABLE_REGNUM]
+		   || current_function_uses_pic_offset_table))
+    live_regs_mask |= (1 << PIC_OFFSET_TABLE_REGNUM);
   if (live_regs_mask & (1 << PR_REG))
     pop (PR_REG);
   for (i = 0; i < FIRST_PSEUDO_REGISTER; i++)
@@ -3940,6 +4130,13 @@
 
   int live_regs_mask, live_regs_mask2;
   live_regs_mask = calc_live_regs (&regs_saved, &live_regs_mask2);
+  /* PIC register is a fixed reg, so call_used_regs set.  */
+  if (flag_pic && (regs_ever_live[PIC_OFFSET_TABLE_REGNUM]
+		   || current_function_uses_pic_offset_table))
+    {
+      regs_saved++;
+      live_regs_mask |= (1 << PIC_OFFSET_TABLE_REGNUM);
+    }
   if (TARGET_ALIGN_DOUBLE && regs_saved & 1)
     total_auto_space += 4;
   target_flags = save_flags;
@@ -4262,6 +4459,22 @@
   return 0;
 }
 
+/* Returns 1 if OP is a valid source operand for a compare insn.  */
+
+int
+arith_reg_or_const_operand (op, mode)
+     rtx op;
+     enum machine_mode mode;
+{
+  if (arith_reg_operand (op, mode))
+    return 1;
+
+  if (GET_CODE (op) == CONST_INT && CONST_OK_FOR_I (INTVAL (op)))
+    return 1;
+
+  return 0;
+}
+
 /* Returns 1 if OP is a valid source operand for a logical operation.  */
 
 int
@@ -4516,13 +4729,19 @@
   if (! TARGET_FPU_SINGLE && ! reload_in_progress)
     {
       addr = gen_reg_rtx (SImode);
-      emit_insn (gen_fpu_switch0 (addr));
+      if (flag_pic)
+	emit_insn (gen_pic_fpu_switch0 (addr));
+      else
+	emit_insn (gen_fpu_switch0 (addr));
     }
   emit_insn (pat);
   if (! TARGET_FPU_SINGLE && ! reload_in_progress)
     {
       addr = gen_reg_rtx (SImode);
-      emit_insn (gen_fpu_switch1 (addr));
+      if (flag_pic)
+	emit_insn (gen_pic_fpu_switch1 (addr));
+      else
+	emit_insn (gen_fpu_switch1 (addr));
     }
 }
 
@@ -4534,12 +4753,18 @@
   if (TARGET_FPU_SINGLE && ! reload_in_progress)
     {
       addr = gen_reg_rtx (SImode);
-      emit_insn (gen_fpu_switch0 (addr));
+      if (flag_pic)
+	emit_insn (gen_pic_fpu_switch0 (addr));
+      else
+	emit_insn (gen_fpu_switch0 (addr));
     }
   emit_insn (pat);
   if (TARGET_FPU_SINGLE && ! reload_in_progress)
     {
       addr = gen_reg_rtx (SImode);
+      if (flag_pic)
+	emit_insn (gen_pic_fpu_switch1 (addr));
+      else
       emit_insn (gen_fpu_switch1 (addr));
     }
 }
@@ -4786,3 +5011,387 @@
     }
   return 0;
 }
+
+/* Return TRUE if X references a SYMBOL_REF whose symbol doesn't have
+   @GOT or @GOTOFF.  */
+int
+nonpic_symbol_mentioned_p (x)
+     rtx x;
+{
+  register char *fmt;
+  register int i;
+
+//  if (GET_CODE (x) == SYMBOL_REF)
+  if (GET_CODE (x) == SYMBOL_REF||GET_CODE (x) == LABEL_REF)
+    {
+      char *p = XSTR (x, 0);
+      if (index (p, '@'))
+	return 0;
+      return 1;
+    }
+
+  if (GET_CODE (x) == UNSPEC)
+    return 0;
+
+  fmt = GET_RTX_FORMAT (GET_CODE (x));
+  for (i = GET_RTX_LENGTH (GET_CODE (x)) - 1; i >= 0; i--)
+    {
+      if (fmt[i] == 'E')
+	{
+	  register int j;
+
+	  for (j = XVECLEN (x, i) - 1; j >= 0; j--)
+	    if (nonpic_symbol_mentioned_p (XVECEXP (x, i, j)))
+	      return 1;
+	}
+      else if (fmt[i] == 'e' && nonpic_symbol_mentioned_p (XEXP (x, i)))
+	return 1;
+    }
+
+  return 0;
+}
+
+rtx
+legitimize_function_address (mode, orig, lab)
+     enum machine_mode mode;
+     rtx orig, lab;
+{
+
+  if (flag_pic && GET_CODE (orig) == SYMBOL_REF)
+    {
+      rtx reg, new;
+      static int seq_num = 0;
+
+      reg = gen_reg_rtx (mode);
+
+      if (TARGET_PREFERGOT && !SYMBOL_REF_FLAG(orig) && lab == 0)
+        {
+	  return legitimize_pic_address (orig, mode, reg);
+        }
+      else if (! TARGET_PSEUDOPIC && lab)
+	{
+	  rtx newa, r0_rtx;
+	  rtx plt_ref;
+
+	  LABEL_NUSES (lab)++;
+	  LABEL_PRESERVE_P (lab) = 1;
+
+	  seq_num++;
+          new = gen_rtx_UNSPEC (VOIDmode,
+				gen_rtvec (3, orig, GEN_INT (seq_num), lab),
+				12);
+          new = gen_rtx_CONST (VOIDmode, new);
+	  plt_ref = gen_reg_rtx (Pmode);
+	  emit_insn (gen_movsi_ie (plt_ref, new));
+	  plt_ref = emit_move_insn (reg, plt_ref);
+	  current_function_uses_pic_offset_table = 1;
+	}
+      else if (! TARGET_PSEUDOPIC)
+	{
+	  rtx newa, r0_rtx;
+	  rtx plt_ref;
+
+	  /* Generate different sequence number for each plt ref, to 
+	     stop CSE on the results of the mov.l and mova from the @PLT
+	     label.  */
+	  seq_num++;
+	  new = gen_rtx_UNSPEC (VOIDmode,
+				gen_rtvec (2, orig, GEN_INT (seq_num)), 8);
+	  new = gen_rtx_CONST (VOIDmode, new);
+	  newa = gen_rtx_UNSPEC (VOIDmode,
+				 gen_rtvec (2, orig, GEN_INT (seq_num)), 9);
+	  newa = gen_rtx_CONST (VOIDmode, newa);
+
+	  r0_rtx = gen_rtx (REG, Pmode, 0);
+	  plt_ref = gen_reg_rtx (Pmode);
+	  emit_insn (gen_mov_plt_addrs (new, plt_ref, newa));
+
+	  plt_ref = gen_rtx_PLUS (Pmode, plt_ref, r0_rtx);
+	  RTX_UNCHANGING_P (plt_ref) = 1;
+
+	  plt_ref = emit_move_insn (reg, plt_ref);
+
+	  /* Add a REG_EQUAL note to the result of the add, so the
+	     compiler can do CSE with the proper address of the call.  */
+          REG_NOTES (plt_ref) =
+	    gen_rtx_EXPR_LIST (REG_EQUAL, 
+			       gen_rtx_UNSPEC (VOIDmode,
+					       gen_rtvec(1, orig), 8), 
+			       REG_NOTES (plt_ref));
+
+	  current_function_uses_pic_offset_table = 1;
+	}
+      else
+	{
+          new = gen_rtx_UNSPEC (VOIDmode, gen_rtvec (1, orig), 8);
+          new = gen_rtx_CONST (VOIDmode, new);
+	  emit_move_insn (reg, new);
+	}
+
+      return reg;
+    }
+  else
+    return force_reg (mode, orig);
+}
+
+rtx
+legitimize_builtin_function_address (orig)
+     rtx orig;
+{
+  rtx new;
+#if 0
+  new = gen_rtx_UNSPEC (VOIDmode, gen_rtvec (1, orig), 13);
+  return gen_rtx_CONST (VOIDmode, new);
+#else
+  return legitimize_function_address (SImode, orig, 0);
+#endif
+}
+
+rtx
+legitimize_pic_address (orig, mode, reg)
+     rtx orig;
+     enum machine_mode mode;
+     rtx reg;
+{
+  if (GET_CODE (orig) == LABEL_REF
+	   || (GET_CODE (orig) == SYMBOL_REF
+	       && (CONSTANT_POOL_ADDRESS_P (orig)
+		   || SYMBOL_REF_FLAG (orig))))
+    {
+      rtx new, address, pic_ref;
+
+      if (reg == 0)
+	{
+	  if (reload_in_progress || reload_completed)
+	    abort ();
+	  else
+	    reg = gen_reg_rtx (Pmode);
+	}
+
+      address = gen_reg_rtx (Pmode);
+
+      new = gen_rtx_UNSPEC (VOIDmode, gen_rtvec (1, orig), 7);
+      new = gen_rtx_CONST (VOIDmode, new);
+      emit_move_insn (address, new);
+
+      emit_move_insn (reg, pic_offset_table_rtx);
+
+      pic_ref = gen_rtx_PLUS (Pmode, address, reg);
+      RTX_UNCHANGING_P (pic_ref) = 1;
+      emit_move_insn (reg, pic_ref);
+
+      current_function_uses_pic_offset_table = 1;
+
+      return reg;
+    }
+  else if (GET_CODE (orig) == SYMBOL_REF)
+    {
+      rtx new, pic_ref, address;
+
+      if (reg == 0)
+	{
+	  if (reload_in_progress || reload_completed)
+	    abort ();
+	  else
+	    reg = gen_reg_rtx (Pmode);
+	}
+
+      address = gen_reg_rtx (Pmode);
+
+      new = gen_rtx_UNSPEC (VOIDmode, gen_rtvec (1, orig), 6);
+      new = gen_rtx_CONST (VOIDmode, new);
+      emit_move_insn (address, new);
+
+      emit_move_insn (reg, pic_offset_table_rtx);
+
+      pic_ref = gen_rtx_MEM (Pmode,
+			     gen_rtx_PLUS (Pmode, address, reg));
+      RTX_UNCHANGING_P (pic_ref) = 1;
+      emit_move_insn (reg, pic_ref);
+
+      current_function_uses_pic_offset_table = 1;
+
+      return reg;
+    }
+  return orig;
+}
+
+/* Emit insns to move operands[1] into operands[0].  */
+void
+emit_pic_move (operands, mode)
+     rtx *operands;
+     enum machine_mode mode ATTRIBUTE_UNUSED;
+{
+  rtx temp = reload_in_progress ? operands[0] : gen_reg_rtx (Pmode);
+
+  if (GET_CODE (operands[0]) == MEM && SYMBOLIC_CONST (operands[1]))
+    operands[1] = force_reg (Pmode, operands[1]);
+  else
+    operands[1] = legitimize_pic_address (operands[1], SImode, temp);
+}
+
+void
+emit_pic_const_move (operands, mode)
+     rtx *operands;
+     enum machine_mode mode ATTRIBUTE_UNUSED;
+{
+  rtx op1 = operands[1];
+  rtx cst;
+
+  if (GET_CODE (XEXP (op1, 0)) == PLUS)
+    {
+      cst = XEXP (op1, 0);
+      if (SYMBOLIC_CONST (XEXP (cst, 0)))
+	{
+	  rtx temp = gen_reg_rtx (Pmode);
+	  temp = legitimize_pic_address (XEXP (cst, 0), SImode, temp);
+	  operands[1] = expand_binop (SImode, add_optab, temp, XEXP (cst, 1),
+				      gen_reg_rtx (Pmode), 0, OPTAB_LIB_WIDEN);
+	}
+    }
+}
+
+void
+output_pic_addr_const (file, x)
+     FILE *file;
+     rtx x;
+{
+  char buf[256];
+
+  switch (GET_CODE (x))
+    {
+    case PC:
+      if (flag_pic)
+	putc ('.', file);
+      else
+	abort ();
+      break;
+
+    case SYMBOL_REF:
+      assemble_name (file, XSTR (x, 0));
+      break;
+
+    case LABEL_REF:
+      x = XEXP (x, 0);
+      /* FALLTHRU */
+    case CODE_LABEL:
+      ASM_GENERATE_INTERNAL_LABEL (buf, "L", CODE_LABEL_NUMBER (x));
+      assemble_name (asm_out_file, buf);
+      break;
+
+    case CONST:
+      output_pic_addr_const (file, XEXP (x, 0));
+      break;
+
+    case CONST_INT:
+      fprintf (file, HOST_WIDE_INT_PRINT_DEC, INTVAL (x));
+      break;
+
+    case CONST_DOUBLE:
+      if (GET_MODE (x) == VOIDmode)
+	{
+	  /* We can use %d if the number is <32 bits and positive.  */
+	  if (CONST_DOUBLE_HIGH (x) || CONST_DOUBLE_LOW (x) < 0)
+	    fprintf (file, "0x%lx%08lx",
+		     (unsigned long) CONST_DOUBLE_HIGH (x),
+		     (unsigned long) CONST_DOUBLE_LOW (x));
+	  else
+	    fprintf (file, HOST_WIDE_INT_PRINT_DEC, CONST_DOUBLE_LOW (x));
+	}
+      else
+	/* We can't handle floating point constants;
+	   PRINT_OPERAND must handle them.  */
+	output_operand_lossage ("floating constant misused");
+      break;
+
+    case PLUS:
+      /* Some assemblers need integer constants to appear first.  */
+      if (GET_CODE (XEXP (x, 0)) == CONST_INT)
+	{
+	  output_pic_addr_const (file, XEXP (x, 0));
+	  fprintf (file, "+");
+	  output_pic_addr_const (file, XEXP (x, 1));
+	}
+      else if (GET_CODE (XEXP (x, 1)) == CONST_INT)
+	{
+	  output_pic_addr_const (file, XEXP (x, 1));
+	  fprintf (file, "+");
+	  output_pic_addr_const (file, XEXP (x, 0));
+	}
+      else
+	abort ();
+      break;
+
+    case MINUS:
+      output_pic_addr_const (file, XEXP (x, 0));
+      fprintf (file, "-");
+      if (GET_CODE (XEXP (x, 1)) == CONST)
+	{
+	  putc ('(', file);
+	  output_pic_addr_const (file, XEXP (x, 1));
+	  putc (')', file);
+	}
+      else
+	output_pic_addr_const (file, XEXP (x, 1));
+      break;
+
+    case UNSPEC:
+      if ((XVECLEN (x, 0)) > 3)
+ 	abort ();
+      if (XINT (x, 1) == 12)
+        {
+          output_pic_addr_const (file, XVECEXP (x, 0, 0));
+	  fputs ("@PLT", file);
+ 	  fputs ("+", file);
+ 	  fputs (".-2-", file);
+          output_pic_addr_const (file, XVECEXP (x, 0, 2));
+	  break;
+        }
+      output_pic_addr_const (file, XVECEXP (x, 0, 0));
+      switch (XINT (x, 1))
+ 	{
+ 	case 6:
+ 	  fputs ("@GOT", file);
+ 	  break;
+ 	case 7:
+ 	  fputs ("@GOTOFF", file);
+ 	  break;
+ 	case 8:
+ 	case 9:
+ 	  if (! TARGET_PSEUDOPIC)
+	    fputs ("@PLT", file);
+	  break;
+	case 10:
+	case 11:
+	  /* _GLOBAL_OFFSET_TABLE_ reference */
+	  break;
+	case 13:
+	  break;
+ 	default:
+ 	  output_operand_lossage ("invalid UNSPEC as operand");
+ 	  break;
+ 	}
+      break;
+
+    default:
+      output_operand_lossage ("invalid expression as operand");
+    }
+}
+
+void gen_sh_got_restore(void)
+{
+  if (flag_pic && (regs_ever_live[PIC_OFFSET_TABLE_REGNUM]
+		   || current_function_uses_pic_offset_table))
+    {
+      rtx gotsym, r0_rtx;
+
+      gotsym = gen_rtx_SYMBOL_REF (VOIDmode, "_GLOBAL_OFFSET_TABLE_");
+      gotsym = gen_rtx_UNSPEC (VOIDmode, gen_rtvec (1, gotsym), 10);
+      gotsym = gen_rtx_CONST (VOIDmode, gotsym);
+      r0_rtx = gen_rtx (REG, Pmode, 0);
+      emit_move_insn (r0_rtx, gotsym);
+      emit_move_insn (pic_offset_table_rtx, gotsym);
+      emit_insn (gen_addsi3 (pic_offset_table_rtx, pic_offset_table_rtx,
+			    r0_rtx));
+    }
+}
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/sh.h gcc/gcc/config/sh/sh.h
--- gcc-2.95.2/gcc/config/sh/sh.h	1999-08-02 15:02:55.000000000 +1000
+++ gcc/gcc/config/sh/sh.h	2001-03-01 05:24:47.000000000 +1000
@@ -75,6 +75,11 @@
 	    }								\
 	}								\
     }									\
+  if (flag_pic)								\
+    {									\
+      fixed_regs[PIC_OFFSET_TABLE_REGNUM] = 1;				\
+      call_used_regs[PIC_OFFSET_TABLE_REGNUM] = 1;			\
+    }									\
   /* Hitachi saves and restores mac registers on call.  */		\
   if (TARGET_HITACHI)							\
     {									\
@@ -102,6 +107,10 @@
 #define BIGTABLE_BIT  	(1<<14)
 #define RELAX_BIT	(1<<15)
 #define HITACHI_BIT     (1<<22)
+#define USERMODE_BIT	(1<<24)
+#define SMALLPOOLS_BIT	(1<<25)
+#define PREFERGOT_BIT	(1<<26)
+#define PSEUDOPIC_BIT	(1<<27)
 #define PADSTRUCT_BIT  (1<<28)
 #define LITTLE_ENDIAN_BIT (1<<29)
 #define IEEE_BIT (1<<30)
@@ -171,6 +180,18 @@
 /* Nonzero if generating code for a little endian SH.  */
 #define TARGET_LITTLE_ENDIAN     (target_flags & LITTLE_ENDIAN_BIT)
 
+/* Nonzero if we should do everything in userland.  */
+#define TARGET_USERMODE		(target_flags & USERMODE_BIT)
+
+/* Nonzero if we should prefer @GOT calls when generating PIC.  */
+#define TARGET_PREFERGOT	(target_flags & PREFERGOT_BIT)
+
+/* Nonzero if we should generate smaller code rather than faster code.  */
+#define TARGET_SMALLPOOLS	(target_flags & (SPACE_BIT | SMALLPOOLS_BIT))
+
+/* Nonzero if generating pseudo PIC.  */
+#define TARGET_PSEUDOPIC	(target_flags & PSEUDOPIC_BIT)
+
 #define TARGET_SWITCHES  			\
 { {"1",	        SH1_BIT},			\
   {"2",	        SH2_BIT},			\
@@ -189,6 +210,10 @@
   {"l",		LITTLE_ENDIAN_BIT},  		\
   {"no-ieee",  	-IEEE_BIT},			\
   {"padstruct", PADSTRUCT_BIT},    		\
+  {"usermode",	USERMODE_BIT},			\
+  {"smallpools",SMALLPOOLS_BIT},		\
+  {"prefergot",	PREFERGOT_BIT},			\
+  {"pseudopic",	PSEUDOPIC_BIT},			\
   {"relax",	RELAX_BIT},			\
   {"space", 	SPACE_BIT},			\
   SUBTARGET_SWITCHES                            \
@@ -256,6 +281,19 @@
   sh_addr_diff_vec_mode = TARGET_BIGTABLE ? SImode : HImode;		\
 } while (0)
 
+/* Nonzero if PIC code requires explicit qualifiers to generate
+   PLT and GOT relocs rather than the assembler doing so implicitly.
+   Subtargets can override this if required.  */
+#ifndef NEED_PLT_GOT
+#define NEED_PLT_GOT	1
+#endif
+
+/* Nonzero if we need to refer to the GOT with a PC-relative
+   offset. Subtargets can override this if required.  */
+#ifndef GOT_PCREL
+#define GOT_PCREL   1
+#endif
+
 /* Target machine storage layout.  */
 
 /* Define to use software floating point emulator for REAL_ARITHMETIC and
@@ -354,7 +392,7 @@
   barrier_align (LABEL_AFTER_BARRIER)
 
 #define LOOP_ALIGN(A_LABEL) \
-  ((! optimize || TARGET_HARWARD || TARGET_SMALLCODE) ? 0 : 2)
+  ((! optimize || TARGET_HARWARD || TARGET_SMALLCODE || TARGET_SH3) ? 0 : 2)
 
 #define LABEL_ALIGN(A_LABEL) \
 (									\
@@ -531,6 +569,10 @@
    current function's return address.  */
 #define RETURN_ADDRESS_POINTER_REGNUM 23
 
+/* Register to hold the addressing base for position independent
+   code access to data items.  */
+#define PIC_OFFSET_TABLE_REGNUM	12
+
 /* Value should be nonzero if functions must have frame pointers.
    Zero means the frame pointer need not be set up (and parms may be accessed
    via the stack pointer) in functions that seem suitable.  */
@@ -1138,7 +1180,13 @@
   emit_move_insn (gen_rtx (MEM, SImode, plus_constant ((TRAMP), 12)),	\
 		  (FNADDR));						\
   if (TARGET_HARWARD)							\
-    emit_insn (gen_ic_invalidate_line (TRAMP));				\
+    {									\
+      if (TARGET_USERMODE)						\
+	emit_library_call (gen_rtx_SYMBOL_REF (Pmode, "__ic_invalidate"),\
+			   0, VOIDmode, 1, (TRAMP), SImode);		\
+      else								\
+	emit_insn (gen_ic_invalidate_line (TRAMP));			\
+    }									\
 }
 
 /* A C expression whose value is RTL representing the value of the return
@@ -1242,18 +1290,29 @@
 
 #endif
 
+/* XXX Bad use of call flag to other purposes.  */
+#define SH_ADDRESSOF_MEMORY(OP)		((OP)->call)
+
 /* The 'Q' constraint is a pc relative load operand.  */
 #define EXTRA_CONSTRAINT_Q(OP)                          		\
-  (GET_CODE (OP) == MEM && 						\
+  (GET_CODE (OP) == MEM && SH_ADDRESSOF_MEMORY (OP) == 0 &&		\
    ((GET_CODE (XEXP ((OP), 0)) == LABEL_REF)				\
     || (GET_CODE (XEXP ((OP), 0)) == CONST                		\
 	&& GET_CODE (XEXP (XEXP ((OP), 0), 0)) == PLUS 			\
 	&& GET_CODE (XEXP (XEXP (XEXP ((OP), 0), 0), 0)) == LABEL_REF	\
 	&& GET_CODE (XEXP (XEXP (XEXP ((OP), 0), 0), 1)) == CONST_INT)))
 
+/* The 'R' constraint is a pc relative load address (mova) operand.
+   SH_ADDRESSOF_MEMORY is set in machine_dependent_reorg in sh.c when
+   @PLT symbol is found.  */
+#define EXTRA_CONSTRAINT_R(OP)                          		\
+  (GET_CODE (OP) == MEM 						\
+   && GET_CODE (XEXP ((OP), 0)) == LABEL_REF				\
+   && SH_ADDRESSOF_MEMORY (OP) != 0)
+
 #define EXTRA_CONSTRAINT(OP, C)		\
-  ((C) == 'Q' ? EXTRA_CONSTRAINT_Q (OP)	\
-   : 0)
+  ((C) == 'R' ? EXTRA_CONSTRAINT_R (OP)	\
+   : (C) == 'Q' ? EXTRA_CONSTRAINT_Q (OP) : 0)
 
 /* GO_IF_LEGITIMATE_ADDRESS recognizes an RTL expression
    that is a valid memory address for an instruction.
@@ -1358,8 +1417,11 @@
    out of range, convert it into a normal form so that cse has a chance
    of reducing the number of address registers used.  */
 
+extern struct rtx_def *legitimize_pic_address ();
 #define LEGITIMIZE_ADDRESS(X,OLDX,MODE,WIN)			\
 {								\
+  if (flag_pic)							\
+    (X) = legitimize_pic_address (OLDX, MODE, NULL_RTX);	\
   if (GET_CODE (X) == PLUS					\
       && (GET_MODE_SIZE (MODE) == 4				\
 	  || GET_MODE_SIZE (MODE) == 8)				\
@@ -1482,6 +1544,9 @@
   if (GET_CODE(ADDR) == PRE_DEC || GET_CODE(ADDR) == POST_INC)		\
     goto LABEL;								\
 }
+
+extern struct rtx_def *legitimize_function_address ();
+extern struct rtx_def *legitimize_builtin_function_address ();
 
 /* Specify the machine mode that this machine uses
    for the index in the tablejump instruction.  */
@@ -1512,6 +1577,7 @@
 #define DOUBLE_TYPE_SIZE ((TARGET_SH3E && ! TARGET_SH4) ? 32 : 64)
 
 /* 'char' is signed by default.  */
+#undef DEFAULT_SIGNED_CHAR
 #define DEFAULT_SIGNED_CHAR  1
 
 /* The type of size_t unsigned int.  */
@@ -1579,7 +1645,7 @@
    shouldn't be put through pseudo regs where they can be cse'd.
    Desirable on machines where ordinary constants are expensive
    but a CALL with constant address is cheap.  */
-/*#define NO_FUNCTION_CSE 1*/
+#define NO_FUNCTION_CSE 1
 
 /* Chars and shorts should be passed as ints.  */
 #define PROMOTE_PROTOTYPES 1
@@ -1670,6 +1736,61 @@
    the same cost.  */
 /* ??? Perhaps we should make reg+reg addresses have higher cost because
    they add to register pressure on r0.  */
+
+/* Position Independent Code.  */
+/* Define this macro if references to a symbol must be treated
+   differently depending on something about the variable or
+   function named by the symbol (such as what section it is in).
+
+   On SH, if using PIC, mark a SYMBOL_REF for a non-global symbol
+   so that we may access it directly in the GOT and mark specially
+   a SYMBOL_REF for a function symbol.
+
+   FIXME!!  The call flag is badly used for the latter marking,
+   though the call flag is the flag for the other purpose. This isn't
+   a problem in current SH, since its symbol references apear in pseudo
+   instructions only at the instruction level.  */
+
+#define ENCODE_SECTION_INFO(DECL) \
+do									\
+  {									\
+    if (flag_pic)							\
+      {									\
+	rtx rtl = (TREE_CODE_CLASS (TREE_CODE (DECL)) != 'd'		\
+		   ? TREE_CST_RTL (DECL) : DECL_RTL (DECL));		\
+									\
+	SYMBOL_REF_FLAG (XEXP (rtl, 0)) =				\
+	  (TREE_CODE_CLASS (TREE_CODE (DECL)) != 'd'			\
+	   || ! TREE_PUBLIC (DECL));					\
+      }									\
+  }									\
+while (0)
+
+#define FINALIZE_PIC							\
+do									\
+  {									\
+    extern int current_function_uses_pic_offset_table;			\
+									\
+    current_function_uses_pic_offset_table |= profile_flag | profile_block_flag; \
+  }									\
+while (0)
+
+/* We can't directly access anything that contains a symbol,
+   nor can we indirect via the constant pool.  */
+#define LEGITIMATE_PIC_OPERAND_P(X)				\
+	(! nonpic_symbol_mentioned_p (X)			\
+	 && (! CONSTANT_POOL_ADDRESS_P (X)			\
+	     || ! nonpic_symbol_mentioned_p (get_pool_constant (X))))
+
+#define SYMBOLIC_CONST(X)	\
+((GET_CODE (X) == SYMBOL_REF || GET_CODE (X) == LABEL_REF)	\
+  && nonpic_symbol_mentioned_p (X))
+
+/* We need to know when we are making a constant pool; this determines
+   whether data needs to be in the GOT or can be referenced via a GOT
+   offset.  */
+// extern int making_const_table;
+
 
 #define ADDRESS_COST(RTX) 1
 
@@ -1795,42 +1916,119 @@
     }						\
 }
 
+#ifndef REGISTER_PREFIX
+#define REGISTER_PREFIX ""
+#endif
+
+#ifdef REGISTER_PREFIX
+#define ASM_OUTPUT_REG_PUSH(file, v) \
+  fprintf ((file), "\tmov.l\t%sr%s,-@%sr15\n", \
+	   REGISTER_PREFIX, (v), REGISTER_PREFIX);
+
+#define ASM_OUTPUT_REG_POP(file, v) \
+  fprintf ((file), "\tmov.l\t@%sr15+,%sr%s\n", \
+	   REGISTER_PREFIX, REGISTER_PREFIX, (v));
+#else
 #define ASM_OUTPUT_REG_PUSH(file, v) \
   fprintf ((file), "\tmov.l\tr%s,-@r15\n", (v));
 
 #define ASM_OUTPUT_REG_POP(file, v) \
   fprintf ((file), "\tmov.l\t@r15+,r%s\n", (v));
+#endif
 
 /* The assembler's names for the registers.  RFP need not always be used as
    the Real framepointer; it can also be used as a normal general register.
    Note that the name `fp' is horribly misleading since `fp' is in fact only
    the argument-and-return-context pointer.  */
 
-extern char fp_reg_names[][5];
+extern char fp_reg_names[][6];
 
-#define REGISTER_NAMES  				\
-{				                   	\
-  "r0", "r1", "r2",  "r3",  "r4",  "r5",  "r6",  "r7", 	\
-  "r8", "r9", "r10", "r11", "r12", "r13", "r14", "r15",	\
-  "ap", "pr", "t",   "gbr", "mach","macl", fp_reg_names[16], "rap", \
+#define REGISTER_NAMES  \
+{			\
+  REGISTER_PREFIX "r0", \
+  REGISTER_PREFIX "r1", \
+  REGISTER_PREFIX "r2", \
+  REGISTER_PREFIX "r3", \
+  REGISTER_PREFIX "r4", \
+  REGISTER_PREFIX "r5", \
+  REGISTER_PREFIX "r6", \
+  REGISTER_PREFIX "r7", \
+  REGISTER_PREFIX "r8", \
+  REGISTER_PREFIX "r9", \
+  REGISTER_PREFIX "r10", \
+  REGISTER_PREFIX "r11", \
+  REGISTER_PREFIX "r12", \
+  REGISTER_PREFIX "r13", \
+  REGISTER_PREFIX "r14", \
+  REGISTER_PREFIX "r15", \
+  REGISTER_PREFIX "ap", \
+  REGISTER_PREFIX "pr", \
+  REGISTER_PREFIX "t", \
+  REGISTER_PREFIX "gbr", \
+  REGISTER_PREFIX "mach", \
+  REGISTER_PREFIX "macl", \
+  fp_reg_names[16], \
+  REGISTER_PREFIX "rap", \
   fp_reg_names[0],  fp_reg_names[1] , fp_reg_names[2],  fp_reg_names[3], \
   fp_reg_names[4],  fp_reg_names[5],  fp_reg_names[6],  fp_reg_names[7], \
   fp_reg_names[8],  fp_reg_names[9],  fp_reg_names[10], fp_reg_names[11], \
   fp_reg_names[12], fp_reg_names[13], fp_reg_names[14], fp_reg_names[15], \
   fp_reg_names[17], fp_reg_names[18], fp_reg_names[19], fp_reg_names[20], \
   fp_reg_names[21], fp_reg_names[22], fp_reg_names[23], fp_reg_names[24], \
-  "fpscr", \
+  REGISTER_PREFIX "fpscr", \
 }
 
-#define DEBUG_REGISTER_NAMES  				\
-{				                   	\
-  "r0", "r1", "r2",  "r3",  "r4",  "r5",  "r6",  "r7", 	\
-  "r8", "r9", "r10", "r11", "r12", "r13", "r14", "r15",	\
-  "ap", "pr", "t",  "gbr", "mach","macl", "fpul","rap", \
-  "fr0","fr1","fr2", "fr3", "fr4", "fr5", "fr6", "fr7", \
-  "fr8","fr9","fr10","fr11","fr12","fr13","fr14","fr15",\
-  "xd0","xd2","xd4", "xd6", "xd8", "xd10","xd12","xd14", \
-  "fpscr", \
+#define DEBUG_REGISTER_NAMES	\
+{			       	\
+  REGISTER_PREFIX "r0", \
+  REGISTER_PREFIX "r1", \
+  REGISTER_PREFIX "r2", \
+  REGISTER_PREFIX "r3", \
+  REGISTER_PREFIX "r4", \
+  REGISTER_PREFIX "r5", \
+  REGISTER_PREFIX "r6", \
+  REGISTER_PREFIX "r7", \
+  REGISTER_PREFIX "r8", \
+  REGISTER_PREFIX "r9", \
+  REGISTER_PREFIX "r10", \
+  REGISTER_PREFIX "r11", \
+  REGISTER_PREFIX "r12", \
+  REGISTER_PREFIX "r13", \
+  REGISTER_PREFIX "r14", \
+  REGISTER_PREFIX "r15", \
+  REGISTER_PREFIX "ap", \
+  REGISTER_PREFIX "pr", \
+  REGISTER_PREFIX "t", \
+  REGISTER_PREFIX "gbr", \
+  REGISTER_PREFIX "mach", \
+  REGISTER_PREFIX "macl", \
+  REGISTER_PREFIX "fpul", \
+  REGISTER_PREFIX "rap", \
+  REGISTER_PREFIX "fr0", \
+  REGISTER_PREFIX "fr1", \
+  REGISTER_PREFIX "fr2", \
+  REGISTER_PREFIX "fr3", \
+  REGISTER_PREFIX "fr4", \
+  REGISTER_PREFIX "fr5", \
+  REGISTER_PREFIX "fr6", \
+  REGISTER_PREFIX "fr7", \
+  REGISTER_PREFIX "fr8", \
+  REGISTER_PREFIX "fr9", \
+  REGISTER_PREFIX "fr10", \
+  REGISTER_PREFIX "fr11", \
+  REGISTER_PREFIX "fr12", \
+  REGISTER_PREFIX "fr13", \
+  REGISTER_PREFIX "fr14", \
+  REGISTER_PREFIX "fr15", \
+  REGISTER_PREFIX "xd0", \
+  REGISTER_PREFIX "xd2", \
+  REGISTER_PREFIX "xd4", \
+  REGISTER_PREFIX "xd6", \
+  REGISTER_PREFIX "xd8", \
+  REGISTER_PREFIX "xd10", \
+  REGISTER_PREFIX "xd12", \
+  REGISTER_PREFIX "xd14", \
+  REGISTER_PREFIX "fpscr", \
 }
 
 /* DBX register number for a given compiler register number.  */
@@ -1927,12 +2125,12 @@
 
 #define ASM_OUTPUT_INT(STREAM, EXP)		\
   (fprintf ((STREAM), "\t.long\t"),      	\
-   output_addr_const ((STREAM), (EXP)),  	\
+   output_pic_addr_const ((STREAM), (EXP)),  	\
    fputc ('\n', (STREAM)))
 
 #define ASM_OUTPUT_SHORT(STREAM, EXP)	\
   (fprintf ((STREAM), "\t.short\t"),	\
-   output_addr_const ((STREAM), (EXP)),	\
+   output_pic_addr_const ((STREAM), (EXP)),	\
    fputc ('\n', (STREAM)))
 
 #define ASM_OUTPUT_CHAR(STREAM, EXP)		\
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/sh.md gcc/gcc/config/sh/sh.md
--- gcc-2.95.2/gcc/config/sh/sh.md	1999-08-02 15:02:55.000000000 +1000
+++ gcc/gcc/config/sh/sh.md	2001-03-01 05:24:47.000000000 +1000
@@ -55,6 +55,7 @@
 ;;   %R  --  print the lsw reg of a double
 ;;   %S  --  print the msw reg of a double
 ;;   %T  --  print next word of a double REG or MEM
+;;   %p0 --  print REGISTER_PREFIX
 ;;
 ;; Special predicates:
 ;;
@@ -615,7 +616,7 @@
 
 (define_insn "cmpeqdi_t"
   [(set (reg:SI 18) (eq:SI (match_operand:DI 0 "arith_reg_operand" "r,r")
-			   (match_operand:DI 1 "arith_reg_or_0_operand" "N,r")))]
+			   (match_operand:DI 1 "arith_operand" "N,r")))]
   ""
   "*
   return output_branchy_insn
@@ -623,7 +624,7 @@
     (which_alternative
      ? \"cmp/eq\\t%S1,%S0\;bf\\t%l9\;cmp/eq\\t%R1,%R0\"
      : \"tst\\t%S0,%S0\;bf\\t%l9\;tst\\t%R0,%R0\"),
-    insn, operands);"
+   insn, operands);"
   [(set_attr "length" "6")
    (set_attr "type" "arith3b")])
 
@@ -855,12 +856,14 @@
 ;; This reload would clobber the value in r0 we are trying to store.
 ;; If we let reload allocate r0, then this problem can never happen.
 
-(define_insn ""
+(define_insn "udivsi3_i3"
   [(set (match_operand:SI 0 "register_operand" "=z")
 	(udiv:SI (reg:SI 4) (reg:SI 5)))
    (clobber (reg:SI 18))
    (clobber (reg:SI 17))
    (clobber (reg:SI 4))
+   (clobber (reg:SI 1))
+   (clobber (reg:SI 2))
    (use (match_operand:SI 1 "arith_reg_operand" "r"))]
   "! TARGET_SH4"
   "jsr	@%1%#"
@@ -870,12 +873,14 @@
 (define_insn "udivsi3_i4"
   [(set (match_operand:SI 0 "register_operand" "=y")
 	(udiv:SI (reg:SI 4) (reg:SI 5)))
+   (clobber (reg:SI 18))
    (clobber (reg:SI 17))
    (clobber (reg:DF 24))
    (clobber (reg:DF 26))
    (clobber (reg:DF 28))
    (clobber (reg:SI 0))
    (clobber (reg:SI 1))
+   (clobber (reg:SI 2))
    (clobber (reg:SI 4))
    (clobber (reg:SI 5))
    (use (reg:PSI 48))
@@ -888,12 +893,14 @@
 (define_insn "udivsi3_i4_single"
   [(set (match_operand:SI 0 "register_operand" "=y")
 	(udiv:SI (reg:SI 4) (reg:SI 5)))
+   (clobber (reg:SI 18))
    (clobber (reg:SI 17))
    (clobber (reg:DF 24))
    (clobber (reg:DF 26))
    (clobber (reg:DF 28))
    (clobber (reg:SI 0))
    (clobber (reg:SI 1))
+   (clobber (reg:SI 2))
    (clobber (reg:SI 4))
    (clobber (reg:SI 5))
    (use (match_operand:SI 1 "arith_reg_operand" "r"))]
@@ -905,33 +912,43 @@
 (define_expand "udivsi3"
   [(set (reg:SI 4) (match_operand:SI 1 "general_operand" ""))
    (set (reg:SI 5) (match_operand:SI 2 "general_operand" ""))
-   (set (match_dup 3) (symbol_ref:SI "__udivsi3"))
-   (parallel [(set (match_operand:SI 0 "register_operand" "")
+   (set (match_operand:SI 0 "register_operand" "")
 		   (udiv:SI (reg:SI 4)
 			    (reg:SI 5)))
-	      (clobber (reg:SI 18))
-	      (clobber (reg:SI 17))
-	      (clobber (reg:SI 4))
-	      (use (match_dup 3))])]
+   (use (match_dup 3))]
   ""
   "
 {
+  rtx sym;
+
   operands[3] = gen_reg_rtx(SImode);
+  emit_move_insn (gen_rtx (REG, SImode, 4), operands[1]);
+  emit_move_insn (gen_rtx (REG, SImode, 5), operands[2]);
+
   if (TARGET_HARD_SH4)
     {
-      emit_move_insn (gen_rtx (REG, SImode, 4), operands[1]);
-      emit_move_insn (gen_rtx (REG, SImode, 5), operands[2]);
-      emit_move_insn (operands[3],
-		      gen_rtx_SYMBOL_REF (SImode, \"__udivsi3_i4\"));
+      sym = gen_rtx_SYMBOL_REF (SImode, \"__udivsi3_i4\");
+      if (flag_pic)
+	sym = legitimize_builtin_function_address (sym);
+      emit_move_insn (operands[3], sym);
       if (TARGET_FPU_SINGLE)
 	emit_insn (gen_udivsi3_i4_single (operands[0], operands[3]));
       else
 	emit_insn (gen_udivsi3_i4 (operands[0], operands[3]));
-      DONE;
     }
+  else
+    {
+      sym = gen_rtx_SYMBOL_REF (SImode, \"__udivsi3\");
+      if (flag_pic)
+	sym = legitimize_builtin_function_address (sym);
+      emit_move_insn (operands[3], sym);
+      emit_insn (gen_udivsi3_i3 (operands[0], operands[3]));
+    }
+
+  DONE;
 }")
 
-(define_insn ""
+(define_insn "divsi3_i3"
   [(set (match_operand:SI 0 "register_operand" "=z")
 	(div:SI (reg:SI 4) (reg:SI 5)))
    (clobber (reg:SI 18))
@@ -948,9 +965,13 @@
 (define_insn "divsi3_i4"
   [(set (match_operand:SI 0 "register_operand" "=y")
 	(div:SI (reg:SI 4) (reg:SI 5)))
+   (clobber (reg:SI 18))
    (clobber (reg:SI 17))
    (clobber (reg:DF 24))
    (clobber (reg:DF 26))
+   (clobber (reg:SI 0))
+   (clobber (reg:SI 1))
+   (clobber (reg:SI 2))
    (use (reg:PSI 48))
    (use (match_operand:SI 1 "arith_reg_operand" "r"))]
   "TARGET_SH4 && ! TARGET_FPU_SINGLE"
@@ -961,9 +982,12 @@
 (define_insn "divsi3_i4_single"
   [(set (match_operand:SI 0 "register_operand" "=y")
 	(div:SI (reg:SI 4) (reg:SI 5)))
+   (clobber (reg:SI 18))
    (clobber (reg:SI 17))
    (clobber (reg:DF 24))
    (clobber (reg:DF 26))
+   (clobber (reg:SI 0))
+   (clobber (reg:SI 1))
    (clobber (reg:SI 2))
    (use (match_operand:SI 1 "arith_reg_operand" "r"))]
   "TARGET_HARD_SH4 && TARGET_FPU_SINGLE"
@@ -974,32 +998,40 @@
 (define_expand "divsi3"
   [(set (reg:SI 4) (match_operand:SI 1 "general_operand" ""))
    (set (reg:SI 5) (match_operand:SI 2 "general_operand" ""))
-   (set (match_dup 3) (symbol_ref:SI "__sdivsi3"))
-   (parallel [(set (match_operand:SI 0 "register_operand" "")
+   (set (match_operand:SI 0 "register_operand" "")
 		   (div:SI (reg:SI 4)
 			   (reg:SI 5)))
-	      (clobber (reg:SI 18))
-	      (clobber (reg:SI 17))
-	      (clobber (reg:SI 1))
-	      (clobber (reg:SI 2))
-	      (clobber (reg:SI 3))
-	      (use (match_dup 3))])]
+   (use (match_dup 3))]
   ""
   "
 {
+  rtx sym;
+
   operands[3] = gen_reg_rtx(SImode);
+  emit_move_insn (gen_rtx (REG, SImode, 4), operands[1]);
+  emit_move_insn (gen_rtx (REG, SImode, 5), operands[2]);
+
   if (TARGET_HARD_SH4)
     {
-      emit_move_insn (gen_rtx (REG, SImode, 4), operands[1]);
-      emit_move_insn (gen_rtx (REG, SImode, 5), operands[2]);
-      emit_move_insn (operands[3],
-		      gen_rtx_SYMBOL_REF (SImode, \"__sdivsi3_i4\"));
+      sym = gen_rtx_SYMBOL_REF (SImode, \"__sdivsi3_i4\");
+      if (flag_pic)
+	sym = legitimize_builtin_function_address (sym);
+      emit_move_insn (operands[3], sym);
       if (TARGET_FPU_SINGLE)
 	emit_insn (gen_divsi3_i4_single (operands[0], operands[3]));
       else
 	emit_insn (gen_divsi3_i4 (operands[0], operands[3]));
-      DONE;
     }
+  else
+    {
+      sym = gen_rtx_SYMBOL_REF (SImode, \"__sdivsi3\");
+      if (flag_pic)
+	sym = legitimize_builtin_function_address (sym);
+      emit_move_insn (operands[3], sym);
+      emit_insn (gen_divsi3_i3 (operands[0], operands[3]));
+    }
+
+  DONE;
 }")
 
 ;; -------------------------------------------------------------------------
@@ -1118,6 +1150,7 @@
       /* consec_sets_giv can only recognize the first insn that sets a
 	 giv as the giv insn.  So we must tag this also with a REG_EQUAL
 	 note.  */
+#if 0
       giv_insn = emit_insn (gen_movsi_i ((operands[0]), macl));
       REG_NOTES (giv_insn)
 	= gen_rtx_EXPR_LIST (REG_EQUAL,
@@ -1126,6 +1159,9 @@
       /* The sequence must end in a no-op move, lest cse puts macl in its
 	 tables and does invalid substitutions.  */
       last = emit_insn (gen_movsi_i ((operands[0]), operands[0]));
+#else
+      last = emit_insn (gen_movsi_i ((operands[0]), macl));
+#endif
     }
   /* Wrap the sequence in REG_LIBCALL / REG_RETVAL notes so that loop
      invariant code motion can move it.  */
@@ -1593,6 +1629,9 @@
 		     (match_operand:SI 0 "const_int_operand" "i")))
    (clobber (reg:SI 18))
    (clobber (reg:SI 17))
+   (clobber (reg:SI 0))
+   (clobber (reg:SI 1))
+   (clobber (reg:SI 2))
    (use (match_operand:SI 1 "arith_reg_operand" "r"))]
   ""
   "jsr	@%1%#"
@@ -2081,12 +2120,12 @@
 
 (define_expand "push"
   [(set (mem:SI (pre_dec:SI (reg:SI 15)))
-	(match_operand:SI 0 "register_operand" "r,l,x"))]
+	(match_operand:SI 0 "register_operand" "r,l,x,v"))]
   ""
   "")
 
 (define_expand "pop"
-  [(set (match_operand:SI 0 "register_operand" "=r,l,x")
+  [(set (match_operand:SI 0 "register_operand" "=r,l,x,v")
 	(mem:SI (post_inc:SI (reg:SI 15))))]
   ""
   "")
@@ -2102,7 +2141,7 @@
 (define_insn "push_fpul"
   [(set (mem:SF (pre_dec:SI (reg:SI 15))) (reg:SF 22))]
   "TARGET_SH3E"
-  "sts.l	fpul,@-r15"
+  "sts.l	%p0fpul,@-r15"
   [(set_attr "type" "store")
    (set_attr "hit_stack" "yes")])
 
@@ -2126,7 +2165,7 @@
 (define_insn "pop_fpul"
   [(set (reg:SF 22) (mem:SF (post_inc:SI (reg:SI 15))))]
   "TARGET_SH3E"
-  "lds.l	@r15+,fpul"
+  "lds.l	@r15+,%p0fpul"
   [(set_attr "type" "load")
    (set_attr "hit_stack" "yes")])
 
@@ -2156,14 +2195,15 @@
 ;; (set (subreg:SI (mem:QI (plus:SI (reg:SI 15 r15) (const_int 12)) 0) 0)
 ;; (made from (set (subreg:SI (reg:QI 73) 0) ) into T.
 (define_insn "movsi_i"
-  [(set (match_operand:SI 0 "general_movdst_operand" "=r,r,t,r,r,r,m,<,<,xl,x,l,r")
-	(match_operand:SI 1 "general_movsrc_operand" "Q,rI,r,mr,xl,t,r,x,l,r,>,>,i"))]
+  [(set (match_operand:SI 0 "general_movdst_operand" "=r,z,r,t,r,r,r,m,<,<,xl,x,l,r")
+	(match_operand:SI 1 "general_movsrc_operand" "Q,R,rI,r,mr,xl,t,r,x,l,r,>,>,i"))]
   "
    ! TARGET_SH3E
    && (register_operand (operands[0], SImode)
        || register_operand (operands[1], SImode))"
   "@
 	mov.l	%1,%0
+	mova	%1,%p0r0
 	mov	%1,%0
 	cmp/pl	%1
 	mov.l	%1,%0
@@ -2176,21 +2216,22 @@
 	lds.l	%1,%0
 	lds.l	%1,%0
 	fake	%1,%0"
-  [(set_attr "type" "pcload_si,move,*,load_si,move,move,store,store,pstore,move,load,pload,pcload_si")
-   (set_attr "length" "*,*,*,*,*,*,*,*,*,*,*,*,*")])
+  [(set_attr "type" "pcload_si,pcload_si,move,*,load_si,move,move,store,store,pstore,move,load,pload,pcload_si")
+   (set_attr "length" "*,*,*,*,*,*,*,*,*,*,*,*,*,*")])
 
 ;; t/r must come after r/r, lest reload will try to reload stuff like
 ;; (subreg:SI (reg:SF 38 fr14) 0) into T (compiling stdlib/strtod.c -m3e -O2)
 ;; ??? This allows moves from macl to fpul to be recognized, but these moves
 ;; will require a reload.
 (define_insn "movsi_ie"
-  [(set (match_operand:SI 0 "general_movdst_operand" "=r,r,t,r,r,r,m,<,<,xl,x,l,y,r,y,r,y")
-	(match_operand:SI 1 "general_movsrc_operand" "Q,rI,r,mr,xl,t,r,x,l,r,>,>,>,i,r,y,y"))]
+  [(set (match_operand:SI 0 "general_movdst_operand" "=r,z,r,t,r,r,r,m,<,<,xl,x,l,y,r,y,r,y")
+	(match_operand:SI 1 "general_movsrc_operand" "Q,R,rI,r,mr,xl,t,r,x,l,r,>,>,>,i,r,y,y"))]
   "TARGET_SH3E
    && (register_operand (operands[0], SImode)
        || register_operand (operands[1], SImode))"
   "@
 	mov.l	%1,%0
+	mova	%1,%p0r0
 	mov	%1,%0
 	cmp/pl	%1
 	mov.l	%1,%0
@@ -2207,8 +2248,8 @@
 	lds	%1,%0
 	sts	%1,%0
 	! move optimized away"
-  [(set_attr "type" "pcload_si,move,*,load_si,move,move,store,store,pstore,move,load,pload,load,pcload_si,gp_fpul,gp_fpul,nil")
-   (set_attr "length" "*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,0")])
+  [(set_attr "type" "pcload_si,pcload_si,move,*,load_si,move,move,store,store,pstore,move,load,pload,load,pcload_si,gp_fpul,gp_fpul,nil")
+   (set_attr "length" "*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,0")])
 
 (define_insn "movsi_i_lowpart"
   [(set (strict_low_part (match_operand:SI 0 "general_movdst_operand" "=r,r,r,r,r,m,r"))
@@ -2224,11 +2265,25 @@
 	mov.l	%1,%0
 	fake	%1,%0"
   [(set_attr "type" "pcload,move,load,move,move,store,pcload")])
+
 (define_expand "movsi"
   [(set (match_operand:SI 0 "general_movdst_operand" "")
 	(match_operand:SI 1 "general_movsrc_operand" ""))]
   ""
-  "{ if (prepare_move_operands (operands, SImode)) DONE; }")
+  "
+{
+  extern int flag_pic;
+
+  if (flag_pic)
+    {
+      if (SYMBOLIC_CONST (operands[1]))
+	emit_pic_move (operands, SImode);
+      else if (GET_CODE (operands[1]) == CONST)
+	emit_pic_const_move (operands, SImode);
+    }
+
+  if (prepare_move_operands (operands, SImode)) DONE; 
+}")
 
 (define_expand "ic_invalidate_line"
   [(parallel [(unspec_volatile [(match_operand:SI 0 "register_operand" "+r")
@@ -2251,7 +2306,7 @@
 		     (match_operand:SI 1 "register_operand" "r,r")] 12)
    (clobber (match_scratch:SI 2 "=&r,1"))]
   "TARGET_HARD_SH4"
-  "ocbwb\\t@%0\;extu.w\\t%0,%2\;or\\t%r1,%r2\;mov.l\\t%0,@%2"
+  "ocbwb\\t@%0\;extu.w\\t%0,%2\;or\\t%1,%2\;mov.l\\t%0,@%2"
   [(set_attr "length" "8")])
 
 (define_insn "movqi_i"
@@ -2864,8 +2919,8 @@
 	mov.l	%1,%0
 	mov.l	%1,%0
 	mov.l	%1,%0
-	fsts	fpul,%0
-	flds	%1,fpul
+	fsts	%p0fpul,%0
+	flds	%1,%p0fpul
 	lds.l	%1,%0
 	#
 	sts	%1,%0
@@ -3150,6 +3205,19 @@
   [(set_attr "type" "call")
    (set_attr "needs_delay_slot" "yes")])
 
+;; This is a pc-rel call, using bsrf, for use with PIC.
+
+(define_insn "calli_pcrel"
+  [(call (mem:SI (match_operand:SI 0 "arith_reg_operand" "r"))
+	 (match_operand 1 "" ""))
+   (use (reg:SI 48))
+   (use (match_operand 2 "" ""))
+   (clobber (reg:SI 17))]
+  ""
+  "bsrf	%0\\n%O2:%#"
+  [(set_attr "type" "call")
+   (set_attr "needs_delay_slot" "yes")])
+
 (define_insn "call_valuei"
   [(set (match_operand 0 "" "=rf")
 	(call (mem:SI (match_operand:SI 1 "arith_reg_operand" "r"))
@@ -3161,13 +3229,41 @@
   [(set_attr "type" "call")
    (set_attr "needs_delay_slot" "yes")])
 
+(define_insn "call_valuei_pcrel"
+  [(set (match_operand 0 "" "=rf")
+	(call (mem:SI (match_operand:SI 1 "arith_reg_operand" "r"))
+	      (match_operand 2 "" "")))
+   (use (reg:SI 48))
+   (use (match_operand 3 "" ""))
+   (clobber (reg:SI 17))]
+  ""
+  "bsrf	%1\\n%O3:%#"
+  [(set_attr "type" "call")
+   (set_attr "needs_delay_slot" "yes")])
+
 (define_expand "call"
   [(parallel [(call (mem:SI (match_operand 0 "arith_reg_operand" ""))
 			    (match_operand 1 "" ""))
 	      (use (reg:SI 48))
 	      (clobber (reg:SI 17))])]
   ""
-  "operands[0] = force_reg (SImode, XEXP (operands[0], 0));")
+  "
+{
+  if (flag_pic && ! TARGET_SH1 && ! flag_unroll_loops
+      && GET_CODE (operands[0]) == MEM 
+      && GET_CODE (XEXP (operands[0], 0)) == SYMBOL_REF)
+    {
+      rtx call, lab = gen_label_rtx ();
+  
+      operands[0] = legitimize_function_address (SImode, 
+						 XEXP (operands[0], 0), lab);
+      call = emit_call_insn (gen_calli_pcrel (operands[0], operands[1], lab));
+      DONE;
+    }
+  else
+    operands[0] = legitimize_function_address (SImode, 
+					       XEXP (operands[0], 0), 0);
+}")
 
 (define_expand "call_value"
   [(parallel [(set (match_operand 0 "arith_reg_operand" "")
@@ -3176,7 +3272,25 @@
 	      (use (reg:SI 48))
 	      (clobber (reg:SI 17))])]
   ""
-  "operands[1] = force_reg (SImode, XEXP (operands[1], 0));")
+  "
+{
+  if (flag_pic && ! TARGET_SH1 && ! flag_unroll_loops
+      && GET_CODE (operands[1]) == MEM 
+      && GET_CODE (XEXP (operands[1], 0)) == SYMBOL_REF)
+    {
+      rtx call, lab = gen_label_rtx ();
+
+      operands[1] = legitimize_function_address (SImode, 
+						 XEXP (operands[1], 0), lab);
+      call = emit_call_insn (gen_call_valuei_pcrel (operands[0],
+						    operands[1],
+						    operands[2], lab));
+      DONE;
+    }
+  else
+    operands[1] = legitimize_function_address (SImode, 
+					       XEXP (operands[1], 0), 0);
+}")
 
 (define_insn "indirect_jump"
   [(set (pc)
@@ -3266,7 +3380,7 @@
   [(set (reg:SI 0)
 	(unspec [(label_ref (match_operand 0 "" ""))] 1))]
   ""
-  "mova	%O0,r0"
+  "mova	%O0,%p0r0"
   [(set_attr "in_delay_slot" "no")
    (set_attr "type" "arith")])
 
@@ -3377,13 +3491,13 @@
   switch (GET_MODE (diff_vec))
     {
     case SImode:
-      return \"shll2	%1\;mov.l	@(r0,%1),%0\";
+      return \"shll2	%1\;mov.l	@(%p0r0,%1),%0\";
     case HImode:
-      return \"add	%1,%1\;mov.w	@(r0,%1),%0\";
+      return \"add	%1,%1\;mov.w	@(%p0r0,%1),%0\";
     case QImode:
       if (ADDR_DIFF_VEC_FLAGS (diff_vec).offset_unsigned)
-	return \"mov.b	@(r0,%1),%0\;extu.b	%0,%0\";
-      return \"mov.b	@(r0,%1),%0\";
+	return \"mov.b	@(%p0r0,%1),%0\;extu.b	%0,%0\";
+      return \"mov.b	@(%p0r0,%1),%0\";
     default:
       abort ();
     }
@@ -3698,7 +3812,10 @@
   [(parallel [(set (mem:BLK (reg:SI 4))
 		   (mem:BLK (reg:SI 5)))
 	      (use (match_operand:SI 0 "arith_reg_operand" "r"))
+	      (clobber (reg:SI 18))
 	      (clobber (reg:SI 17))
+	      (clobber (reg:SI 1))
+	      (clobber (reg:SI 2))
 	      (clobber (reg:SI 0))])]
   "! TARGET_HARD_SH4"
   "jsr	@%0%#"
@@ -3710,10 +3827,13 @@
 		   (mem:BLK (reg:SI 5)))
 	      (use (match_operand:SI 0 "arith_reg_operand" "r"))
 	      (use (reg:SI 6))
+	      (clobber (reg:SI 18))
 	      (clobber (reg:SI 17))
 	      (clobber (reg:SI 4))
 	      (clobber (reg:SI 5))
 	      (clobber (reg:SI 6))
+	      (clobber (reg:SI 1))
+	      (clobber (reg:SI 2))
 	      (clobber (reg:SI 0))])]
   "! TARGET_HARD_SH4"
   "jsr	@%0%#"
@@ -3724,6 +3844,7 @@
   [(parallel [(set (mem:BLK (reg:SI 4))
 		   (mem:BLK (reg:SI 5)))
 	      (use (match_operand:SI 0 "arith_reg_operand" "r"))
+	      (clobber (reg:SI 18))
 	      (clobber (reg:SI 17))
 	      (clobber (reg:SI 0))
 	      (clobber (reg:SI 1))
@@ -3738,6 +3859,7 @@
 		   (mem:BLK (reg:SI 5)))
 	      (use (match_operand:SI 0 "arith_reg_operand" "r"))
 	      (use (reg:SI 6))
+	      (clobber (reg:SI 18))
 	      (clobber (reg:SI 17))
 	      (clobber (reg:SI 4))
 	      (clobber (reg:SI 5))
@@ -3768,6 +3890,26 @@
   operands[2] = get_fpscr_rtx ();
 }")
 
+(define_expand "pic_fpu_switch0"
+  [(set (match_operand:SI 0 "" "") (symbol_ref "__fpscr_values"))
+   (set (match_dup 2) (match_dup 1))]
+  ""
+  "
+{
+  rtx sym;
+  rtx addr;
+  rtx operand1;
+  rtx operand2;
+
+  sym = gen_rtx_SYMBOL_REF (SImode, \"__fpscr_values\");
+  addr = legitimize_pic_address (sym, SImode, 0);
+  emit_insn (gen_rtx_SET (VOIDmode, operand0, addr));
+  operand1 = gen_rtx (MEM, PSImode, operand0);
+  RTX_UNCHANGING_P (operand1) = 1;
+  emit_insn (gen_rtx_SET (VOIDmode, get_fpscr_rtx (), operand1));
+  DONE;
+}")
+
 (define_expand "fpu_switch1"
   [(set (match_operand:SI 0 "" "") (symbol_ref "__fpscr_values"))
    (set (match_dup 1) (plus:SI (match_dup 0) (const_int 4)))
@@ -3781,6 +3923,29 @@
   operands[3] = get_fpscr_rtx ();
 }")
 
+(define_expand "pic_fpu_switch1"
+  [(set (match_operand:SI 0 "" "") (symbol_ref "__fpscr_values"))
+   (set (match_dup 1) (plus:SI (match_dup 0) (const_int 4)))
+   (set (match_dup 3) (match_dup 2))]
+  ""
+  "
+{
+  rtx sym;
+  rtx addr;
+  rtx operand1;
+  rtx operand2;
+
+  sym = gen_rtx_SYMBOL_REF (SImode, \"__fpscr_values\");
+  addr = legitimize_pic_address (sym, SImode, 0);
+  emit_move_insn (operand1 = gen_reg_rtx (SImode),
+		  gen_rtx_PLUS (SImode, addr, GEN_INT (4)));
+  operand2 = gen_rtx (MEM, PSImode, operand1);
+  RTX_UNCHANGING_P (operand2) = 1;
+  emit_insn (gen_rtx_SET (VOIDmode, get_fpscr_rtx (), operand2));
+
+  DONE;
+}")
+
 (define_expand "movpsi"
   [(set (match_operand:PSI 0 "register_operand" "")
 	(match_operand:PSI 1 "general_movsrc_operand" ""))]
@@ -3802,13 +3967,13 @@
    || GET_CODE (XEXP (operands[1], 0)) != PLUS"
   "@
 	! precision stays the same
-	lds.l	%1,fpscr
+	lds.l	%1,%p0fpscr
 	mov.l	%1,%0
 	#
-	lds	%1,fpscr
+	lds	%1,%p0fpscr
 	mov	%1,%0
 	mov.l	%1,%0
-	sts	fpscr,%0"
+	sts	%p0fpscr,%0"
   [(set_attr "length" "0,2,2,4,2,2,2,2")
    (set_attr "type" "dfp_conv,dfp_conv,load,dfp_conv,dfp_conv,move,store,gp_fpul")])
 
@@ -3924,7 +4089,7 @@
 		 (match_operand:SF 3 "arith_reg_operand" "0")))
    (use (match_operand:PSI 4 "fpscr_operand" "c"))]
   "TARGET_SH3E && ! TARGET_SH4"
-  "fmac	fr0,%2,%0"
+  "fmac	%p0fr0,%2,%0"
   [(set_attr "type" "fp")])
 
 (define_expand "divsf3"
@@ -3967,7 +4132,7 @@
 	(float:SF (reg:SI 22)))
    (use (match_operand:PSI 1 "fpscr_operand" "c"))]
   "TARGET_SH3E"
-  "float	fpul,%0"
+  "float	%p0fpul,%0"
   [(set_attr "type" "fp")])
 
 (define_insn "*floatsisf2_ie"
@@ -3999,7 +4164,7 @@
 	(fix:SI (match_operand:SF 0 "arith_reg_operand" "f")))
    (use (match_operand:PSI 1 "fpscr_operand" "c"))]
   "TARGET_SH4"
-  "ftrc	%0,fpul"
+  "ftrc	%0,%p0fpul"
   [(set_attr "type" "fp")])
 
 (define_insn "fix_truncsfsi2_i4_2"
@@ -4025,7 +4190,7 @@
   [(set (reg:SI 22)
 	(fix:SI (match_operand:SF 0 "arith_reg_operand" "f")))]
   "TARGET_SH3E && ! TARGET_SH4"
-  "ftrc	%0,fpul"
+  "ftrc	%0,%p0fpul"
   [(set_attr "type" "fp")])
 
 (define_insn "cmpgtsf_t"
@@ -4209,7 +4374,7 @@
 	(float:DF (reg:SI 22)))
    (use (match_operand:PSI 1 "fpscr_operand" "c"))]
   "TARGET_SH4"
-  "float	fpul,%0"
+  "float	%p0fpul,%0"
   [(set_attr "type" "dfp_conv")])
 
 (define_expand "fix_truncdfsi2"
@@ -4228,7 +4393,7 @@
 	(fix:SI (match_operand:DF 0 "arith_reg_operand" "f")))
    (use (match_operand:PSI 1 "fpscr_operand" "c"))]
   "TARGET_SH4"
-  "ftrc	%0,fpul"
+  "ftrc	%0,%p0fpul"
   [(set_attr "type" "dfp_conv")])
 
 (define_insn "fix_truncdfsi2_i4"
@@ -4345,7 +4510,7 @@
 	(float_extend:DF (reg:SF 22)))
    (use (match_operand:PSI 1 "fpscr_operand" "c"))]
   "TARGET_SH4"
-  "fcnvsd  fpul,%0"
+  "fcnvsd  %p0fpul,%0"
   [(set_attr "type" "fp")])
 
 (define_expand "truncdfsf2"
@@ -4365,7 +4530,7 @@
 	(float_truncate:SF (match_operand:DF 0 "arith_reg_operand" "f")))
    (use (match_operand:PSI 1 "fpscr_operand" "c"))]
   "TARGET_SH4"
-  "fcnvds  %0,fpul"
+  "fcnvds  %0,%p0fpul"
   [(set_attr "type" "fp")])
 
 ;; Bit field extract patterns.  These give better code for packed bitfields,
@@ -4564,9 +4729,10 @@
   rtx xoperands[1];
 
   xoperands[0] = sp_switch;
-  output_asm_insn (\"mov.l r0,@-r15\;mov.l %0,r0\", xoperands);
-  output_asm_insn (\"mov.l @r0,r0\;mov.l r15,@-r0\", xoperands);
-  return \"mov r0,r15\";
+  output_asm_insn (\"mov.l %p0r0,@-%p0r15\;mov.l %0,%p0r0\", xoperands);
+  output_asm_insn (\"mov.l @%p0r0,%p0r0\;mov.l %p0r15,@-%p0r0\", xoperands);
+
+  return \"mov %p0r0,%p0r15\";
 }"
   [(set_attr "length" "10")])
 
@@ -4575,5 +4741,60 @@
 (define_insn "sp_switch_2"
   [(const_int 2)]
   ""
-  "mov.l @r15+,r15\;mov.l @r15+,r0"
+  "*
+{
+  return \"mov.l @%p0r15+,%p0r15\;mov.l @%p0r15+,%p0r0\";
+}"
   [(set_attr "length" "4")])
+
+;; mova/mov.l instruction pair for position independunt address loading.  */
+(define_insn "mov_plt_addrs"
+   [(set (match_operand:SI 1 "general_movdst_operand" "r,r")
+	(match_operand:SI 0 "general_movsrc_operand" "R,i"))
+   (set (reg:SI 0)
+	(match_operand:SI 2 "general_movsrc_operand" "Q,i"))]
+  ""
+  "mova	%0,%p0r0\;mov.l	%2,%1"
+  [(set_attr "in_delay_slot" "no")
+   (set_attr "length" "4")
+   (set_attr "type" "arith")])
+
+
+;; -------------------------------------------------------------------------
+;; Peepholes
+;; -------------------------------------------------------------------------
+
+;; for PIC code, we must save the GOT pointer register, r12
+
+(define_expand "builtin_setjmp_setup"
+  [(set (mem:SI (plus:SI (match_operand:SI 0 "register_operand" "r")
+		   (const_int 12)))
+      (reg:SI 12))]
+  ""
+  "")
+
+(define_expand "builtin_longjmp"
+  [(unspec_volatile [(match_operand 0 "register_operand" "r")] 3)]
+  ""
+  "
+{
+  /* The elements of the buffer are, in order:  */
+  rtx fp = gen_rtx_MEM (Pmode, operands[0]);
+  rtx lab = gen_rtx_MEM (Pmode, plus_constant (operands[0], 1*4));
+  rtx stack = gen_rtx_MEM (Pmode, plus_constant (operands[0], 2*4));
+  rtx gpv = gen_rtx_MEM (Pmode, plus_constant (operands[0], 3*4));
+  rtx gp = gen_rtx_REG (Pmode, 12);
+
+  lab = copy_to_reg (lab);
+
+  emit_move_insn (hard_frame_pointer_rtx, fp);
+  emit_stack_restore (SAVE_NONLOCAL, stack, NULL_RTX);
+
+  emit_move_insn (gp, gpv);
+  emit_insn (gen_rtx_USE (VOIDmode, hard_frame_pointer_rtx));
+  emit_insn (gen_rtx_USE (VOIDmode, stack_pointer_rtx));
+  emit_insn (gen_rtx_USE (VOIDmode, gp));
+  emit_indirect_jump (lab);
+
+  DONE;
+}")
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/t-nto gcc/gcc/config/sh/t-nto
--- gcc-2.95.2/gcc/config/sh/t-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/sh/t-nto	2001-06-23 05:35:10.000000000 +1000
@@ -0,0 +1,45 @@
+T_CFLAGS = -D__QNXTARGET__ -DLIBSTDCXX=\"-lcpp\"
+CROSS_LIBGCC1 = libgcc1-asm.a
+LIB1ASMSRC = sh/lib1nto.asm
+LIB1ASMFUNCS = _ashiftrt _ashiftrt_n _ashiftlt _lshiftrt _movstr \
+  _movstr_i4 _mulsi3 _sdivsi3 _sdivsi3_i4 _udivsi3 _udivsi3_i4 _set_fpscr
+
+TARGET_LIBGCC2_CFLAGS = -fno-honor-std
+
+# These are really part of libgcc1, but this will cause them to be
+# built correctly, so...
+
+LIB2FUNCS_EXTRA = fp-bit.c dp-bit.c
+
+dp-bit.c: $(srcdir)/config/fp-bit.c
+	echo '#ifdef __LITTLE_ENDIAN__' > dp-bit.c
+	echo '#define FLOAT_BIT_ORDER_MISMATCH' >>dp-bit.c
+	echo '#endif' 		>> dp-bit.c
+	cat $(srcdir)/config/fp-bit.c >> dp-bit.c
+
+fp-bit.c: $(srcdir)/config/fp-bit.c
+	echo '#define FLOAT' > fp-bit.c
+	echo '#ifdef __LITTLE_ENDIAN__' >> fp-bit.c
+	echo '#define FLOAT_BIT_ORDER_MISMATCH' >>fp-bit.c
+	echo '#endif' 		>> fp-bit.c
+	cat $(srcdir)/config/fp-bit.c >> fp-bit.c
+
+FIXPROTO_DEFINES = -D__QNX__ -D__QNXNTO__ -D__SH__ -D__GNUC__
+
+MULTILIB_OPTIONS= ml fpic fexceptions
+MULTILIB_DIRNAMES= 
+MULTILIB_MATCHES =
+
+LIBGCC = stmp-multilib
+INSTALL_LIBGCC = install-multilib
+
+USER_H = $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)
+
+EXTRA_PARTS = crtbeginC++.o crtendC++.o
+
+$(T)crtbeginC++.o: crtbegin.o
+	cp crtbegin.o crtbeginC++.o
+
+$(T)crtendC++.o: crtend.o
+	cp crtend.o crtendC++.o
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/t-sh gcc/gcc/config/sh/t-sh
--- gcc-2.95.2/gcc/config/sh/t-sh	1998-12-17 07:13:01.000000000 +1000
+++ gcc/gcc/config/sh/t-sh	2001-03-01 05:24:47.000000000 +1000
@@ -1,3 +1,4 @@
+LIBGCC1 = libgcc1-asm.a
 CROSS_LIBGCC1 = libgcc1-asm.a
 LIB1ASMSRC = sh/lib1funcs.asm
 LIB1ASMFUNCS = _ashiftrt _ashiftrt_n _ashiftlt _lshiftrt _movstr \
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/xm-sh.h gcc/gcc/config/sh/xm-sh.h
--- gcc-2.95.2/gcc/config/sh/xm-sh.h	1998-12-17 07:13:02.000000000 +1000
+++ gcc/gcc/config/sh/xm-sh.h	2001-03-01 05:24:47.000000000 +1000
@@ -28,6 +28,9 @@
 #define HOST_BITS_PER_INT 32
 #define HOST_BITS_PER_LONG 32
 
+#define HOST_WIDEST_INT long long
+#define HOST_BITS_PER_WIDEST_INT 64
+
 /* If compiled with GNU C, use the built-in alloca.  */
 #ifdef __GNUC__
 #define alloca __builtin_alloca
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sh/x-nto gcc/gcc/config/sh/x-nto
--- gcc-2.95.2/gcc/config/sh/x-nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/config/sh/x-nto	2001-03-01 05:24:47.000000000 +1000
@@ -0,0 +1 @@
+TAROUTOPTS = xf
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sparc/gmon-sol2.c gcc/gcc/config/sparc/gmon-sol2.c
--- gcc-2.95.2/gcc/config/sparc/gmon-sol2.c	1999-03-07 15:46:26.000000000 +1000
+++ gcc/gcc/config/sparc/gmon-sol2.c	2001-03-01 05:24:47.000000000 +1000
@@ -46,6 +46,7 @@
   char *hpc;
   int ncnt;
 };
+#define PATH_MAX 1024
 #define HISTFRACTION 2
 #define HISTCOUNTER unsigned short
 #define HASHFRACTION 1
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sparc/sol2.h gcc/gcc/config/sparc/sol2.h
--- gcc-2.95.2/gcc/config/sparc/sol2.h	1998-12-17 07:13:27.000000000 +1000
+++ gcc/gcc/config/sparc/sol2.h	2001-03-01 05:24:47.000000000 +1000
@@ -114,6 +114,21 @@
    We don't use the standard LIB_SPEC only because we don't yet support c++ */
 
 #undef STARTFILE_SPEC
+#ifdef __QNXNTO__
+#define STARTFILE_SPEC "%{!shared: \
+			 %{!symbolic: \
+			  %{p:/opt/QNXsdk/target/solaris/sparc/usr/lib/mcrt1.o%s} \
+                          %{!p: \
+	                    %{pg:/opt/QNXsdk/target/solaris/sparc/usr/lib/gcrt1.o%s \
+				/opt/QNXsdk/target/solaris/sparc/usr/lib/gmon.o%s} \
+                            %{!pg:/opt/QNXsdk/target/solaris/sparc/usr/lib/crt1.o%s}}}} \
+			/opt/QNXsdk/target/solaris/sparc/usr/lib/crti.o%s \
+			%{ansi:/opt/QNXsdk/target/solaris/sparc/usr/lib/values-Xc.o%s} \
+			%{!ansi: \
+			 %{traditional:/opt/QNXsdk/target/solaris/sparc/usr/lib/values-Xt.o%s} \
+			 %{!traditional:/opt/QNXsdk/target/solaris/sparc/usr/lib/values-Xa.o%s}} \
+			/opt/QNXsdk/target/solaris/sparc/usr/lib/crtbegin.o%s"
+#else
 #define STARTFILE_SPEC "%{!shared: \
 			 %{!symbolic: \
 			  %{p:mcrt1.o%s} \
@@ -126,12 +141,21 @@
 			 %{traditional:values-Xt.o%s} \
 			 %{!traditional:values-Xa.o%s}} \
 			crtbegin.o%s"
-
+#endif
 /* ??? Note: in order for -compat-bsd to work fully,
    we must somehow arrange to fixincludes /usr/ucbinclude
    and put the result in $(libsubdir)/ucbinclude.  */
 
 #undef LIB_SPEC
+#ifdef __QNXNTO__
+#define LIB_SPEC \
+  "-L/opt/QNXsdk/target/solaris/sparc/usr/lib %{compat-bsd:-lucb -lsocket -lnsl -lelf -laio} \
+   %{!shared:\
+     %{!symbolic:\
+       %{pthreads:-lpthread} \
+       %{!pthreads:%{threads:-lthread}} \
+       -lc -R/opt/QNXsdk/target/solaris/sparc/usr/lib }}"
+#else
 #define LIB_SPEC \
   "%{compat-bsd:-lucb -lsocket -lnsl -lelf -laio} \
    %{!shared:\
@@ -139,12 +163,38 @@
        %{pthreads:-lpthread} \
        %{!pthreads:%{threads:-lthread}} \
        -lc}}"
+#endif
 
 #undef  ENDFILE_SPEC
+#ifdef __QNXNTO__
+#define ENDFILE_SPEC "/opt/QNXsdk/target/solaris/sparc/usr/lib/crtend.o%s /opt/QNXsdk/target/solaris/sparc/usr/lib/crtn.o%s"
+#else
 #define ENDFILE_SPEC "crtend.o%s crtn.o%s"
+#endif
 
 /* This should be the same as in svr4.h, except with -R added.  */
 #undef LINK_SPEC
+#ifdef __QNXNTO__
+#define LINK_SPEC \
+  "%{h*} %{v:-V} \
+   %{b} %{Wl,*:%*} \
+   %{static:-dn -Bstatic} \
+   %{shared:-G -dy %{!mimpure-text:-z text}} \
+   %{symbolic:-Bsymbolic -G -dy -z text} \
+   %{G:-G} \
+   %{YP,*} \
+   %{R*} \
+   %{compat-bsd: \
+     %{!YP,*:%{p:-Y P,/opt/QNXsdk/target/solaris/sparc/usr/ucblib:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib:/opt/QNXsdk/target/solaris/sparc/usr/lib} \
+       %{pg:-Y P,/opt/QNXsdk/target/solaris/sparc/usr/ucblib:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib:/opt/QNXsdk/target/solaris/sparc/usr/lib} \
+       %{!p:%{!pg:-Y P,/opt/QNXsdk/target/solaris/sparc/usr/ucblib:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib:/opt/QNXsdk/target/solaris/sparc/usr/lib}}} \
+     -R /opt/QNXsdk/target/solaris/sparc/usr/ucblib} \
+   %{!compat-bsd: \
+     %{!YP,*:%{p:-Y P,/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib:/opt/QNXsdk/target/solaris/sparc/usr/lib} \
+       %{pg:-Y P,/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/lib/libp:/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib:/opt/QNXsdk/target/solaris/sparc/usr/lib} \
+       %{!p:%{!pg:-Y P,/opt/QNXsdk/target/solaris/sparc/usr/ccs/lib:/opt/QNXsdk/target/solaris/sparc/usr/lib}}}} \
+   %{Qy:} %{!Qn:-Qy}"
+#else
 #define LINK_SPEC \
   "%{h*} %{v:-V} \
    %{b} %{Wl,*:%*} \
@@ -164,6 +214,7 @@
        %{pg:-Y P,/usr/ccs/lib/libp:/usr/lib/libp:/usr/ccs/lib:/usr/lib} \
        %{!p:%{!pg:-Y P,/usr/ccs/lib:/usr/lib}}}} \
    %{Qy:} %{!Qn:-Qy}"
+#endif
 
 /* This defines which switch letters take arguments.
    It is as in svr4.h but with -R added.  */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/config/sparc/sol2-sld.h gcc/gcc/config/sparc/sol2-sld.h
--- gcc-2.95.2/gcc/config/sparc/sol2-sld.h	1998-12-17 07:13:26.000000000 +1000
+++ gcc/gcc/config/sparc/sol2-sld.h	2001-03-01 05:24:47.000000000 +1000
@@ -9,3 +9,8 @@
    to unaligned data.  */
 
 #define LINKER_DOES_NOT_WORK_WITH_DWARF2
+
+#ifdef __QNXNTO__
+#undef CPP_SPEC
+#define CPP_SPEC "-isystem /opt/QNXsdk/target/solaris/sparc/usr/include %(cpp_cpu) %(cpp_arch) %(cpp_endian) %(cpp_subtarget)"
+#endif
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/configure gcc/gcc/configure
--- gcc-2.95.2/gcc/configure	1999-10-13 17:58:02.000000000 +1000
+++ gcc/gcc/configure	2001-04-27 06:10:28.000000000 +1000
@@ -2938,7 +2938,7 @@
 	mips*-*-*)
 		cpu_type=mips
 		;;
-	powerpc*-*-*)
+	powerpc*-*-*|ppc*-*-*)
 		cpu_type=rs6000
 		;;
 	pyramid-*-*)
@@ -2951,7 +2951,7 @@
 
 	tm_file=${cpu_type}/${cpu_type}.h
 	xm_file=${cpu_type}/xm-${cpu_type}.h
-	
+
 	# Common parts for linux-gnu and openbsd systems
 	case $machine in
 	*-*-linux-gnu*)
@@ -3219,6 +3219,11 @@
 		tm_file=arm/unknown-elf-oabi.h
 		tmake_file=arm/t-arm-elf
 		;;
+	arm*-nto-*)				# QNX Neutrino 2.0 Arm
+		tm_file=arm/nto.h
+		tmake_file=arm/t-nto
+		use_collect2=no
+		;;
 	c1-convex-*)			# Convex C1
 		target_cpu_default=1
 		use_collect2=yes
@@ -3557,6 +3562,13 @@
 		tmake_file=t-netbsd
        use_collect2=yes
 		;;
+	i386-*-qnx* | *86-*-nto-qnx)
+		xm_file=i386/xm-nto.h
+		tm_file=i386/nto.h
+		extra_parts="crtbegin.o crtend.o"
+		xmake_file=i386/x-nto
+		tmake_file=i386/t-nto
+		;;
 	i[34567]86-*-openbsd*)
 		# we need collect2 until our bug is fixed...
 		use_collect2=yes
@@ -4920,6 +4932,10 @@
 		fi
 		tmake_file=mips/t-ecoff
 		;;
+	mipsel-*-nto*)
+		tm_file="mips/ntol.h libgloss.h"
+		tmake_file=mips/t-ecoff
+		;;
 	mipsel-*-elf*)
 		tm_file="mips/elfl.h libgloss.h"
 		tmake_file=mips/t-elf
@@ -4928,6 +4944,10 @@
 		tm_file="mips/elf.h"
 		tmake_file=mips/t-elf
 		;;
+	mips-*-nto*)
+		tm_file="mips/nto.h"
+		tmake_file=mips/t-nto
+		;;
 	mips64el-*-elf*)
 		tm_file="mips/elfl64.h"
 		tmake_file=mips/t-elf
@@ -5079,6 +5099,13 @@
 		fi
 		xmake_file=rs6000/x-sysv4
 		;;
+	powerpc-*-nto*-qnx* | ppc*-*-nto-qnx )
+		tm_file=rs6000/nto.h
+		xm_file=rs6000/xm-nto.h
+		extra_headers=ppc-asm.h
+		tmake_file="rs6000/t-nto"
+		xmake_file=rs6000/x-nto
+		;;
 	powerpc-*-eabiaix*)
 		tm_file=rs6000/eabiaix.h
 		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
@@ -5298,6 +5325,14 @@
 		tm_file=sh/elf.h
 		float_format=sh
 		;;
+
+	sh*-*-nto-qnx)
+		tm_file=sh/nto.h
+		tmake_file=sh/t-nto
+		make_file="sh/x-nto"
+		float_format=sh
+		;;
+
 	sh-*-rtemself*)
 		tmake_file="sh/t-sh t-rtems"
 		tm_file=sh/rtemself.h
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/cp/g++spec.c gcc/gcc/cp/g++spec.c
--- gcc-2.95.2/gcc/cp/g++spec.c	1999-01-07 06:57:34.000000000 +1000
+++ gcc/gcc/cp/g++spec.c	2001-06-23 05:35:10.000000000 +1000
@@ -94,6 +94,9 @@
   /* The total number of arguments with the new stuff.  */
   int num_args = 1;
 
+  /* The name of the C++ library to use */
+  char *libstdcxx = getenv("LIBSTDCXX");
+
   argc = *in_argc;
   argv = *in_argv;
   added_libraries = *in_added_libraries;
@@ -236,9 +239,10 @@
   /* Add `-lstdc++' if we haven't already done so.  */
   if (library)
     {
-      arglist[j++] = LIBSTDCXX;
+      arglist[j++] = libstdcxx ? libstdcxx:LIBSTDCXX;
       added_libraries++;
     }
+
   if (saw_math)
     arglist[j++] = saw_math;
   else if (library && need_math)
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/cppmain.c gcc/gcc/cppmain.c
--- gcc-2.95.2/gcc/cppmain.c	1999-05-11 01:24:36.000000000 +1000
+++ gcc/gcc/cppmain.c	2001-03-01 05:24:44.000000000 +1000
@@ -48,6 +48,10 @@
   struct cpp_options *opts = &options;
   enum cpp_token kind;
 
+#ifdef __QNXNTO__
+  munlockall(); /* allow for some swapping of memory */
+#endif
+
   p = argv[0] + strlen (argv[0]);
   while (p != argv[0] && p[-1] != '/') --p;
   progname = p;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/crtstuff.c gcc/gcc/crtstuff.c
--- gcc-2.95.2/gcc/crtstuff.c	1999-03-23 10:43:51.000000000 +1000
+++ gcc/gcc/crtstuff.c	2001-03-01 05:24:44.000000000 +1000
@@ -181,6 +181,9 @@
 
 /* Stick a call to __do_global_dtors_aux into the .fini section.  */
 
+#if defined(CALL_IN_FINI_SECTION)
+CALL_IN_FINI_SECTION (__do_global_dtors_aux)
+#else
 static void __attribute__ ((__unused__))
 fini_dummy (void)
 {
@@ -191,6 +194,7 @@
 #endif
   asm (TEXT_SECTION_ASM_OP);
 }
+#endif /* defined(CALL_IN_FINI_SECTION) */
 
 #ifdef EH_FRAME_SECTION_ASM_OP
 /* Stick a call to __register_frame_info into the .init section.  For some
@@ -205,6 +209,9 @@
     __register_frame_info (__EH_FRAME_BEGIN__, &object);
 }
 
+#if defined(CALL_IN_INIT_SECTION)
+CALL_IN_INIT_SECTION (frame_dummy)
+#else
 static void __attribute__ ((__unused__))
 init_dummy (void)
 {
@@ -215,6 +222,7 @@
 #endif
   asm (TEXT_SECTION_ASM_OP);
 }
+#endif /* defined(CALL_IN_INIT_SECTION) */
 #endif /* EH_FRAME_SECTION_ASM_OP */
 
 #else  /* OBJECT_FORMAT_ELF */
@@ -370,6 +378,9 @@
 
 /* Stick a call to __do_global_ctors_aux into the .init section.  */
 
+#if defined(CALL_IN_INIT_SECTION)
+CALL_IN_INIT_SECTION (__do_global_ctors_aux)
+#else
 static void __attribute__ ((__unused__))
 init_dummy (void)
 {
@@ -395,6 +406,7 @@
   }
 #endif
 }
+#endif /* defined(CALL_IN_INIT_SECTION) */
 
 #else  /* OBJECT_FORMAT_ELF */
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/cse.c gcc/gcc/cse.c
--- gcc-2.95.2/gcc/cse.c	1999-09-07 17:38:54.000000000 +1000
+++ gcc/gcc/cse.c	2001-03-01 05:24:44.000000000 +1000
@@ -2210,6 +2210,7 @@
     case PC:
     case CC0:
     case CALL:
+    case CODE_LABEL:
     case UNSPEC_VOLATILE:
       do_not_record = 1;
       return 0;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/dwarf2out.c gcc/gcc/dwarf2out.c
--- gcc-2.95.2/gcc/dwarf2out.c	1999-08-03 17:04:37.000000000 +1000
+++ gcc/gcc/dwarf2out.c	2001-05-16 00:55:07.000000000 +1000
@@ -6761,6 +6761,13 @@
   return (TREE_CODE (type) != ERROR_MARK) ? TYPE_ALIGN (type) : BITS_PER_WORD;
 }
 
+static inline unsigned
+simple_decl_align_in_bits (decl)
+     register tree decl;
+{
+  return (TREE_CODE (decl) != ERROR_MARK) ? DECL_ALIGN (decl) : BITS_PER_WORD;
+}
+
 /* Given a pointer to a tree node, assumed to be some kind of a ..._TYPE
    node, return the size in bits for the type if it is a constant, or else
    return the alignment for the type if the type's size is not constant, or
@@ -6796,6 +6803,7 @@
      register tree decl;
 {
   register unsigned type_align_in_bytes;
+  register unsigned decl_align_in_bits;
   register unsigned type_align_in_bits;
   register unsigned type_size_in_bits;
   register unsigned object_offset_in_align_units;
@@ -6832,6 +6840,7 @@
   field_size_in_bits = (unsigned) TREE_INT_CST_LOW (field_size_tree);
   type_size_in_bits = simple_type_size_in_bits (type);
   type_align_in_bits = simple_type_align_in_bits (type);
+  decl_align_in_bits = simple_decl_align_in_bits (decl);
   type_align_in_bytes = type_align_in_bits / BITS_PER_UNIT;
 
   /* Note that the GCC front-end doesn't make any attempt to keep track of
@@ -6877,6 +6886,7 @@
      "deepest" bit of the bit-field.  */
   deepest_bitpos = bitpos_int + field_size_in_bits;
 
+#if 0
   /* This is the tricky part.  Use some fancy footwork to deduce where the
      lowest addressed bit of the containing object must be.  */
   object_offset_in_bits
@@ -6887,6 +6897,30 @@
 
   /* Compute the offset of the containing object in bytes.  */
   object_offset_in_bytes = object_offset_in_align_units * type_align_in_bytes;
+#else
+/* hacked from gcc 3.0 sources - this fixes a bug where the structure is
+packed */
+
+  object_offset_in_bits = deepest_bitpos - type_size_in_bits;
+
+  /* Round up to type_align by default.  This works best for bitfields.  */
+  object_offset_in_bits += type_align_in_bits - 1;
+  object_offset_in_bits /= type_align_in_bits;
+  object_offset_in_bits *= type_align_in_bits;
+
+  if (object_offset_in_bits > bitpos_int)
+    {
+      /* Sigh, the decl must be packed.  */
+      object_offset_in_bits = deepest_bitpos - type_size_in_bits;
+  
+      /* Round up to decl_align instead.  */
+      object_offset_in_bits += decl_align_in_bits - 1;
+      object_offset_in_bits /= decl_align_in_bits;
+      object_offset_in_bits *= decl_align_in_bits;
+    }
+  
+  object_offset_in_bytes = object_offset_in_bits / BITS_PER_UNIT;
+#endif
 
   return object_offset_in_bytes;
 }
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/dwarfout.c gcc/gcc/dwarfout.c
--- gcc-2.95.2/gcc/dwarfout.c	1999-08-13 17:32:07.000000000 +1000
+++ gcc/gcc/dwarfout.c	2001-05-16 00:55:07.000000000 +1000
@@ -1965,6 +1965,13 @@
   return (TREE_CODE (type) != ERROR_MARK) ? TYPE_ALIGN (type) : BITS_PER_WORD;
 }
 
+static inline unsigned
+simple_decl_align_in_bits (decl)
+     register tree decl;
+{
+  return (TREE_CODE (decl) != ERROR_MARK) ? DECL_ALIGN (decl) : BITS_PER_WORD;
+}
+
 /* Given a pointer to a tree node, assumed to be some kind of a ..._TYPE
    node, return the size in bits for the type if it is a constant, or
    else return the alignment for the type if the type's size is not
@@ -2001,6 +2008,7 @@
 {
   register unsigned type_align_in_bytes;
   register unsigned type_align_in_bits;
+  register unsigned decl_align_in_bits;
   register unsigned type_size_in_bits;
   register unsigned object_offset_in_align_units;
   register unsigned object_offset_in_bits;
@@ -2038,6 +2046,7 @@
   type_size_in_bits = simple_type_size_in_bits (type);
 
   type_align_in_bits = simple_type_align_in_bits (type);
+  decl_align_in_bits = simple_decl_align_in_bits (decl);
   type_align_in_bytes = type_align_in_bits / BITS_PER_UNIT;
 
   /* Note that the GCC front-end doesn't make any attempt to keep track
@@ -2092,6 +2101,7 @@
      "deepest" bit of the bit-field.  */
   deepest_bitpos = bitpos_int + field_size_in_bits;
 
+#if 0
   /* This is the tricky part.  Use some fancy footwork to deduce where the
      lowest addressed bit of the containing object must be.  */
   object_offset_in_bits
@@ -2130,6 +2140,31 @@
 				* type_align_in_bytes);
     }
 
+#else
+/* hacked from gcc 3.0 sources - this fixes a bug where the structure is
+packed */
+
+  object_offset_in_bits = deepest_bitpos - type_size_in_bits;
+
+  /* Round up to type_align by default.  This works best for bitfields.  */
+  object_offset_in_bits += type_align_in_bits - 1;
+  object_offset_in_bits /= type_align_in_bits;
+  object_offset_in_bits *= type_align_in_bits;
+
+  if (object_offset_in_bits > bitpos_int)
+    {
+      /* Sigh, the decl must be packed.  */
+      object_offset_in_bits = deepest_bitpos - type_size_in_bits;
+  
+      /* Round up to decl_align instead.  */
+      object_offset_in_bits += decl_align_in_bits - 1;
+      object_offset_in_bits /= decl_align_in_bits;
+      object_offset_in_bits *= decl_align_in_bits;
+    }
+  
+  object_offset_in_bytes = object_offset_in_bits / BITS_PER_UNIT;
+#endif
+
   return object_offset_in_bytes;
 }
 
@@ -5917,6 +5952,7 @@
   char label[MAX_ARTIFICIAL_LABEL_BYTES];
 
   retry_incomplete_types ();
+  output_pending_types_for_scope (NULL_TREE);
 
   fputc ('\n', asm_out_file);
   ASM_OUTPUT_PUSH_SECTION (asm_out_file, DEBUG_SECTION);
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/final.c gcc/gcc/final.c
--- gcc-2.95.2/gcc/final.c	1999-06-22 09:21:23.000000000 +1000
+++ gcc/gcc/final.c	2001-05-29 06:50:32.000000000 +1000
@@ -445,9 +445,21 @@
 	int len = strlen (filename) + strlen (cwd) + 1;
 	char *data_file = (char *) alloca (len + 4);
 
-	strcpy (data_file, cwd);
-	strcat (data_file, "/");
-	strcat (data_file, filename);
+	if ( 
+		filename[0] != '/' 
+#if defined(_WIN32) || defined(__CYGWIN__)
+		&& filename[0] != '\\' 
+		&& !(ISALPHA(filename[0]) && filename[1] == ':' )
+#endif
+	) {
+	  strcpy (data_file, cwd);
+	  strcat (data_file, "/");
+	  strcat (data_file, filename);
+	}
+	else {
+	  len = strlen (filename) + 1;
+	  strcpy (data_file, filename);
+	}
 	strip_off_ending (data_file, len);
 	if (profile_block_flag)
 	  strcat (data_file, ".d");
@@ -2011,7 +2023,13 @@
   for (insn = NEXT_INSN (first); insn;)
     {
 #ifdef HAVE_ATTR_length
+/* @@@@ FIXME! trouble with the sh */
+if ( INSN_UID(insn) > insn_lengths_max_uid ) {
+	insn_current_address = -1;
+}
+else {
       insn_current_address = insn_addresses[INSN_UID (insn)];
+}
 #endif
       insn = final_scan_insn (insn, file, optimize, prescan, 0);
     }
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/fixinc/fixinc.nto gcc/gcc/fixinc/fixinc.nto
--- gcc-2.95.2/gcc/fixinc/fixinc.nto	1970-01-01 10:00:00.000000000 +1000
+++ gcc/gcc/fixinc/fixinc.nto	2001-03-01 05:24:47.000000000 +1000
@@ -0,0 +1,15 @@
+#! /bin/sh
+#
+# QNX Neutrino include files should be good already - don't fix them
+#
+# See README-fixinc for more information.
+
+# Directory in which to store the results.
+LIB=${1?"fixincludes: output directory not specified"}
+
+# Make sure it exists.
+if [ ! -d $LIB ]; then
+  mkdir $LIB || exit 1
+fi
+
+exit 0
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/fixinc/mkfixinc.sh gcc/gcc/fixinc/mkfixinc.sh
--- gcc-2.95.2/gcc/fixinc/mkfixinc.sh	1999-05-15 12:21:35.000000000 +1000
+++ gcc/gcc/fixinc/mkfixinc.sh	2001-03-01 05:24:47.000000000 +1000
@@ -21,6 +21,10 @@
 		fixincludes=fixinc.svr4
 		;;
 
+	*-nto-*)
+		fixincludes=fixinc.nto
+		;;
+
 	mips-dec-bsd*)
 		:
 		;;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/frame.c gcc/gcc/frame.c
--- gcc-2.95.2/gcc/frame.c	1998-12-17 06:55:48.000000000 +1000
+++ gcc/gcc/frame.c	2001-03-01 05:24:44.000000000 +1000
@@ -33,6 +33,13 @@
 
 #include "tconfig.h"
 
+/* In a cross-compilation situation, default to inhibiting compilation
+   of routines that use libc.  */
+
+#if defined(CROSS_COMPILE) && !defined(inhibit_libc)
+#define inhibit_libc
+#endif
+
 /* We disable this when inhibit_libc, so that gcc can still be built without
    needing header files first.  */
 /* ??? This is not a good solution, since prototypes may be required in
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/function.c gcc/gcc/function.c
--- gcc-2.95.2/gcc/function.c	1999-09-07 17:34:04.000000000 +1000
+++ gcc/gcc/function.c	2001-03-01 05:24:44.000000000 +1000
@@ -3043,6 +3043,105 @@
    extracted by usage MEM with narrower mode. */
 static rtx purge_addressof_replacements;
 
+/* Return 1 if X and Y are identical-looking rtx's.
+   This is the Lisp function EQUAL for rtx arguments.  */
+
+int
+rtx_equal_for_addressof_p (x, y)
+     rtx x, y;
+{
+  register int i;
+  register int j;
+  register enum rtx_code code;
+  register char *fmt;
+
+  if (x == y)
+    return 1;
+  if (x == 0 || y == 0)
+    return 0;
+
+  code = GET_CODE (x);
+  /* Rtx's of different codes cannot be equal.  */
+  if (code != GET_CODE (y))
+    return 0;
+
+  /* (MULT:SI x y) and (MULT:HI x y) are NOT equivalent.
+     (REG:SI x) and (REG:HI x) are NOT equivalent. 
+     But (MEM:SI x) and (MEM:HI x) are equivalent for our purposes.  */
+
+  if (code != MEM && (GET_MODE (x) != GET_MODE (y)))
+    return 0;
+
+  /* REG, LABEL_REF, and SYMBOL_REF can be compared nonrecursively.  */
+
+  if (code == REG)
+    return REGNO (x) == REGNO (y);
+  else if (code == LABEL_REF)
+    return XEXP (x, 0) == XEXP (y, 0);
+  else if (code == SYMBOL_REF)
+    return XSTR (x, 0) == XSTR (y, 0);
+  else if (code == SCRATCH || code == CONST_DOUBLE)
+    return 0;
+
+  /* Compare the elements.  If any pair of corresponding elements
+     fail to match, return 0 for the whole things.  */
+
+  fmt = GET_RTX_FORMAT (code);
+  for (i = GET_RTX_LENGTH (code) - 1; i >= 0; i--)
+    {
+      switch (fmt[i])
+	{
+	case 'w':
+	  if (XWINT (x, i) != XWINT (y, i))
+	    return 0;
+	  break;
+
+	case 'n':
+	case 'i':
+	  if (XINT (x, i) != XINT (y, i))
+	    return 0;
+	  break;
+
+	case 'V':
+	case 'E':
+	  /* Two vectors must have the same length.  */
+	  if (XVECLEN (x, i) != XVECLEN (y, i))
+	    return 0;
+
+	  /* And the corresponding elements must match.  */
+	  for (j = 0; j < XVECLEN (x, i); j++)
+	    if (rtx_equal_p (XVECEXP (x, i, j), XVECEXP (y, i, j)) == 0)
+	      return 0;
+	  break;
+
+	case 'e':
+	  if (rtx_equal_p (XEXP (x, i), XEXP (y, i)) == 0)
+	    return 0;
+	  break;
+
+	case 'S':
+	case 's':
+	  if (strcmp (XSTR (x, i), XSTR (y, i)))
+	    return 0;
+	  break;
+
+	case 'u':
+	  /* These are just backpointers, so they don't matter.  */
+	  break;
+
+	case '0':
+	  break;
+
+	  /* It is believed that rtx's at this level will never
+	     contain anything but integers and other rtx's,
+	     except for within LABEL_REFs and SYMBOL_REFs.  */
+	default:
+	  abort ();
+	}
+    }
+  return 1;
+}
+
 /* Helper function for purge_addressof.  See if the rtx expression at *LOC
    in INSN needs to be changed.  If FORCE, always put any ADDRESSOFs into
    the stack.  */
@@ -3123,7 +3222,7 @@
 	      for (tem = purge_bitfield_addressof_replacements;
 		   tem != NULL_RTX;
 		   tem = XEXP (XEXP (tem, 1), 1))
-		if (rtx_equal_p (x, XEXP (tem, 0)))
+		if (rtx_equal_for_addressof_p (x, XEXP (tem, 0)))
 		  {
 		    *loc = XEXP (XEXP (tem, 1), 0);
 		    return;
@@ -3133,7 +3232,7 @@
 	      for (tem = purge_addressof_replacements;
 		   tem != NULL_RTX;
 		   tem = XEXP (XEXP (tem, 1), 1))
-		if (rtx_equal_p (XEXP (x, 0), XEXP (tem, 0)))
+		if (rtx_equal_for_addressof_p (XEXP (x, 0), XEXP (tem, 0)))
 		  {
 		    rtx z = XEXP (XEXP (tem, 1), 0);
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/gcc.1 gcc/gcc/gcc.1
--- gcc-2.95.2/gcc/gcc.1	1999-06-02 11:41:52.000000000 +1000
+++ gcc/gcc/gcc.1	2001-03-01 04:54:53.000000000 +1000
@@ -20,7 +20,7 @@
 .if n .sp
 .if t .sp 0.4
 ..
-.Id $Id: gcc.1,v 1.9 1998/12/16 20:55:57 law Exp $
+.Id $Id: gcc.1,v 1.1.1.1 2001/02/28 18:54:53 keith Exp $
 .TH GCC 1 "\*(Dt" "GNU Tools" "GNU Tools"
 .SH NAME
 gcc, g++ \- GNU project C and C++ Compiler (gcc-2.95)
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/gcse.c gcc/gcc/gcse.c
--- gcc-2.95.2/gcc/gcse.c	1999-10-17 07:20:32.000000000 +1000
+++ gcc/gcc/gcse.c	2001-03-01 05:24:44.000000000 +1000
@@ -1405,6 +1405,7 @@
     case PC:
     case CC0:
     case CALL:
+    case CODE_LABEL:
     case UNSPEC_VOLATILE:
       *do_not_record_p = 1;
       return 0;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/ginclude/va-sh.h gcc/gcc/ginclude/va-sh.h
--- gcc-2.95.2/gcc/ginclude/va-sh.h	1999-02-26 00:02:32.000000000 +1000
+++ gcc/gcc/ginclude/va-sh.h	2001-03-01 05:24:47.000000000 +1000
@@ -217,9 +217,58 @@
     } 								\
   __va_arg_sh1(*(void **)__result_p, TYPE);})
 
+#define __va_arg_addr(pvar,TYPE)				\
+__extension__							\
+({int __type = __builtin_classify_type (* (TYPE *) 0);		\
+  void * __result_p;						\
+  if (__PASS_AS_FLOAT (__type, sizeof(TYPE)))			\
+    {								\
+      if ((pvar).__va_next_fp < (pvar).__va_next_fp_limit)	\
+	{							\
+	  if (((__type == __real_type_class && sizeof (TYPE) > 4)\
+	       || sizeof (TYPE) > 8)				\
+	      && (((int) (pvar).__va_next_fp ^ (int) (pvar).__va_next_fp_limit)\
+		  & 4))						\
+	    (pvar).__va_next_fp++;				\
+	  __result_p = &(pvar).__va_next_fp;			\
+	}							\
+      else							\
+	__result_p = &(pvar).__va_next_stack;			\
+    }								\
+  else								\
+    {								\
+      if ((pvar).__va_next_o + ((sizeof (TYPE) + 3) / 4)	\
+	  <= (pvar).__va_next_o_limit)				\
+	__result_p = &(pvar).__va_next_o;			\
+      else							\
+	{							\
+	  if (sizeof (TYPE) > 4)				\
+	   if (! __TARGET_SH4_P)				\
+	    (pvar).__va_next_o = (pvar).__va_next_o_limit;	\
+								\
+	  __result_p = &(pvar).__va_next_stack;			\
+	}							\
+    }								\
+  __result_p;})
+
 #else /* ! SH3E */
 
-#define va_arg(AP, TYPE) __va_arg_sh1((AP), TYPE)
+#define __va_rounded_size(TYPE)	 \
+  (((sizeof (TYPE) + sizeof (int) - 1) / sizeof (int)) * sizeof (int))
+
+#define va_arg(AP,TYPE)						       \
+__extension__ (*({						       \
+  register TYPE *__ptr;						       \
+								       \
+  __ptr = (TYPE *)(void *)					       \
+    ((char *) (AP) + (__LITTLE_ENDIAN_P?0:			       \
+		       (sizeof (TYPE) < __va_rounded_size (char)       \
+			? __va_rounded_size (TYPE) - sizeof (TYPE)     \
+			: 0)));					       \
+  (AP) = (__gnuc_va_list) ((char *) (AP) + __va_rounded_size (TYPE));  \
+								       \
+  __ptr;							       \
+}))
 
 #endif /* SH3E */
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/just-fixinc gcc/gcc/just-fixinc
--- gcc-2.95.2/gcc/just-fixinc	1998-12-17 06:57:01.000000000 +1000
+++ gcc/gcc/just-fixinc	2001-03-01 04:54:53.000000000 +1000
@@ -1,5 +1,5 @@
 #!/bin/sh
-# $Id: just-fixinc,v 1.2 1998/04/03 16:35:58 law Exp $
+# $Id: just-fixinc,v 1.1.1.1 2001/02/28 18:54:53 keith Exp $
 # This script exists for use after installing
 # the GCC binaries from a distribution tape/CD-ROM.
 # Use it *after* copying the directory of binaries
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/libgcc2.c gcc/gcc/libgcc2.c
--- gcc-2.95.2/gcc/libgcc2.c	1999-06-11 13:11:43.000000000 +1000
+++ gcc/gcc/libgcc2.c	2001-03-01 05:24:44.000000000 +1000
@@ -32,6 +32,17 @@
 
 #include "tconfig.h"
 
+/* In a cross-compilation situation, default to inhibiting compilation
+   of routines that use libc.  */
+
+#if defined(CROSS_COMPILE) && !defined(inhibit_libc)
+#define inhibit_libc
+#endif
+
+#if defined(__QNXNTO__) || defined(__QNXTARGET__)
+#undef inhibit_libc
+#endif
+
 /* We disable this when inhibit_libc, so that gcc can still be built without
    needing header files first.  */
 /* ??? This is not a good solution, since prototypes may be required in
@@ -57,13 +68,6 @@
 #define WEAK_ALIAS
 #endif
 
-/* In a cross-compilation situation, default to inhibiting compilation
-   of routines that use libc.  */
-
-#if defined(CROSS_COMPILE) && !defined(inhibit_libc)
-#define inhibit_libc
-#endif
-
 /* Permit the tm.h file to select the endianness to use just for this
    file.  This is used when the endianness is determined when the
    compiler is run.  */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/loop.c gcc/gcc/loop.c
--- gcc-2.95.2/gcc/loop.c	1999-10-25 16:44:53.000000000 +1000
+++ gcc/gcc/loop.c	2001-03-01 05:24:44.000000000 +1000
@@ -1673,6 +1673,8 @@
 	  break;
 
 	case 's':
+	  if (XSTR (x, i) == 0 || XSTR (y, i) == 0)
+	    return (XSTR (x, i) == XSTR (y, i));
 	  if (strcmp (XSTR (x, i), XSTR (y, i)))
 	    return 0;
 	  break;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/mkinstalldirs gcc/gcc/mkinstalldirs
--- gcc-2.95.2/gcc/mkinstalldirs	1998-12-17 16:43:04.000000000 +1000
+++ gcc/gcc/mkinstalldirs	2001-03-01 04:54:54.000000000 +1000
@@ -4,7 +4,7 @@
 # Created: 1993-05-16
 # Public domain
 
-# $Id: mkinstalldirs,v 1.1 1998/05/19 07:09:56 drepper Exp $
+# $Id: mkinstalldirs,v 1.1.1.1 2001/02/28 18:54:54 keith Exp $
 
 errstatus=0
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/reload1.c gcc/gcc/reload1.c
--- gcc-2.95.2/gcc/reload1.c	1999-07-07 11:05:39.000000000 +1000
+++ gcc/gcc/reload1.c	2001-03-01 05:24:45.000000000 +1000
@@ -5281,7 +5281,7 @@
 	  if (! reload_in[i] || ! rtx_equal_p (reload_in[i], value)
 	      || reload_out[i] || out)
 	    {
-	      int time2;
+	      int j, time2;
 	      switch (reload_when_needed[i])
 		{
 		case RELOAD_FOR_OTHER_ADDRESS:
@@ -5360,6 +5360,11 @@
 		  if (! reload_in[i] || rtx_equal_p (reload_in[i], value))
 		    {
 		      time2 = MAX_RECOG_OPERANDS * 4 + 4;
+		      /* Earlyclobbered outputs must conflict with inputs.  */
+		      for (j = 0; j < n_earlyclobbers; j++)
+			if (reload_out[i] == reload_earlyclobbers[j])
+			  time2 = MAX_RECOG_OPERANDS * 4 + 3;
+			  
 		      break;
 		    }
 		  time2 = 1;
@@ -5375,7 +5380,8 @@
 		}
 	      if ((time1 >= time2
 		   && (! reload_in[i] || reload_out[i]
-		       || ! rtx_equal_p (reload_in[i], value)))
+		       || ! rtx_equal_p (reload_in[i], value)
+		       || out))
 		  || (out && reload_out_reg[reloadnum]
 		      && time2 >= MAX_RECOG_OPERANDS * 4 + 3))
 		return 0;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/rtlanal.c gcc/gcc/rtlanal.c
--- gcc-2.95.2/gcc/rtlanal.c	1999-04-12 12:18:55.000000000 +1000
+++ gcc/gcc/rtlanal.c	2001-03-01 05:24:45.000000000 +1000
@@ -1147,6 +1147,8 @@
 
 	case 'S':
 	case 's':
+	  if (XSTR (x, i) == 0 || XSTR (y, i) == 0)
+	    return (XSTR (x, i) == XSTR (y, i));
 	  if (strcmp (XSTR (x, i), XSTR (y, i)))
 	    return 0;
 	  break;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/sys-types.h gcc/gcc/sys-types.h
--- gcc-2.95.2/gcc/sys-types.h	1998-12-17 06:58:25.000000000 +1000
+++ gcc/gcc/sys-types.h	2001-03-01 05:24:45.000000000 +1000
@@ -166,7 +166,11 @@
 typedef int ulong;
 typedef int uint;
 
+#if !(defined __QNXNTO__ && defined(__SH__))
+#if !(defined __QNXNTO__ && defined(__PPC__))
 typedef int __gnuc_va_list;
+#endif
+#endif
 
 typedef int archdr;
 typedef int AUTH;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/texinfo.tex gcc/gcc/texinfo.tex
--- gcc-2.95.2/gcc/texinfo.tex	1998-12-17 06:58:28.000000000 +1000
+++ gcc/gcc/texinfo.tex	2001-03-01 04:54:55.000000000 +1000
@@ -1,5 +1,5 @@
 % texinfo.tex -- TeX macros to handle Texinfo files.
-% $Id: texinfo.tex,v 1.5 1998/06/29 21:40:12 law Exp $
+% $Id: texinfo.tex,v 1.1.1.1 2001/02/28 18:54:55 keith Exp $
 %
 % Copyright (C) 1985, 86, 88, 90, 91, 92, 93, 94, 95, 96, 97, 98
 % Free Software Foundation, Inc.
@@ -58,7 +58,7 @@
 
 % This automatically updates the version number based on RCS.
 \def\deftexinfoversion$#1: #2 ${\def\texinfoversion{#2}}
-\deftexinfoversion$Revision: 1.5 $
+\deftexinfoversion$Revision: 1.1.1.1 $
 \message{Loading texinfo package [Version \texinfoversion]:}
 
 % If in a .fmt file, print the version number
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/gcc/toplev.c gcc/gcc/toplev.c
--- gcc-2.95.2/gcc/toplev.c	1999-10-21 17:01:37.000000000 +1000
+++ gcc/gcc/toplev.c	2001-03-01 05:24:45.000000000 +1000
@@ -4757,6 +4757,10 @@
   int version_flag = 0;
   char *p;
 
+#ifdef __QNXNTO__
+  munlockall(); /* allow for some swapping of memory */
+#endif
+
   /* save in case md file wants to emit args as a comment.  */
   save_argc = argc;
   save_argv = argv;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/BUILD gcc/install/BUILD
--- gcc-2.95.2/install/BUILD	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/BUILD	1970-01-01 10:00:00.000000000 +1000
@@ -1,87 +0,0 @@
-
-                          Installing GCC: Building
-                                      
-   Now that GCC is configured, you are ready to build the compiler and
-   runtime libraries.
-   
-   We _highly_ recommend that GCC be built using GNU make; other versions
-   may work, then again they might not.
-   
-   (For example, many broken versions of make will fail if you use the
-   recommended setup where _objdir_ is different from _srcdir_.)
-   
-Building a native compiler
-
-   For a native build issue the command `make bootstrap'. This will build
-   the entire GCC system, which includes the following steps:
-     * Build host tools necessary to build the compiler such as texinfo,
-       bison, gperf.
-     * Build target tools for use by the compiler such as binutils (bfd,
-       binutils, gas, gprof, ld, and opcodes)
-       if they have been individually linked or moved into the top level
-       GCC source tree before configuring.
-     * Perform a 3-stage bootstrap of the compiler.
-     * Perform a comparison test of the stage2 and stage3 compilers.
-     * Build runtime libraries using the stage3 compiler from the
-       previous step.
-       
-   If you are short on disk space you might consider `make
-   bootstrap-lean' instead. This is identical to `make bootstrap' except
-   that object files from the stage1 and stage2 of the 3-stage bootstrap
-   of the compiler are deleted as soon as they are no longer needed.
-   
-   If you want to save additional space during the bootstrap and in the
-   final installation as well, you can build the compiler binaries
-   without debugging information with "make CFLAGS='-O' LIBCFLAGS='-g
-   -O2' LIBCXXFLAGS='-g -O2 -fno-implicit-templates' bootstrap". This
-   will save roughly 40% of disk space both for the bootstrap and the
-   final installation. (Libraries will still contain debugging
-   information.)
-   
-   If you used the flag --enable-languages=... to restrict the compilers
-   to be built, only those you've actually enabled will be built. This
-   will of course only build those runtime libraries, for which the
-   particular compiler has been built. Please note, that re-defining
-   LANGUAGES when calling `make bootstrap' _*does not*_ work anymore!
-   
-Building a cross compiler
-
-   We recommend reading the [1]crossgcc FAQ for information about
-   building cross compilers.
-   
-   When building a cross compiler, it is not generally possible to do a
-   3-stage bootstrap of the compiler. This makes for an interesting
-   problem as parts of GCC can only be built with GCC.
-   
-   To build a cross compiler, we first recommend building and installing
-   a native compiler. You can then use the native GCC compiler to build
-   the cross compiler.
-   
-   Assuming you have already installed a native copy of GCC and
-   configured your corss compiler, issue the command "make", which
-   performs the following steps:
-     * Build host tools necessary to build the compiler such as texinfo,
-       bison, gperf.
-     * Build target tools for use by the compiler such as binutils (bfd,
-       binutils, gas, gprof, ld, and opcodes)
-       if they have been individually linked or moved into the top level
-       GCC source tree before configuring.
-     * Build the compiler (single stage only).
-     * Build runtime libraries using the compiler from the previous step.
-       
-   Note that if an error occurs in any step the make process will exit.
-   
-Building in parallel
-
-   If you have a multiprocessor you can use `make bootstrap MAKE="make -j
-   2" -j 2' instead of just `make bootstrap' when building GCC. You can
-   use a bigger number instead of two if you like. In most cases, it
-   won't help to use a number bigger than the number of processors in
-   your machine.
-     _________________________________________________________________
-   
-   _Last modified on August 27, 1999._
-
-References
-
-   1. http://www.objsw.com/CrossGCC/
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/build.html gcc/install/build.html
--- gcc-2.95.2/install/build.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/build.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,109 +0,0 @@
-<html>
-<head>
-<title>Installing GCC: Building</title>
-</head>
-
-<body>
-<h1 align="center">Installing GCC: Building</h1>
-
-<p>Now that GCC is configured, you are ready to build the compiler and
-runtime libraries.
-
-<p>We <strong>highly</strong> recommend that GCC be built using GNU make;
-other versions may work, then again they might not.</p>
-
-<p>(For example, many broken versions of make will fail if you use the
-recommended setup where <i>objdir</i> is different from <i>srcdir</i>.)
-
-
-<h2>Building a native compiler</h2>
-
-<p>For a native build issue the command `<code>make bootstrap</code>'.  This 
-will build the entire GCC system, which includes the following steps:
-
-<ul>
-  <li>Build host tools necessary to build the compiler such as texinfo, bison,
-  gperf.</li>
-
-  <li> Build target tools for use by the compiler such as binutils (bfd,
-  binutils, gas, gprof, ld, and opcodes)<br>
-  if they have been individually linked or moved into the top level GCC source
-  tree before configuring.</li>
-
-  <li>Perform a 3-stage bootstrap of the compiler.</li>
-
-  <li>Perform a comparison test of the stage2 and stage3 compilers.</li>
-
-  <li>Build runtime libraries using the stage3 compiler from the previous
-  step.</li>
-</ul>
-
-<p>If you are short on disk space you might consider `<code>make 
-bootstrap-lean</code>' instead.  This is identical to `<code>make 
-bootstrap</code>' except that object files from the stage1 and 
-stage2 of the 3-stage bootstrap of the compiler are deleted as 
-soon as they are no longer needed.
-
-<p>If you want to save additional space during the bootstrap and in
-the final installation as well, you can build the compiler binaries
-without debugging information with "make CFLAGS='-O' LIBCFLAGS='-g
--O2' LIBCXXFLAGS='-g -O2 -fno-implicit-templates' bootstrap".  This will save
-roughly 40% of disk space both for the bootstrap and the final installation.
-(Libraries will still contain debugging information.)
-
-<p>If you used the flag <code>--enable-languages=...</code> to restrict
-the compilers to be built, only those you've actually enabled will be
-built. This will of course only build those runtime libraries, for
-which the particular compiler has been built.  Please note,
-that re-defining LANGUAGES when calling `<code>make bootstrap</code>'
-<b>*does not*</b> work anymore!
-
-
-<h2>Building a cross compiler</h2>
-
-<p> We recommend reading the
-<a href="http://www.objsw.com/CrossGCC/">
-crossgcc FAQ</a> for information about building cross compilers.
-
-<p>When building a cross compiler, it is not generally possible to do a
-3-stage bootstrap of the compiler.  This makes for an interesting problem
-as parts of GCC can only be built with GCC.
-
-<p>To build a cross compiler, we first recommend building and installing a
-native compiler.  You can then use the native GCC compiler to build the
-cross compiler.
-
-<p>Assuming you have already installed a native copy of GCC and configured
-your corss compiler, issue the command "make", which performs the
-following steps:
-<ul>
-  <li>Build host tools necessary to build the compiler such as texinfo, bison,
-  gperf.</li>
-
-  <li>Build target tools for use by the compiler such as binutils (bfd,
-  binutils, gas, gprof, ld, and opcodes)<br>
-  if they have been individually linked or moved into the top level GCC source
-  tree before configuring.</li>
-
-  <li>Build the compiler (single stage only).</li>
-
-  <li>Build runtime libraries using the compiler from the previous
-  step.</li>
-</ul>
-
-<p>Note that if an error occurs in any step the make process will exit.
-
-<h2>Building in parallel</h2>
-
-<p> If you have a multiprocessor you can use `<code>make bootstrap
-MAKE="make -j 2" -j 2</code>' instead of just `<code>make bootstrap</code>'
-when building GCC.  You can use a bigger number instead of two if
-you like.  In most cases, it won't help to use a number bigger than
-the number of processors in your machine.
-
-<p>
-<hr>
-<i>Last modified on August 27, 1999.</i>
-
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/CONFIGURE gcc/install/CONFIGURE
--- gcc-2.95.2/install/CONFIGURE	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/CONFIGURE	1970-01-01 10:00:00.000000000 +1000
@@ -1,137 +0,0 @@
-
-                       Installing GCC: Configuration
-                                      
-   Like most GNU software, GCC must be configured before it can be built.
-   This document describes the recommended configuration procedure for
-   both native and cross targets.
-   
-   We use _srcdir_ to refer to the toplevel source directory for GCC; we
-   use _objdir_ to refer to the toplevel build/object directory.
-   
-   First, we _highly_ recommend that GCC be built into a separate
-   directory than the sources which does _not_ reside within the source
-   tree. This is how we generally build GCC; building where _srcdir_ ==
-   _objdir_ should still work, but doesn't get extensive testing;
-   building where _objdir_ is a subdirectory of _srcdir_ is unsupported.
-   
-   Second, when configuring a native system, either "cc" or "gcc" must be
-   in your path or you must set CC in your environment before running
-   configure. Otherwise the configuration scripts may fail.
-   
-   To configure GCC:
-   
-     % mkdir _objdir_
-     % cd _objdir_
-     % _srcdir_/configure _[target]_ _[options]_
-     
-   _target specification_
-     * GCC has code to correctly determine the correct value for _target_
-       for nearly all native systems. Therefore, we highly recommend you
-       not provide a configure target when configuring a native compiler.
-     * _target_ must be specified when configuring a cross compiler;
-       examples of valid targets would be i960-rtems, m68k-coff, sh-elf,
-       etc.
-       
-   _options specification_
-   
-   Use _options_ to override several configure time options for GCC. A
-   partial list of supported options:
-     * --prefix=_dirname_ -- Specify the toplevel installation directory.
-       This is the recommended way to install the tools into a directory
-       other than the default. The toplevel installation directory
-       defaults to /usr/local.
-       We _highly_ recommend against _prefix_ being the same or a
-       subdirectory of _objdir_ or vice versa.
-       These additional options control where certain parts of the
-       distribution are installed. Normally you should not need to use
-       these options.
-          + --with-local-prefix=_dirname_ -- Specify the installation
-            directory for local include files. The default is /usr/local.
-          + --with-gxx-include-dir=_dirname_ -- Specify the installation
-            directory for g++ header files. The default is
-            /usr/local/include/g++.
-     * --enable-shared -- Build shared versions of the C++ runtime
-       libraries if supported --disable-shared is the default.
-     * --enable-haifa -- Enable the new Haifa instruction scheduler in
-       the compiler; the new scheduler can significantly improve code on
-       some targets.
-       For EGCS 1.0.x releases --disable-haifa is the default on all
-       platforms except the HPPA.
-       For newer releases --disable-haifa is the default on all platforms
-       except the alpha, hppa, powerpc, rs6000, SPARC and m32r.
-     * --with-gnu-as -- Specify that the compiler should assume the GNU
-       assembler (aka gas) is available.
-     * --with-gnu-ld -- Specify that the compiler should assume the GNU
-       linker (aka gld) is available.
-     * --with-stabs -- Specify that stabs debugging information should be
-       used instead of whatever format the host normally uses. Normally
-       GCC uses the same debug format as the host system.
-     * --enable-multilib -- Specify that multiple target libraries should
-       be built to support different target variants, calling
-       conventions, etc. This is the default.
-     * --enable-threads -- Specify that the target supports threads. This
-       affects only the Objective-C compiler and runtime library.
-     * --enable-threads=_lib_ -- Specify that _lib_ is the thread support
-       library. This affects only the Objective-C compiler and runtime
-       library.
-     * --with-cpu=_cpu_ -- Specify which cpu variant the compiler should
-       generate code for by default. This is currently only supported on
-       the some ports, specifically arm, powerpc, and SPARC. If configure
-       does not recognize the model name (e.g. arm700, 603e, or
-       ultrasparc) you provide, please check the configure script for a
-       complete list of supported models.
-     * --enable-target-optspace -- Specify that target libraries should
-       be optimzied for code space instead of code speed. This is the
-       default for the m32r platform.
-     * --enable-cpp -- Specify that a shell script which emulates
-       traditional cpp functionality should be installed.
-     * --enable-cpplib -- Specify that the functionality of CPP should be
-       integrated into the compiler itself. This is still under
-       development, but may be useful in limited situations. This option
-       is never enabled by default.
-     * --without-fast-fixincludes -- Specify that the old, slower method
-       of fixing the system header files should be used. EGCS 1.1.x and
-       older releases default to the slow version. GCC 2.95 and newer
-       releases will default to the fast version.
-     * --enable-version-specific-runtime-libs -- Specify that runtime
-       libraries should be installed in the compiler specific
-       subdirectory (${libsubdir}) rather than the usual places. In
-       addition, libstdc++'s include files will be installed in
-       ${libsubdir}/include/g++ unless you overruled it by using
-       --with-gxx-include-dir=_dirname_. Using this option is
-       particularly useful if you intend to use several versions of
-       egcs/gcc in parallel. This is currently supported by libf2c and
-       libstdc++.
-     * --enable-languages=_lang1_,_lang2_,... -- Specify that only a
-       particular subset of compilers and their runtime libraries should
-       be built. For a list of valid values for _lang_x you can issue the
-       following command in the gcc directory of your GCC source tree:
-       grep language= */config-lang.in
-       Currently, you can use any of the following: CHILL, c++, f77, java
-       and objc. Please note, that this switch does not work with EGCS
-       1.1.2 or older versions of egcs. It will be supported in GCC 2.95
-       and newer version.
-       If you do not pass this flag, all languages available in the gcc
-       sub-tree will be configured. Re-defining LANGUAGES when calling
-       make bootstrap _*does not*_ work anymore, as those language
-       sub-directories might not have been configured!
-     * --with-dwarf2 -- Specify that the compiler should use DWARF2
-       debugging information as the default.
-       
-   Some options which only apply to building cross compilers:
-     * --with-headers=_dir_ -- Specifies a directory which has target
-       include files. These include files will be copied into the gcc
-       install directory. Fixincludes will be run on these files to make
-       them compatible with gcc.
-     * --with-libs=_"dir1 dir2 ... dirN"_ -- Specifies a list of
-       directories which contain the target runtime libraries. These
-       libraries will be copied into the gcc install directory.
-     * --with-newlib -- Specifies that "newlib" is being used as the
-       target C library. This causes __eprintf to be omitted from
-       libgcc.a on the assumption that it will be provided by newlib.
-       
-   Note that each --enable option has a corresponding --disable option
-   and that each --with option has a corresponding --without option.
-     _________________________________________________________________
-   
-   _Last modified on July 16, 1999._
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/configure.html gcc/install/configure.html
--- gcc-2.95.2/install/configure.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/configure.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,181 +0,0 @@
-<html>
-<head>
-<title>Installing GCC: Configuration</title>
-</head>
-<body>
-<h1 align="center">Installing GCC: Configuration</h1>
-
-<p>Like most GNU software, GCC must be configured before it can be built.
-This document describes the recommended configuration procedure
-for both native and cross targets.
-
-<p>We use <i>srcdir</i> to refer to the toplevel source directory for
-GCC; we use <i>objdir</i> to refer to the toplevel build/object
-directory.
-
-<p>First, we <b>highly</b> recommend that GCC be built into a
-separate directory than the sources which does <b>not</b> reside
-within the source tree.  This is how we generally build GCC; building
-where <i>srcdir</i> == <i>objdir</i> should still work, but doesn't
-get extensive testing; building where <i>objdir</i> is a subdirectory
-of <i>srcdir</i> is unsupported.
-
-<p>Second, when configuring a native system, either "cc" or "gcc" must be in
-your path or you must set CC in your environment before running configure.
-Otherwise the configuration scripts may fail.
-
-<p>To configure GCC:
-
-<blockquote>
-<tt>
-  <br>% mkdir <i>objdir</i>
-  <br>% cd <i>objdir</i>
-  <br>% <i>srcdir</i>/configure <b>[target]</b> <b>[options]</b>
-</tt>
-</blockquote>
-
-
-<p><b>target specification</b>
-<ul>
-  <li>GCC has code to correctly determine the correct value for
-  <b>target</b> for nearly all native systems.  Therefore, we highly
-  recommend you not provide a configure target when configuring a
-  native compiler.
-
-  <li> <b>target</b> must be specified when configuring a cross compiler;
-  examples of valid targets would be i960-rtems, m68k-coff, sh-elf, etc.
-</ul>
-
-
-<p><b> options specification</b>
-
-<p>Use <b>options</b> to override several configure time options for
-GCC.  A partial list of supported <tt>options</tt>:
-
-<ul>
-  <li> <tt>--prefix=</tt><i>dirname</i> -- Specify the toplevel installation
-  directory.  This is the recommended way to install the tools into a directory
-  other than the default.  The toplevel installation directory defaults to
-  /usr/local.
-
-  <p> We <b>highly</b> recommend against <i>prefix</i> being the same or a
-  subdirectory of <i>objdir</i> or vice versa.
-
-  <p>These additional options control where certain parts of the distribution
-  are installed.  Normally you should not need to use these options.
-  <ul>
-     <li> <tt>--with-local-prefix=</tt><i>dirname</i> -- Specify the installation
-     directory for local include files.  The default is /usr/local.
-
-     <li> <tt>--with-gxx-include-dir=</tt><i>dirname</i> -- Specify the installation
-     directory for g++ header files.  The default is /usr/local/include/g++.
-  </ul>
-
-  <li> <tt>--enable-shared</tt> -- Build shared versions of the C++ runtime
-  libraries if supported <tt>--disable-shared</tt> is the default.
-
-  <li> <tt>--enable-haifa</tt> -- Enable the new Haifa instruction scheduler
-  in the compiler; the new scheduler can significantly improve code on some
-  targets.
-  <br>For EGCS 1.0.x releases <tt>--disable-haifa</tt> is the default on all
-  platforms except the HPPA.
-  <br>For newer releases <tt>--disable-haifa</tt> is the default on all
-  platforms except the alpha, hppa, powerpc, rs6000, SPARC and m32r.
-
-  <li> <tt>--with-gnu-as</tt> -- Specify that the compiler should assume the GNU
-  assembler (aka gas) is available. 
-
-  <li> <tt>--with-gnu-ld</tt> -- Specify that the compiler should assume the GNU
-  linker (aka gld) is available. 
-
-  <li> <tt>--with-stabs</tt> -- Specify that stabs debugging information should be used
-  instead of whatever format the host normally uses.  Normally GCC uses the
-  same debug format as the host system. 
-
-  <li> <tt>--enable-multilib</tt> -- Specify that multiple target libraries
-  should be built to support different target variants, calling conventions,
-  etc.  This is the default. 
-
-  <li> <tt>--enable-threads</tt> -- Specify that the target supports threads.
-  This affects only the Objective-C compiler and runtime library.
-
-  <li> <tt>--enable-threads=</tt><i>lib</i> -- Specify that <i>lib</i> is the
-  thread support library.  This affects only the Objective-C compiler  and
-  runtime library.
-
-  <li> <tt>--with-cpu=</tt><i>cpu</i> -- Specify which cpu variant the
-  compiler should generate code for by default.  This is currently
-  only supported on the some ports, specifically arm, powerpc, and
-  SPARC. If configure does not recognize the model name (e.g. arm700,
-  603e, or ultrasparc) you provide, please check the configure script
-  for a complete list of supported models.
-
-  <li> <tt>--enable-target-optspace</tt> -- Specify that target libraries should  be optimzied for code space instead of code speed.  This is the default for
-  the m32r platform.
-
-  <li> <tt>--enable-cpp</tt> -- Specify that a shell script which emulates
-  traditional cpp functionality should be installed.
-
-  <li> <tt>--enable-cpplib</tt> -- Specify that the functionality of CPP should
-  be integrated into the compiler itself.  This is still under development, but
-  may be useful in limited situations.  This option is never enabled by default.
-
-  <li> <tt>--without-fast-fixincludes</tt> -- Specify that the old, slower
-  method of fixing the system header files should be used. 
-  EGCS 1.1.x and older releases default to the slow version. GCC 2.95 and
-  newer releases will default to the fast version.
-
-  <li> <tt>--enable-version-specific-runtime-libs</tt> -- Specify that runtime
-  libraries should be installed in the compiler specific subdirectory
-  (<tt>${libsubdir}</tt>) rather than the usual places.
-  In addition, libstdc++'s include files will be installed in
-  <tt>${libsubdir}/include/g++</tt> unless you overruled it by using
-  <tt>--with-gxx-include-dir=</tt><i>dirname</i>.
-  Using this option is particularly useful if you intend to use several
-  versions of egcs/gcc in parallel. This is currently supported by <tt>libf2c</tt>
-  and <tt>libstdc++</tt>.
-
-  <li> <tt>--enable-languages=</tt><i>lang1</i><tt>,</tt><i>lang2</i><tt>,...</tt>
-  -- Specify that only a particular subset of compilers and their runtime libraries
-  should be built. For a list of valid values for <i>lang</i><tt>x</tt> you can issue
-  the following command in the <tt>gcc</tt> directory of your GCC source tree:<br>
-  <tt>
-  grep language= */config-lang.in
-  </tt><br>
-  Currently, you can use any of the following: <tt>CHILL</tt>, <tt>c++</tt>,
-  <tt>f77</tt>, <tt>java</tt> and <tt>objc</tt>. Please note, that this switch
-  does not work with EGCS 1.1.2 or older versions of egcs.  It will be supported
-  in GCC 2.95 and newer version.<br>
-  If you do not pass this flag, all languages available in the <tt>gcc</tt> sub-tree
-  will be configured.  Re-defining LANGUAGES when calling <tt>make bootstrap</tt>
-  <b>*does not*</b> work anymore, as those language sub-directories might not have been
-  configured!
-  <li> <tt>--with-dwarf2</tt> -- Specify that the compiler should use DWARF2
-  debugging information as the default.
-
-</ul>
-
-<p>Some options which only apply to building cross compilers:
-<ul>
-  <li> <tt>--with-headers=</tt><i>dir</i> -- Specifies a directory which has
-  target include files.  These include files will be copied into the gcc
-  install directory.  Fixincludes will be run on these files to make them
-  compatible with gcc.
-  <li> <tt>--with-libs=</tt><i>"dir1 dir2 ... dirN"</i> -- Specifies a list of
-  directories which contain the target runtime libraries.  These libraries will
-  be copied into the gcc install directory.
-  <li> <tt>--with-newlib</tt> -- Specifies that "newlib" is being used as the target
-  C library.   This causes __eprintf to be omitted from libgcc.a on the
-  assumption that it will be provided by newlib.
-</ul>
- 
-<p>Note that each <tt>--enable</tt> option has a corresponding <tt>--disable</tt> option and
-that each <tt>--with</tt> option has a corresponding <tt>--without</tt> option.
-
-
-<p>
-<hr>
-<i>Last modified on July 16, 1999.</i>
-
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/dec-osf-shlibstdc++.patch gcc/install/dec-osf-shlibstdc++.patch
--- gcc-2.95.2/install/dec-osf-shlibstdc++.patch	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/dec-osf-shlibstdc++.patch	1970-01-01 10:00:00.000000000 +1000
@@ -1,27 +0,0 @@
-Index: libstdc++/ChangeLog
-from  Alexandre Oliva  <oliva@dcc.unicamp.br>
-	
-	* config/dec-osf.ml: Force all of libgcc into libstdc++, to avoid
-	multiply-defined linker errors.
-	
-Index: libstdc++/config/dec-osf.ml
-===================================================================
-RCS file: /egcs/carton/cvsfiles/egcs/libstdc++/config/dec-osf.ml,v
-retrieving revision 1.2
-diff -u -r1.2 dec-osf.ml
---- libstdc++/config/dec-osf.ml	1998/08/30 21:18:41	1.2
-+++ libstdc++/config/dec-osf.ml	1999/07/15 07:40:11
-@@ -3,4 +3,12 @@
- 
- LIBS     = $(ARLIB) $(ARLINK) $(SHLIB) $(SHLINK)
- DEPLIBS  = ../$(SHLIB)
--SHDEPS   = -lm
-+SHDEPS   = -lm -Wl,-all,-lgcc,-none
-+# Some testcases in the testsuite required symbols from libgcc, say,
-+# __pure_virtual, that would not have been copied into libstdc++
-+# without this -Wl switch above.  But __pure_virtual depended on other
-+# symbols of libgcc that had been copied to libstdc++.  However,
-+# DU4.0d's ld would report such symbols as duplicates, and refuse to
-+# link.  Forcing some symbols from libgcc into libstdc++ ensures that
-+# we don't get such late undefined symbols, avoiding the bogus
-+# multiple-definition errors.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/DOWNLOAD gcc/install/DOWNLOAD
--- gcc-2.95.2/install/DOWNLOAD	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/DOWNLOAD	1970-01-01 10:00:00.000000000 +1000
@@ -1,39 +0,0 @@
-
-                              Downloading GCC
-                                      
-   GCC is distributed via FTP tarballs compressed with gzip or bzip2. It
-   is possible to download a full distribution or specific components.
-   
-   The full distribution includes the C, C++, Objective-C, Fortran, Java,
-   and Chill compilers. The full distribution also includes runtime
-   libraries for C++, Objective-C and Fortran. In the future the GNU
-   compiler testsuites will be included in the full distribution.
-   
-   If you choose to download specific components, you must download the
-   core gcc distribution plus any language specific distributions you
-   wish to use. The core distribution includes the C language front-end
-   as well as the shared componenets. Each language has a tarball which
-   includes the language front-end as well as the language runtime (when
-   appropriate).
-   
-   Unpack the core distribution as well as any language specific
-   distributions in the same directory.
-   
-   XXX FSF mirror sites
-   
-   [1]FTP download from egcs.cygnus.com (USA California)
-   
-   [2]FTP download from go.cygnus.com (USA California -- High speed link
-   provided by Stanford)
-   
-   GCC releases are available on many [3]FTP mirror sites. If possible,
-   please use one of these.
-     _________________________________________________________________
-   
-   _Last modified on July 16, 1999._
-
-References
-
-   1. ftp://egcs.cygnus.com/pub/egcs/releases/index.html
-   2. ftp://go.cygnus.com/pub/sourceware.cygnus.com/pub/egcs/releases/index.html
-   3. http://gcc.gnu.org/mirrors.html
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/download.html gcc/install/download.html
--- gcc-2.95.2/install/download.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/download.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,38 +0,0 @@
-<html>
-<head>
-<title>Downloading GCC</title>
-</head>
-<body>
-<h1 align="center">Downloading GCC</h1>
-
-<p>GCC is distributed via FTP tarballs compressed with gzip or bzip2.  It is
-possible to download a full distribution or specific components.
-
-<p>The full distribution includes the C, C++, Objective-C, Fortran, Java,
-and Chill compilers.  The full distribution also includes runtime libraries
-for C++, Objective-C and Fortran.  In the future the GNU compiler testsuites
-will be included in the full distribution.
-
-<p>If you choose to download specific components, you must download the core
-gcc distribution plus any language specific distributions you wish to
-use.  The core distribution includes the C language front-end as well as the
-shared componenets. Each language has a tarball which includes the language
-front-end as well as the language runtime (when appropriate).
-
-<p>Unpack the core distribution as well as any language specific distributions
-in the same directory.
-
-<p>XXX FSF mirror sites
-<p><a href="ftp://egcs.cygnus.com/pub/egcs/releases/index.html">
-FTP download from egcs.cygnus.com (USA California)</a>
-<p><a href="ftp://go.cygnus.com/pub/sourceware.cygnus.com/pub/egcs/releases/index.html">
-FTP download from go.cygnus.com (USA California -- High speed link
-provided by Stanford)</a>
-<p>GCC releases are available on many <a href="../mirrors.html">FTP mirror sites</a>. If possible, please use one of these.
-
-<p>
-<hr>
-<i>Last modified on July 16, 1999.</i>
-
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/FINALINSTALL gcc/install/FINALINSTALL
--- gcc-2.95.2/install/FINALINSTALL	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/FINALINSTALL	1970-01-01 10:00:00.000000000 +1000
@@ -1,29 +0,0 @@
-
-                     Installing GCC: Final installation
-                                      
-   Now that GCC has been built and tested, you can install it with `cd
-   _objdir_; make install' for a native compiler or `cd _objdir_; make
-   install LANGUAGES="c c++"' for a cross compiler (note installing cross
-   compilers will be easier in the next release!).
-   
-   That step completes the installation of GCC; user level binaries can
-   be found in _prefix_/bin where _prefix_ is the value you specified
-   with the --prefix to configure (or /usr/local by default).
-   
-   If you don't mind, please quickly review the [1]build status page. If
-   your system is not listed, send a note to [2]gcc@gcc.gnu.org
-   indicating that you successfully built and installed GCC. Include the
-   output from running _srcdir_/config.guess. (Do not send us the
-   config.guess file itself, just the output from running it!)
-   
-   If you find a bug, please report it following our [3]bug reporting
-   guidlines.
-     _________________________________________________________________
-   
-   _Last modified on July 16, 1999._
-
-References
-
-   1. http://egcs.cygnus.com/gcc-2.95/buildstat.html
-   2. mailto:gcc@gcc.gnu.org
-   3. http://gcc.gnu.org/faq.html#bugreport
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/finalinstall.html gcc/install/finalinstall.html
--- gcc-2.95.2/install/finalinstall.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/finalinstall.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,37 +0,0 @@
-<html>
-<head>
-<title>Installing GCC: Final installation</title>
-</head>
-<body>
-<h1 align="center">Installing GCC: Final installation</h1>
-
-<p>Now that GCC has been built and tested, you can install it with
-`<code>cd <i>objdir</i>; make install</code>' for a native compiler or
-`<code>cd <i>objdir</i>; make install LANGUAGES="c c++"</code>' for 
-a cross compiler (note installing cross compilers will be easier in the 
-next release!).
-
-
-<p>That step completes the installation of GCC; user level binaries can
-be found in <i>prefix</i>/bin where <i>prefix</i> is the value you specified
-with the --prefix to configure (or /usr/local by default).
-
-<p>If you don't mind, please quickly review the <a
-href="http://egcs.cygnus.com/gcc-2.95/buildstat.html">build status page</a>.
-If your system is not listed, send a note to
-<a href="mailto:gcc@gcc.gnu.org">gcc@gcc.gnu.org</a> indicating
-that you successfully built and installed GCC.
-
-Include the output from running <i>srcdir</i>/config.guess.  (Do not
-send us the config.guess file itself, just the output from running
-it!)
-
-<p>If you find a bug, please report it following our <a
-href="../faq.html#bugreport">bug reporting guidlines</a>.
-
-<p>
-<hr>
-<i>Last modified on July 16, 1999.</i>
-
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/INDEX gcc/install/INDEX
--- gcc-2.95.2/install/INDEX	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/INDEX	1970-01-01 10:00:00.000000000 +1000
@@ -1,51 +0,0 @@
-
-                               Installing GCC
-                                      
-   The latest version of this document is always available at
-   [1]http://egcs.cygnus.com/install/.
-   
-   This document describes the generic installation procedure for GCC as
-   well as detailing some target specific installation instructions.
-   
-   GCC includes several components that previously were separate
-   distributions with their own installation instructions. This document
-   supercedes all package specific installation instructions. We provide
-   the component specific installation information in the source
-   distribution for historical reference purposes only.
-   
-   We recommend you read the entire generic installation instructions as
-   well as any target specific installation instructions before you
-   proceed to configure, build, test and install GCC.
-   
-   If something goes wrong in the configure, build, test or install
-   procedures, first double check that you followed the generic and
-   target specific installation instructions carefully. Then check the
-   [2]FAQ to see if your problem is covered before you file a bug report.
-   
-   _Before_ starting the build/install procedure _please_ browse the
-   [3]host/target specific installation notes.
-   
-   The installation procedure is broken into five steps.
-     * [4]downloading the source
-     * [5]configure
-     * [6]build
-     * [7]test (optional)
-     * [8]install
-     _________________________________________________________________
-   
-   [9]Return to the GCC home page
-     _________________________________________________________________
-   
-   _Last modified on July 15, 1999._
-
-References
-
-   1. http://egcs.cygnus.com/install/
-   2. http://gcc.gnu.org/faq.html
-   3. http://gcc.gnu.org/install/specific.html
-   4. http://gcc.gnu.org/install/download.html
-   5. http://gcc.gnu.org/install/configure.html
-   6. http://gcc.gnu.org/install/build.html
-   7. http://gcc.gnu.org/install/test.html
-   8. http://gcc.gnu.org/install/finalinstall.html
-   9. http://gcc.gnu.org/index.html
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/index.html gcc/install/index.html
--- gcc-2.95.2/install/index.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/index.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,50 +0,0 @@
-<html>
-<head>
-<title>Installing GCC</title>
-</head>
-<body>
-<h1 align="center">Installing GCC</h1>
-
-<p>The latest version of this document is always available at <a href="
-http://egcs.cygnus.com/install/">http://egcs.cygnus.com/install/</a>.
-
-<p>This document describes the generic installation procedure for GCC as
-well as detailing some target specific installation instructions.
-
-<p>GCC includes several components that previously were separate distributions
-with their own installation instructions.  This document supercedes all 
-package specific installation instructions.  We provide the component specific
-installation information in the source distribution for historical reference
-purposes only.
-
-<p>We recommend you read the entire generic installation instructions as
-well as any target specific installation instructions before you proceed
-to configure, build, test and install GCC.
-
-<p>If something goes wrong in the configure, build, test or install
-procedures, first double check that you followed the generic and target
-specific installation instructions carefully.  Then check the 
-<a href="../faq.html">FAQ</a> to see if your problem is covered before you file
-a bug report.
-
-<p><em>Before</em> starting the build/install procedure <em>please</em> browse
-the <a href="specific.html">host/target specific installation notes</a>.
-
-<p>The installation procedure is broken into five steps.
-
-<ul>
-
-  <li> <a href="download.html">downloading the source</a>
-  <li> <a href="configure.html">configure</a>
-  <li> <a href="build.html">build</a>
-  <li> <a href="test.html">test</a> (optional)
-  <li> <a href="finalinstall.html">install</a>
-
-</ul>
-
-<hr>
-<a href="../index.html">Return to the GCC home page</a>
-<hr>
-<i>Last modified on July 15, 1999.</i>
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/sco_osr5_g77.patch gcc/install/sco_osr5_g77.patch
--- gcc-2.95.2/install/sco_osr5_g77.patch	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/sco_osr5_g77.patch	1970-01-01 10:00:00.000000000 +1000
@@ -1,27 +0,0 @@
-Index: libf2c/libI77/lread.c
-===================================================================
-RCS file: /cvs/egcs/egcs/libf2c/libI77/lread.c,v
-retrieving revision 1.4
-diff -u -p -r1.4 lread.c
---- lread.c	1999/03/17 08:21:19	1.4
-+++ lread.c	1999/07/11 03:42:33
-@@ -70,7 +70,18 @@ un_getc(int x, FILE *f__cf)
- #endif
- { return ungetc(x,f__cf); }
- #else
--#define un_getc ungetc
-+ /* The OpenServer 5.0.5 dynamic linker aborts on g77 programs 
-+  * that link against this object.   Simply changing the shape of 
-+  * this relocation is enough to circumvent the bug in the dynamic 
-+  * linker.
-+  */
-+#if 0
-+ #define un_getc ungetc
-+#else
-+ typedef int (blah) (int c, FILE *stream);
-+ blah *un_getc = ungetc;
-+#endif
-+
- #ifdef KR_headers
-  extern int ungetc();
- #else
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/SPECIFIC gcc/install/SPECIFIC
--- gcc-2.95.2/install/SPECIFIC	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/SPECIFIC	1970-01-01 10:00:00.000000000 +1000
@@ -1,584 +0,0 @@
-
-              Host/Target specific installation notes for GCC
-                                      
-   Please read this document carefully _before_ installing the GNU
-   Compiler Collection on your machine.
-     * [1]alpha*-dec-linux*
-     * [2]alpha*-dec-osf*
-     * [3]GCC with DOS
-     * [4]hppa*-hp-hpux*
-     * [5]hppa*-hp-hpux9
-     * [6]hppa*-hp-hpux10
-     * [7]i?86-*-linux*
-     * [8]i?86-*-sco3.2v5*
-     * [9]i?86-*-udk
-     * [10]*-ibm-aix*
-     * [11]m68k-*-nextstep*
-     * [12]m68k-sun-sunos4.1.1
-     * [13]mips*-sgi-irix[45]
-     * [14]mips*-sgi-irix6
-     * [15]powerpc-*-linux-gnu*
-     * [16]*-*-solaris*
-     * [17]sparc-sun-solaris*
-     * [18]sparc-sun-solaris2.7
-     * [19]Sun V5.0 Compiler Bugs
-     * [20]sparc-sun-sunos*
-     * [21]sparc-unknown-linux-gnulibc1
-     * [22]sparc64-*-*
-     * [23]GCC with Windows or OS/2
-       
-     * [24]all ELF targets (SVR4, Solaris, etc.)
-     _________________________________________________________________
-   
-  alpha*-dec-linux*
-  
-   GNU/Linux Alpha EV56 or PCA56 hosts running Red Hat 4.2 or 5.0 may see
-   errors of this sort:
-  Error: Unknown pseudo-op:  `.arch'
-
-   This is a signal that a new assembler is needed if you want to
-   generate BWX insns for your machine.
-   
-   The version of GCC shipped with Red Hat 4.2 (2.7.0.2) has a fault
-   wherein it will silently generate incorrect code. The version shipped
-   with Red Hat 5.0 (2.8.0.1) is not broken, but required an extra
-   -m21164a argument on the command-line. In order to visibly trap
-   2.7.0.2, I now issue DEC's .arch pseudo into the assembly. Relieving
-   the problem of mucking with command-line arguments for 2.8.0.1 is a
-   pleasant side effect.
-   
-   If you've got Red Hat 5.0 installed, you may grab binutils 2.9.1 and
-   be happy. If you've got Red Hat 4.2, bugs make it much harder to
-   upgrade pieces on your own, and you are better off upgrading the
-   entire system.
-   
-   In either case, your problem may be bypassed by not emitting BWX code
-   by default. Do this by using
-  configure alphaev5-unknown-linux-gnulibc1
-
-   if you have RH 4.2, or
-  configure alphaev5-unknown-linux-gnu
-
-   if you have RH 5.0.
-   
-   The following error:
-  Error: macro requires $at register while noat in effect
-
-   also indicates that you should upgrade to a newer version of the
-   assembler, 2.9 or later. If you can not upgrade the assembler, the
-   compiler option "-Wa,-m21164a" may work around this problem.
-     _________________________________________________________________
-   
-  alpha*-dec-osf*
-  
-   If you install a shared libstdc++ and, when you link a non-trivial C++
-   program (for example, gcc/testsuite/g++.other/delete3.C), the linker
-   reports a couple of errors about multiply-defined symbols (for
-   example, nothrow, __throw and terminate(void)), you've probably got a
-   linker bug, for which there's no known fix. The officially recommended
-   work-around is to remove the shared libstdc++.
-   
-   An alternative solution is to arrange that all symbols from libgcc get
-   copied to the shared libstdc++; see detailed solution below.
-   (Surprising as it may seem, this does indeed fix the problem!) _Beware_
-   that this may bring you binary-compatibility problems in the future,
-   if you don't use the same work-around next time you build libstdc++:
-   if programs start to depend on libstdc++ to provide symbols that used
-   to be only in libgcc, you must arrange that libstdc++ keeps providing
-   them, otherwise the programs will have to be relinked.
-   
-   The magic spell is to add -Wl,-all,-lgcc,-none to the definition of
-   macro SHDEPS in libstdc++/config/dec-osf.ml _before_
-   alpha*-dec-osf*/libstdc++/Makefile is created (a [25]patch that does
-   just that is available). If the Makefile already exists, run
-   ./config.status within directory alpha*-dec-osf*/libstdc++ (and
-   alpha*-dec-osf*/ieee/libstdc++, if it also exists). Remove any
-   existing libstdc++.so* from such directories, and run make
-   all-target-libstdc++ in the top-level directory, then make
-   install-target-libstdc++.
-   
-   If you have already removed the build tree, you may just remove
-   libstdc++.so.2.10.0 from the install tree and re-create it with the
-   command gcc -shared -o libstdc++.so.2.10.0
-   -Wl,-all,-lstdc++,-lgcc,-none -lm. If the ieee sub-directory exists,
-   repeat this command in it, with the additional flag -mieee.
-     _________________________________________________________________
-   
-  GCC with DOS
-  
-  A binary distribution is available at [26]Simtel.Net and its mirrors.
-    ________________________________________________________________________
-  
-  hppa*-hp-hpux*
-  
-  We _highly_ recommend using gas/binutils-2.8 or newer on all hppa platforms;
-  you may encounter a variety of problems when using the HP assembler.
-  
-  If you wish to use pa-risc 2.0 architecture support, you must use either the
-  HP assembler or a recent [27]snapshot of gas.
-  
-  More specific information to hppa*-hp-hpux* targets follows.
-    ________________________________________________________________________
-  
-  hppa*-hp-hpux9
-  
-  The HP assembler has major problems on this platform. We've tried to work
-  around the worst of the problems. However, those workarounds may be causing
-  linker crashes in some circumstances; the workarounds also probably prevent
-  shared libraries from working. Use the GNU assembler to avoid these problems.
-  
-  The configuration scripts for GCC will also trigger a bug in the hpux9 shell.
-  To avoid this problem set CONFIG_SHELL to /bin/ksh and SHELL to /bin/ksh in
-  your environment.
-    ________________________________________________________________________
-  
-  hppa*-hp-hpux10
-  
-  For hpux10.20, we _highly_ recommend you pick up the latest sed patch
-  PHCO_15468 from HP. HP has two sites which provide patches free of charge:
-     * [28]US, Canada, Asia-Pacific, and Latin-America
-     * [29]Europe
-       
-   The HP assembler on these systems is much better than the hpux9
-   assembler, but still has some problems. Most notably the assembler
-   inserts timestamps into each object file it creates, causing the
-   3-stage comparison test to fail during a `make bootstrap'. You should
-   be able to continue by saying `make all' after getting the failure
-   from `make bootstrap'.
-     _________________________________________________________________
-   
-  i?86-*-linux*
-  
-   You will need binutils-2.9.1.0.15 or newer for exception handling to
-   work.
-   
-   If you receive Signal 11 errors when building on GNU/Linux, then it is
-   possible you have a hardware problem. Further information on this can
-   be found on [30]www.bitwizard.nl.
-     _________________________________________________________________
-   
-  i?86-*-sco3.2v5*
-  
-   If you are building languages other than C, you must follow the
-   instructions about invoking `make bootstrap' because the native
-   OpenServer compiler will build a cc1plus that will not correctly parse
-   many valid C++ programs including those in libgcc.a. _You must do a
-   `make bootstrap' if you are building with the native compiler._
-   
-   Use of the `-march-pentiumpro' flag can result in unrecognized opcodes
-   when using the native assembler. While it's rather rare to see these
-   emitted by GCC yet, errors of the basic form:
-  /usr/tmp/ccaNlqBc.s:22:unknown instruction: fcomip
-  /usr/tmp/ccaNlqBc.s:50:unknown instruction: fucomip
-
-   are symptoms of this problem. You may work around this by not building
-   affected files with that flag or by using the GNU assembler. Users of
-   GNU assembler should see the note below for hazards on doing so.
-   
-   If you choose to configure with --enable-shared you should also
-   specificy --with-gnu-as --disable-multilib even if you are not using
-   the GNU assembler. In doing so you will give up the ability to
-   generate COFF executables as described below. This combination of
-   flags is necessary to suppress negative interactions with multilibing.
-   
-   The native SCO assembler that is provided with the OS at no charge is
-   normally required. If, however, you must be able to use the GNU
-   assembler you may configure this package using the flags
-   --with-gnu-as. You must use a recent version of GNU binutils; version
-   2.9.1 seems to work well. If you select this option, you will be
-   unable to reliably build COFF images. In general, the --with-gnu-as
-   option isn't as well tested as the native assembler.
-   
-   Unlike various prereleases of GCC that used -belf and defaulted to
-   COFF, you must now use the -melf and -mcoff flags to toggle between
-   the two object file formats. ELF is now the default.
-   
-   Look in gcc/config/i386/sco5.h (search for "messy") for additional
-   OpenServer-specific flags.
-   
-   Systems based on OpenServer before 5.0.4 (`uname -X' will tell you
-   what you're running) require TLS597 from ftp.sco.com/TLS for C++
-   constructors and destructors to work right.
-   
-   The system linker in (at least) 5.0.4 and 5.0.5 will sometimes do the
-   wrong thing for a construct that GCC will emit for PIC code. This can
-   be seen as execution testsuite failures when using -fPIC on
-   921215-1.c, 931002-1.c, nestfunc-1.c, and gcov-1.c. For 5.0.5, an
-   updated linker that will cure this problem is available. You must
-   install both [31]ftp://ftp.sco.com/Supplements/rs505a/ and
-   [32]OSS499A.
-   
-   The dynamic linker in OpenServer 5.0.5 (earlier versions may show the
-   same problem) aborts on certain g77-compiled programs. It's
-   particluarly likely to be triggered by building Fortran code with the
-   -fPIC flag. Although it's conceivable that the error could be
-   triggered by other code, only G77-compiled code has been observed to
-   cause this abort. If you are getting core dumps immediately upon
-   execution of your g77 program - and especially if it's compiled with
-   -fPIC - try applying [33]`sco_osr5_g77.patch' to your libf2c and
-   rebuilding GCC. Affected faults, when analyzed in a debugger, will
-   show a stack backtrace with a fault occurring in rtld() and the
-   program running as /usr/lib/ld.so.1. This problem has been reported to
-   SCO engineering and will hopefully be addressed in later releases.
-     _________________________________________________________________
-   
-  i?86-*-udk
-  
-   This target emulates the SCO Universal Development Kit and requires
-   that package be installed. (If it is installed, you will have a
-   /udk/usr/ccs/bin/cc file present.) It's very much like the
-   i?86-*-unixware7* target but is meant to be used when hosting on a
-   system where UDK isn't the default compiler such as OpenServer 5 or
-   Unixware 2. This target will generate binaries that will run on
-   OpenServer, Unixware 2, or Unixware 7, with the same warnings and
-   caveats as the SCO UDK.
-   
-   You can stage1 with either your native compiler or with UDK. If you
-   don't do a full bootstrap when initially building with your native
-   compiler you will have an utterly unusable pile of bits as your
-   reward.
-   
-   This target is a little tricky to build because we have to distinguish
-   it from the native tools (so it gets headers, startups, and libraries
-   from the right place) while making the tools not think we're actually
-   building a cross compiler. The easiest way to do this is with a
-   configure command like this:
-  CC=/udk/usr/ccs/bin/cc _/your/path/to/_gcc/configure --host=i686-pc-udk --tar
-get=i686-pc-udk --exec-prefix=udk-
-
-   _You should substitute 'i686' in the above command with the
-   appropriate processor for your host._
-   
-   You should follow this with a `make bootstrap' then `make install'.
-   You can then access the UDK-targeted GCC tools by adding udk- before
-   the commonly known name. For example, to invoke the C compiler, you
-   would use `udk-gcc'. They will coexist peacefully with any
-   native-target GCC tools you may have installed.
-     _________________________________________________________________
-   
-  *-ibm-aix*
-  
-   AIX Make frequently has problems with GCC makefiles. GNU Make 3.76 or
-   newer is recommended to build on this platform.
-   
-   Errors involving "alloca" when building GCC generally are due to an
-   incorrect definition of CC in the Makefile or mixing files compiled
-   with the native C compiler and GCC. During the stage1 phase of the
-   build, the native AIX compiler _must_ be invoked as "cc" (not "xlc").
-   Once configure has been informed of "xlc", one needs to use "make
-   distclean" to remove the configure cache files and ensure that $CC
-   environment variable does not provide a definition that will confuse
-   configure. If this error occurs during stage2 or later, then the
-   problem most likely is the version of Make (see above).
-   
-   Some versions of the AIX binder (linker) can fail with a relocation
-   overflow severe error when the -bbigtoc option is used to link
-   GCC-produced object files into an executable that overflows the TOC. A
-   fix for APAR IX75823 (OVERFLOW DURING LINK WHEN USING GCC AND
-   -BBIGTOC) is available from IBM Customer Support and from its
-   [34]service.boulder.ibm.com website as PTF U455193.
-   
-   Binutils does not support AIX 4.3 (at least through release 2.9). GNU
-   as and GNU ld will not work properly and one should not configure GCC
-   to use those GNU utilities. Use the native AIX tools which do
-   interoperate with GCC.
-   
-   AIX 4.3 utilizes a new "large format" archive to support both 32-bit
-   and 64-bit object modules. The routines provided in AIX 4.3.0 and AIX
-   4.3.1 to parse archive libraries did not handle the new format
-   correctly. These routines are used by GCC and result in error messages
-   during linking such as "not a COFF file". The version of the routines
-   shipped with AIX 4.3.1 should work for a 32-bit environment. The -g
-   option of the archive command may be used to create archives of 32-bit
-   objects using the original "small format". A correct version of the
-   routines is shipped with AIX 4.3.2.
-   
-   The initial assembler shipped with AIX 4.3.0 generates incorrect
-   object files. A fix for APAR IX74254 (64BIT DISASSEMBLED OUPUT FROM
-   COMPILER FAILS TO ASSEMBLE/BIND) is available from IBM Customer
-   Support and from its [35]service.boulder.ibm.com website as PTF
-   U453956. This fix is incorporated in AIX 4.3.1 and above.
-   
-   The AIX 4.3.2.1 linker (bos.rte.bind_cmds Level 4.3.2.1) will dump
-   core with a segmentation fault when invoked by any version of GCC. A
-   fix for APAR IX87327 will be available from IBM Customer Support.
-     _________________________________________________________________
-   
-  m68k-*-nextstep*
-  
-   You absolutely _must_ use GNU sed and GNU make on this platform.
-   
-   On NEXTSTEP 3.x where x < 3 the build of GCC will abort during stage1
-   with an error message like this:
-  _eh
-  /usr/tmp/ccbbsZ0U.s:987:Unknown pseudo-op: .section
-  /usr/tmp/ccbbsZ0U.s:987:Rest of line ignored. 1st junk character
-  valued 95 (_).
-
-   The reason for this is the fact that NeXT's assembler for these
-   versions of the operating system does not support the .section pseudo
-   op that's needed for full C++ exception functionality.
-   
-   As NeXT's assembler is a derived work from GNU as, a free replacement
-   that does can be obtained at
-   [36]ftp://ftp.next.peak.org:/next-ftp/next/apps/devtools/as.3.3.NIHS.s
-   .tar.gz.
-   
-   If you try to build the integrated C++ & C++ runtime libraries on this
-   system you will run into trouble with include files. The way to get
-   around this is to use the following sequence. Note you must have write
-   permission to the directory _prefix_ you secified in the configuration
-   preocess of GCC for this sequence to work.
-  cd bld-gcc
-  make all-texinfo all-bison all-byacc all-binutils all-gas all-ld
-  cd gcc
-  make bootstrap
-  make install-headers-tar
-  cd ..
-  make bootstrap3
-     _________________________________________________________________
-   
-  m68k-sun-sunos4.1.1
-  
-   It is reported that you may need the GNU assembler on this platform.
-     _________________________________________________________________
-   
-  mips*-sgi-irix[45]
-  
-   You must use GAS on these platforms, as the native assembler can not
-   handle the code for exception handling support. Either of these
-   messages indicates that you are using the MIPS assembler when instead
-   you should be using GAS:
-  as0: Error: ./libgcc2.c, line 1:Badly delimited numeric literal
-  .4byte $LECIE1-$LSCIE1
-  as0: Error: ./libgcc2.c, line 1:malformed statement
-
-   or:
-  as0: Error: /src/bld-gcc/gcc/libgcc2.c, line 1:undefined symbol in expression
-  .word $LECIE1-$LSCIE1
-
-   These systems don't have ranlib, which various components in GCC need;
-   you should be able to avoid this problem by installing GNU binutils,
-   which includes a functional ranlib for this system.
-   
-   You may get the following warning on irix4 platforms, it can be safely
-   ignored.
-  warning: foo.o does not have gp tables for all its sections.
-
-   When building GCC, the build process loops rebuilding cc1 over and
-   over again. This happens on mips-sgi-irix5.2, and possibly other
-   platforms.
-   It has been reported that this is a known bug in the make shipped with
-   IRIX 5.2. We recommend you use GNU make instead of the vendor supplied
-   make program; however, you may have success with "smake" on IRIX 5.2
-   if you do not have GNU make available.
-   
-   See [37]http://reality.sgi.com/ariel/freeware for more information
-   about using GCC on IRIX platforms.
-     _________________________________________________________________
-   
-  mips*-sgi-irix6
-  
-   You must _not_ use GAS on irix6 platforms; doing so will only cause
-   problems.
-   
-   These systems don't have ranlib, which various components in GCC need;
-   you should be able to avoid this problem by making a dummy script
-   called ranlib which just exits with zero status and placing it in your
-   path.
-   
-   GCC does not currently support generating O32 ABI binaries in the
-   mips-sgi-irix6 configurations. It used to be possible to create a GCC
-   with O32 ABI only support by configuring it for the mips-sgi-irix5
-   target. See the link below for details.
-   
-   GCC does not correctly pass/return structures which are smaller than
-   16 bytes and which are not 8 bytes. The problem is very involved and
-   difficult to fix. It affects a number of other targets also, but IRIX
-   6 is affected the most, because it is a 64 bit target, and 4 byte
-   structures are common. The exact problem is that structures are being
-   padded at the wrong end, e.g. a 4 byte structure is loaded into the
-   lower 4 bytes of the register when it should be loaded into the upper
-   4 bytes of the register.
-   
-   GCC is consistent with itself, but not consistent with the SGI C
-   compiler [and the SGI supplied runtime libraries], so the only
-   failures that can happen are when there are library functions that
-   take/return such structures. There are very few such library
-   functions. I can only recall seeing two of them: inet_ntoa, and
-   semctl.
-   
-   See [38]http://reality.sgi.com/ariel/freeware for more information
-   about using GCC on IRIX platforms.
-     _________________________________________________________________
-   
-  powerpc-*-linux-gnu*
-  
-   You will need [39]binutils-2.9.4.0.8 or newer for a working GCC. It is
-   strongly recommended to recompile binutils if you initially built it
-   with gcc-2.7.2.x.
-     _________________________________________________________________
-   
-  *-*-solaris*
-  
-   Starting with Solaris, Sun does not ship a C compiler any more. To
-   bootstrap and install GCC you first have to install a pre-built
-   compiler, for example from [40]http://www.sunfreeware.com.
-   
-   Sun as 4.X is broken in that it cannot cope with long symbol names. A
-   typical error message might look similiar to the following:
-   
-     /usr/ccs/bin/as: "/var/tmp/ccMsw135.s", line 11041: error: can't
-     compute value of an expression involving an external symbol.
-     
-   See the [41]How to work around too long C++ symbol names? FAQ entry
-   for further information.
-   
-   Sun make in all known Solaris 1 (SunOS 4) and Solaris 2 releases has a
-   broken _VPATH_ mechanism, which means you must either:
-     * Use GNU make (recommended), _or:_
-     * Always build in the source directory, _or:_
-     * _(For GCC 2.95.1 only)_ apply the patches mentioned at
-       [42]http://www.gnu.org/software/gcc/egcstensions.html#sun-make.
-     _________________________________________________________________
-   
-  sparc-sun-solaris*
-  
-   binutils 2.9.1 has known bugs on this platform. We recommend to use
-   the vendor tools (Sun as, Sun ld) until these have been fixed.
-     _________________________________________________________________
-   
-  sparc-sun-solaris2.7
-  
-   Sun patch 107058-01 (1999-01-13) for SPARC Solaris 7 triggers a bug in
-   the dynamic linker. This problem (Sun bug 4210064) affects GCC 2.8 and
-   later, including all EGCS releases. Sun formerly recommended 107058-01
-   for all Solaris 7 users, but around 1999-09-01 it started to recommend
-   it only for people who use Sun's compilers.
-   
-   Here are some workarounds to this problem:
-     * Do not install Sun patch 107058-01 until after Sun releases a
-       complete patch for bug 4210064. This is the simplest course to
-       take, unless you must also use Sun's C compiler. Unfortunately
-       107058-01 is preinstalled on some new Solaris-based hosts, so you
-       may have to back it out.
-     * Copy the original, unpatched Solaris 7 /usr/ccs/bin/as into
-       /usr/local/lib/gcc-lib/sparc-sun-solaris2.7/2.95.1/as, adjusting
-       the latter name to fit your local conventions and software version
-       numbers.
-     * Install Sun patch 106950-03 (1999-05-25) or later. Nobody with
-       both 107058-01 and 106950-03 installed has reported the bug with
-       GCC and Sun's dynamic linker. This last course of action is
-       riskiest, for two reasons. First, you must install 106950 on all
-       hosts that run code generated by GCC; it doesn't suffice to
-       install it only on the hosts that run GCC itself. Second, Sun says
-       that 106950-03 is only a partial fix for bug 4210064, but Sun
-       doesn't know whether the partial fix is adequate for GCC. Revision
-       -08 or later should fix the bug, but (as of 1999-10-06) it is
-       still being tested.
-     _________________________________________________________________
-   
-  Sun V5.0 Compiler Bugs
-  
-   The Sun V5.0 compilers are known to mis-compile GCC, which in turn
-   causes GCC to fail its bootstrap comparison test. We expect to have a
-   workaround ready in time for GCC 2.95.2.
-     _________________________________________________________________
-   
-  sparc-sun-sunos*
-  
-   A bug in the SunOS4 linker will cause it to crash when linking -fPIC
-   compiled objects (and will therefore not allow you to build shared
-   libraries).
-   
-   To fix this problem you can either use the most recent version of
-   binutils or get the latest SunOS4 linker patch (patch ID 100170-10)
-   from Sun's patch site.
-     _________________________________________________________________
-   
-  sparc-unknown-linux-gnulibc1
-  
-   It has been reported that you might need [43]binutils-2.8.1.0.23 for
-   this platform, too.
-     _________________________________________________________________
-   
-  sparc64-*-*
-  
-   GCC version 2.95 is not able to compile code correctly for sparc64
-   targets. Users of the Linux kernel, at least, can use the sparc32
-   program to start up a new shell invocation with an environment that
-   causes configure to recognize (via uname -a) the system as sparc-*-*
-   instead.
-     _________________________________________________________________
-   
-  GCC with Windows or OS/2
-  
-   GCC does not currently support Windows, either natively or with the
-   cygwin32 dll. However Mumit Khan has been working on supporting
-   Windows with GCC. You should check out his site if you're interested
-   in Windows support. [44]GNU Win32 related projects
-   
-   GCC does not currently support OS/2. However, Andrew Zabolotny has
-   been working on a generic os/2 port with pgcc. The current code code
-   can be found at [45]http://www.goof.com/pcg/os2/.
-     _________________________________________________________________
-   
-  all ELF targets (SVR4, Solaris, etc.)
-  
-   C++ support is significantly better on ELF targets if you use the GNU
-   linker; duplicate copies of inlines, vtables and template
-   instantiations will be discarded automatically.
-     _________________________________________________________________
-   
-   [46]Return to the GCC Installation page
-   
-   _Last modified on October 17, 1999._
-
-References
-
-   1. http://gcc.gnu.org/install/specific.html#alpha*-dec-linux*
-   2. http://gcc.gnu.org/install/specific.html#alpha*-dec-osf*
-   3. http://gcc.gnu.org/install/specific.html#dos
-   4. http://gcc.gnu.org/install/specific.html#hppa*-hp-hpux*
-   5. http://gcc.gnu.org/install/specific.html#hppa*-hp-hpux9
-   6. http://gcc.gnu.org/install/specific.html#hppa*-hp-hpux10
-   7. http://gcc.gnu.org/install/specific.html#ix86-*-linux*
-   8. http://gcc.gnu.org/install/specific.html#ix86-*-sco3.2v5*
-   9. http://gcc.gnu.org/install/specific.html#ix86-*-udk
-  10. http://gcc.gnu.org/install/specific.html#*-ibm-aix*
-  11. http://gcc.gnu.org/install/specific.html#m68k-*-nextstep*
-  12. http://gcc.gnu.org/install/specific.html#m68k-sun-sunos4.1.1
-  13. http://gcc.gnu.org/install/specific.html#mips*-sgi-irix[45]
-  14. http://gcc.gnu.org/install/specific.html#mips*-sgi-irix6
-  15. http://gcc.gnu.org/install/specific.html#powerpc-*-linux-gnu*
-  16. http://gcc.gnu.org/install/specific.html#*-*-solaris*
-  17. http://gcc.gnu.org/install/specific.html#sparc-sun-solaris*
-  18. http://gcc.gnu.org/install/specific.html#sparc-sun-solaris2.7
-  19. http://gcc.gnu.org/install/specific.html#sunv5
-  20. http://gcc.gnu.org/install/specific.html#sparc-sun-sunos*
-  21. http://gcc.gnu.org/install/specific.html#sparc-unknown-linux-gnulibc1
-  22. http://gcc.gnu.org/install/specific.html#sparc64-*-*
-  23. http://gcc.gnu.org/install/specific.html#win+os2
-  24. http://gcc.gnu.org/install/specific.html#elf_targets
-  25. http://gcc.gnu.org/install/dec-osf-shlibstdc++.patch
-  26. ftp://ftp.simtel.net/pub/simtelnet/gnu/djgpp/
-  27. ftp://sourceware.cygnus.com/pub/binutils/snapshots
-  28. http://us-support.external.hp.com/
-  29. http://europe-support.external.hp.com/
-  30. http://www.bitwizard.nl/sig11/
-  31. ftp://ftp.sco.com/Supplements/rs505a/
-  32. ftp://ftp.sco.com/SLS/
-  33. http://gcc.gnu.org/install/sco_osr5_g77.patch
-  34. http://service.boulder.ibm.com/
-  35. http://service.boulder.ibm.com/
-  36. ftp://ftp.next.peak.org/next-ftp/next/apps/devtools/as.3.3.NIHS.s.tar.gz
-  37. http://reality.sgi.com/ariel/freeware/
-  38. http://reality.sgi.com/ariel/freeware/
-  39. ftp://ftp.varesearch.com/pub/support/hjl/binutils
-  40. http://www.sunfreeware.com/
-  41. http://gcc.gnu.org/faq.html#squangle
-  42. http://www.gnu.org/software/gcc/egcstensions.html#sun-make
-  43. ftp://ftp.yggdrasil.com/private/hjl
-  44. http://www.xraylith.wisc.edu/~khan/software/gnu-win32/
-  45. http://www.goof.com/pcg/os2/
-  46. http://gcc.gnu.org/install/index.html
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/specific.html gcc/install/specific.html
--- gcc-2.95.2/install/specific.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/specific.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,593 +0,0 @@
-<html>
-<head>
-<title>Host/Target specific installation notes for GCC</title>
-</head>
-<body>
-
-<h1 align="center">Host/Target specific installation notes for GCC</h1>
-
-<p>Please read this document carefully <i>before</i> installing the GNU Compiler Collection on your machine.</p>
-
-<ul>
-  <li><a href="#alpha*-dec-linux*">alpha*-dec-linux*</a></li>
-  <li><a href="#alpha*-dec-osf*">alpha*-dec-osf*</a></li>
-  <li><a href="#dos">GCC with DOS</a></li>
-  <li><a href="#hppa*-hp-hpux*">hppa*-hp-hpux*</a></li>
-  <li><a href="#hppa*-hp-hpux9">hppa*-hp-hpux9</a></li>
-  <li><a href="#hppa*-hp-hpux10">hppa*-hp-hpux10</a></li>
-  <li><a href="#ix86-*-linux*">i?86-*-linux*</a></li>
-  <li><a href="#ix86-*-sco3.2v5*">i?86-*-sco3.2v5*</a></li>
-  <li><a href="#ix86-*-udk">i?86-*-udk</a></li>
-  <li><a href="#*-ibm-aix*">*-ibm-aix*</a></li>
-  <li><a href="#m68k-*-nextstep*">m68k-*-nextstep*</a></li>
-  <li><a href="#m68k-sun-sunos4.1.1">m68k-sun-sunos4.1.1</a></li>
-  <li><a href="#mips*-sgi-irix[45]">mips*-sgi-irix[45]</a></li>
-  <li><a href="#mips*-sgi-irix6">mips*-sgi-irix6</a></li>
-  <li><a href="#powerpc-*-linux-gnu*">powerpc-*-linux-gnu*</a></li>
-  <li><a href="#*-*-solaris*">*-*-solaris*</a></li>
-  <li><a href="#sparc-sun-solaris*">sparc-sun-solaris*</a></li>
-  <li><a href="#sparc-sun-solaris2.7">sparc-sun-solaris2.7</a></li>
-  <li><a href="#sunv5">Sun V5.0 Compiler Bugs</a></li>
-  <li><a href="#sparc-sun-sunos*">sparc-sun-sunos*</a></li>
-  <li><a href="#sparc-unknown-linux-gnulibc1">sparc-unknown-linux-gnulibc1</a></li>
-  <li><a href="#sparc64-*-*">sparc64-*-*</a></li>
-  <li><a href="#win+os2">GCC with Windows or OS/2</a></li>
-</ul>
-
-<ul>
-  <li><a href="#elf_targets">all ELF targets (SVR4, Solaris, etc.)</a></li>
-</ul>
-
-
-<!-- -------- host/target specific issues start here ---------------- -->
-
-
-<hr>
-<h3><a name="alpha*-dec-linux*">alpha*-dec-linux*</a></h3>
-
-<p>GNU/Linux Alpha EV56 or PCA56 hosts running Red Hat 4.2 or 5.0 may
-see errors of this sort:</p>
-<pre>
-  Error: Unknown pseudo-op:  `.arch'
-</pre>
-<p>This is a signal that a new assembler is needed if you want to generate BWX insns for your machine.</p>
-
-<p>The version of GCC shipped with Red Hat 4.2 (2.7.0.2) has a fault wherein
-it will silently generate incorrect code.  The version shipped with
-Red Hat 5.0 (2.8.0.1) is not broken, but required an extra -m21164a
-argument on the command-line.  In order to visibly trap 2.7.0.2,
-I now issue DEC's .arch pseudo into the assembly.  Relieving the
-problem of mucking with command-line arguments for 2.8.0.1 is a
-pleasant side effect.</p>
-
-<p>If you've got Red Hat 5.0 installed, you may grab binutils 2.9.1
-and be happy.  If you've got Red Hat 4.2, bugs make it much harder
-to upgrade pieces on your own, and you are better off upgrading
-the entire system.</p>
-
-<p>In either case, your problem may be bypassed by not emitting BWX
-code by default.  Do this by using</p>
-<pre>
-  configure alphaev5-unknown-linux-gnulibc1
-</pre>
-<p>if you have RH 4.2, or</p>
-<pre>
-  configure alphaev5-unknown-linux-gnu
-</pre>
-<p>if you have RH 5.0.</p>
-
-<p>The following error:</p>
-<pre>
-  Error: macro requires $at register while noat in effect
-</pre>
-<p>also indicates that you should upgrade to a newer version of
-the assembler, 2.9 or later.  If you can not upgrade the assembler, the
-compiler option "-Wa,-m21164a" may work around this problem.</p>
-
-
-<hr>
-<h3><a name="alpha*-dec-osf*">alpha*-dec-osf*</a></h3>
-
-<p>If you install a shared libstdc++ and, when you link a non-trivial C++
-program (for example, <code>gcc/testsuite/g++.other/delete3.C</code>),
-the linker reports a couple of errors about multiply-defined symbols
-(for example, <code>nothrow</code>, <code>__throw</code> and
-<code>terminate(void)</code>), you've probably got a linker bug, for
-which there's no known fix.  The officially recommended work-around is
-to remove the shared libstdc++.</p>
-
-<p>An alternative solution is to arrange that all symbols from
-<code>libgcc</code> get copied to the shared <code>libstdc++</code>;
-see detailed solution below.  (Surprising as it may seem, this does
-indeed fix the problem!)  <b>Beware</b> that this may bring you
-binary-compatibility problems in the future, if you don't use the same
-work-around next time you build <code>libstdc++</code>: if programs
-start to depend on <code>libstdc++</code> to provide symbols that used
-to be only in <code>libgcc</code>, you must arrange that
-<code>libstdc++</code> keeps providing them, otherwise the programs
-will have to be relinked.</p>
-
-<p>The magic spell is to add <code>-Wl,-all,-lgcc,-none</code> to the
-definition of macro <code>SHDEPS</code> in
-<code>libstdc++/config/dec-osf.ml</code> <b>before</b>
-<code>alpha*-dec-osf*/libstdc++/Makefile</code> is created (a <a
-href="dec-osf-shlibstdc++.patch">patch</a> that does just that is
-available).  If the Makefile already exists, run
-<code>./config.status</code> within directory
-<code>alpha*-dec-osf*/libstdc++</code> (and
-<code>alpha*-dec-osf*/ieee/libstdc++</code>, if it also exists).
-Remove any existing <code>libstdc++.so*</code> from such directories,
-and run <code>make all-target-libstdc++</code> in the top-level
-directory, then <code>make install-target-libstdc++</code>.</p>
-	  
-<p>If you have already removed the build tree, you may just remove
-<code>libstdc++.so.2.10.0</code> from the install tree and re-create
-it with the command <code>gcc -shared -o libstdc++.so.2.10.0
--Wl,-all,-lstdc++,-lgcc,-none -lm</code>.  If the <code>ieee</code>
-sub-directory exists, repeat this command in it, with the additional
-flag <code>-mieee</code>.</p>
-
-
-<hr>
-<h3><a name="dos">GCC with DOS</h3>
-
-<p>A binary distribution is available at <a
-href="ftp://ftp.simtel.net/pub/simtelnet/gnu/djgpp/">Simtel.Net</A> and its
-mirrors.</p>
-
-
-<hr>
-<h3><a name="hppa*-hp-hpux*">hppa*-hp-hpux*</a></h3>
-
-<p>We <b>highly</b> recommend using gas/binutils-2.8 or newer on all hppa
-platforms; you may encounter a variety of problems when using the HP assembler.</p>
-
-<p>If you wish to use pa-risc 2.0 architecture support, you must use either the
-HP assembler or a recent
-<a href="ftp://sourceware.cygnus.com/pub/binutils/snapshots">snapshot of gas</a>.</p>
-
-<p>More specific information to hppa*-hp-hpux* targets follows.</p>
-
-
-<hr>
-<h3><a name="hppa*-hp-hpux9">hppa*-hp-hpux9</a></h3>
-
-<p>The HP assembler has major problems on this platform.  We've tried to work
-around the worst of the problems.  However, those workarounds may be causing
-linker crashes in some circumstances; the workarounds also probably prevent
-shared libraries from working.  Use the GNU assembler to avoid these problems.</p>
-
-<p>The configuration scripts for GCC will also trigger a bug in the hpux9
-shell.  To avoid this problem set CONFIG_SHELL to /bin/ksh and SHELL to
-/bin/ksh in your environment.</p>
-
-
-<hr>
-<h3><a name="hppa*-hp-hpux10">hppa*-hp-hpux10</a></h3>
-
-<p>For hpux10.20, we <b>highly</b> recommend you pick up the latest sed
-patch <code>PHCO_15468</code> from HP.  HP has two sites which provide patches free of charge:</p>
-<ul>
-  <li><a href="http://us-support.external.hp.com">US, Canada, Asia-Pacific, and
-Latin-America</a></li>
-  <li><a href="http://europe-support.external.hp.com">Europe</a></li>
-</ul>
-
-<p>The HP assembler on these systems is much better than the hpux9 assembler,
-but still has some problems.  Most notably the assembler inserts timestamps
-into each object file it creates, causing the 3-stage comparison test to fail
-during a `<code>make bootstrap</code>'.  You should be able to continue by 
-saying `<code>make all</code>' after getting the failure from `<code>make 
-bootstrap</code>'.</p>
-
-
-<hr>
-<h3><a name="ix86-*-linux*">i?86-*-linux*</a></h3>
-<p>You will need binutils-2.9.1.0.15 or newer for exception handling to work.</p>
-
-<p>If you receive Signal 11 errors when building on GNU/Linux, then it is
-possible you have a hardware problem.  Further information on this can be
-found on <a href="http://www.bitwizard.nl/sig11/">www.bitwizard.nl.</a></p>
-
-
-<hr>
-<h3><a name="ix86-*-sco3.2v5*">i?86-*-sco3.2v5*</a></h3>
-
-<p>If you are building languages other than C, you must follow the instructions
-about invoking `<code>make bootstrap</code>' because the native OpenServer
-compiler will build a <code>cc1plus</code> that will not correctly parse many
-valid C++ programs including those in <code>libgcc.a</code>.  <b>You must do a `<code>make bootstrap</code>' if you are building with the native compiler.</b></p>
-
-<p>Use of the `<code>-march-pentiumpro</code>' flag can result in
-unrecognized opcodes when using the native assembler.  While
-it's rather rare to see these emitted by GCC yet, errors of the basic form:</p>
-<pre>
-  /usr/tmp/ccaNlqBc.s:22:unknown instruction: fcomip
-  /usr/tmp/ccaNlqBc.s:50:unknown instruction: fucomip
-</pre>
-<p>are symptoms of this problem.   You may work around this by not
-building affected files with that flag or by using the GNU assembler.   
-Users of GNU assembler should see the note below for hazards on doing so.</p>
-
-<p>If you choose to configure with <code>--enable-shared</code> you should also
-specificy <code>--with-gnu-as --disable-multilib</code> even if you are not
-using the GNU assembler.   In doing so you will give up the ability
-to generate COFF executables as described below.   This combination 
-of flags is necessary to suppress negative interactions with multilibing.</p>
-
-<p>The native SCO assembler that is provided with the OS at no charge
-is normally required.  If, however, you must be able to use the GNU
-assembler you may configure this package using the flags <code>--with-gnu-as</code>.  
-You must use a recent version of GNU binutils; version 2.9.1 seems to work well.
-If you select this option, you will be unable to reliably build COFF
-images.  In general, the <code>--with-gnu-as</code> option isn't as well tested as the native assembler.</p>
-
-<p>Unlike various prereleases of GCC that used <code>-belf</code> and 
-defaulted to COFF, you must now use the <code>-melf</code> and 
-<code>-mcoff</code> flags to toggle between the two object file formats.     
-ELF is now the default.</p>
-
-<p>Look in <code>gcc/config/i386/sco5.h</code> (search for "messy") for additional OpenServer-specific flags.</p>
-
-<p>Systems based on OpenServer before 5.0.4 (`<code>uname -X</code>' will
-tell you what you're running) require TLS597 from ftp.sco.com/TLS for
-C++ constructors and destructors to work right.</p>
-
-<p>The system linker in (at least) 5.0.4 and 5.0.5 will sometimes
-do the wrong thing for a construct that GCC will emit for PIC
-code.  This can be seen as execution testsuite failures when using
--fPIC on 921215-1.c, 931002-1.c, nestfunc-1.c, and gcov-1.c.
-For 5.0.5, an updated linker that will cure this problem is
-available.  You must install both <a href="ftp://ftp.sco.com/Supplements/rs505a/">
-ftp://ftp.sco.com/Supplements/rs505a/</a> and <a href="ftp://ftp.sco.com/SLS/">
-OSS499A</a>.</p>
-
-<p>The dynamic linker in OpenServer 5.0.5 (earlier versions may show
-the same problem) aborts on certain g77-compiled programs.  It's particluarly
-likely to be triggered by building Fortran code with the <code>-fPIC</code>
-flag.
-Although it's conceivable that the error could be triggered by other
-code, only G77-compiled code has been observed to cause this abort.
-If you are getting core dumps immediately upon execution of your
-g77 program - and especially if it's compiled with -fPIC - try applying
-<a href="sco_osr5_g77.patch"><code>`sco_osr5_g77.patch'</code></a> to your libf2c and 
-rebuilding
-GCC.  Affected faults, when analyzed in a debugger, will show a stack
-backtrace with a fault occurring in <code>rtld()</code> and the program
-running as <code>/usr/lib/ld.so.1</code>.  This problem has been reported to SCO engineering
-and will hopefully be addressed in later releases.</p>
-
-
-<hr>
-<h3><a name="ix86-*-udk">i?86-*-udk</a></h3>
-
-<p>This target emulates the SCO Universal Development Kit and requires that
-package be installed.  (If it is installed, you will have a <code>/udk/usr/ccs/bin/cc </code>file present.)  It's very much like the <code>i?86-*-unixware7*</code> target
-but is meant to be used when hosting on a system where UDK isn't the
-default compiler such as OpenServer 5 or Unixware 2.  This target will
-generate binaries that will run on OpenServer, Unixware 2, or Unixware 7, 
-with the same warnings and caveats as the SCO UDK.</p>
-
-<p>You can stage1 with either your native compiler or with UDK.   If you
-don't do a full bootstrap when initially building with your native compiler
-you will have an utterly unusable pile of bits as your reward.</p>
-
-<p>This target is a little tricky to build because we have to distinguish
-it from the native tools (so it gets headers, startups, and libraries
-from the right place) while making the tools not think we're actually 
-building a cross compiler.   The easiest way to do this is with a configure
-command like this:</p>
-<pre>
-  CC=/udk/usr/ccs/bin/cc <i>/your/path/to/</i>gcc/configure --host=i686-pc-udk --target=i686-pc-udk --exec-prefix=udk-
-</pre>
-<p><i>You should substitute 'i686' in the above command with the appropriate
-processor for your host.</i></p>
-
-<p>You should follow this with a `<code>make bootstrap</code>'  then
-`<code>make install</code>'.  You can then access the UDK-targeted GCC 
-tools by adding <code>udk-</code> before the commonly known name.  For example, to invoke the C compiler, you would use `<code>udk-gcc</code>'.  They will coexist peacefully with any native-target GCC tools you may have installed.</p>
-
-
-<hr>
-<h3><a name="*-ibm-aix*">*-ibm-aix*</a></h3>
-<!-- rs6000-ibm-aix*, powerpc-ibm-aix* -->
-
-<p>AIX Make frequently has problems with GCC makefiles.  GNU Make 3.76 or
-newer is recommended to build on this platform.</p>
-
-<p>Errors involving &quot;alloca&quot; when building GCC generally are due
-to an incorrect definition of <tt>CC</tt> in the Makefile or mixing files
-compiled with the native C compiler and GCC.  During the stage1 phase of
-the build, the native AIX compiler <b>must</b> be invoked as &quot;cc&quot;
-(not &quot;xlc&quot;).  Once <tt>configure</tt> has been informed of
-&quot;xlc&quot;, one needs to use &quot;make distclean&quot; to remove the
-configure cache files and ensure that <tt>$CC</tt> environment variable
-does not provide a definition that will confuse <tt>configure</tt>.
-If this error occurs during stage2 or later, then the problem most likely
-is the version of Make (see above).</p>
-
-<p>Some versions of the AIX binder (linker) can fail with a relocation
-overflow severe error when the -bbigtoc option is used to link
-GCC-produced object files into an executable that overflows the TOC.  A fix
-for APAR IX75823 (OVERFLOW DURING LINK WHEN USING GCC AND -BBIGTOC) is
-available from IBM Customer Support and from its
-<a href="http://service.boulder.ibm.com/">service.boulder.ibm.com</a>
-website as PTF U455193.</p>
-
-<p>Binutils does not support AIX 4.3 (at least through release 2.9).
-GNU as and GNU ld will not work properly and one should not configure GCC
-to use those GNU utilities.  Use the native AIX tools which do interoperate
-with GCC.</p>
-
-<p>AIX 4.3 utilizes a new &quot;large format&quot; archive to support both
-32-bit and 64-bit object modules.  The routines provided in AIX 4.3.0 and
-AIX 4.3.1 to parse archive libraries did not handle the new format correctly.
-These routines are used by GCC and result in error messages during linking
-such as &quot;not a COFF file&quot;.  The version of the routines shipped
-with AIX 4.3.1 should work for a 32-bit environment.  The <tt>-g</tt> option
-of the archive command may be used to create archives of 32-bit objects
-using the original "small format".  A correct version of the routines is
-shipped with AIX 4.3.2.</p>
-
-<p>The initial assembler shipped with AIX 4.3.0 generates incorrect object
-files.  A fix for APAR IX74254 (64BIT DISASSEMBLED OUPUT FROM COMPILER FAILS
-TO ASSEMBLE/BIND) is available from IBM Customer Support and from its
-<a href="http://service.boulder.ibm.com/">service.boulder.ibm.com</a>
-website as PTF U453956.  This fix is incorporated in AIX 4.3.1 and above.</p>
-
-<p>The AIX 4.3.2.1 linker (bos.rte.bind_cmds Level 4.3.2.1) will dump core
-with a segmentation fault when invoked by any version of GCC.  A fix for
-APAR IX87327 will be available from IBM Customer Support.</p>
-
-
-<hr>
-<h3><a name="m68k-*-nextstep*">m68k-*-nextstep*</a></h3>
-
-<p>You absolutely <b>must</b> use GNU sed and GNU make on this platform.</p>
-
-<p>On NEXTSTEP 3.x where x &lt; 3 the build of GCC will abort during  
-stage1 with an error message like this:</p>
-<pre>
-  _eh
-  /usr/tmp/ccbbsZ0U.s:987:Unknown pseudo-op: .section
-  /usr/tmp/ccbbsZ0U.s:987:Rest of line ignored. 1st junk character  
-  valued 95 (_).
-</pre>
-<p>The reason for this is the fact that NeXT's assembler for these  
-versions of the operating system does not support the .section  
-pseudo op that's needed for full C++ exception functionality.</p>
-
-<p>As NeXT's assembler is a derived work from GNU as, a free  
-replacement that does can be obtained at 
-<a href="ftp://ftp.next.peak.org:/next-ftp/next/apps/devtools/as.3.3.NIHS.s.tar.gz">ftp://ftp.next.peak.org:/next-ftp/next/apps/devtools/as.3.3.NIHS.s.tar.gz</a>.
-</p>
-
-<p>If you try to build the integrated C++ & C++ runtime libraries on this system
-you will run into trouble with include files.  The way to get around this is
-to use the following sequence.  Note you must have write permission to
-the directory <i>prefix</i> you secified in the configuration preocess of GCC for this sequence to work.</p>
-<pre>
-  cd bld-gcc
-  make all-texinfo all-bison all-byacc all-binutils all-gas all-ld
-  cd gcc
-  make bootstrap
-  make install-headers-tar
-  cd ..
-  make bootstrap3
-</pre>
-
-
-<hr>
-<h3><a name="m68k-sun-sunos4.1.1">m68k-sun-sunos4.1.1</a></h3>
-
-<p>It is reported that you may need the GNU assembler on this platform.</p>
-
-
-<hr>
-<h3><a name="mips*-sgi-irix[45]">mips*-sgi-irix[45]</a></h3>
-
-<p>You must use GAS on these platforms, as the native assembler can not handle the code for exception handling support. Either of these messages indicates that you are using the MIPS assembler when instead you should be using GAS:</p>
-<pre>
-  as0: Error: ./libgcc2.c, line 1:Badly delimited numeric literal
-  .4byte $LECIE1-$LSCIE1
-  as0: Error: ./libgcc2.c, line 1:malformed statement
-</pre>
-<p>or:</p>
-<pre>
-  as0: Error: /src/bld-gcc/gcc/libgcc2.c, line 1:undefined symbol in expression
-  .word $LECIE1-$LSCIE1
-</pre>
-
-<p>These systems don't have ranlib, which various components in GCC need; you
-should be able to avoid this problem by installing GNU binutils, which includes
-a functional ranlib for this system.</p>
-
-<p>You may get the following warning on irix4 platforms, it can be safely
-ignored.</p>
-<pre>
-  warning: foo.o does not have gp tables for all its sections.
-</pre>
-
-<p>When building GCC, the build process loops rebuilding cc1 over and
-over again.  This happens on mips-sgi-irix5.2, and possibly other platforms.<br>
-It has been reported that this is a known bug in the make shipped with
-IRIX 5.2.  We recommend you use GNU make instead of the vendor supplied
-make program; however, you may have success with "smake" on IRIX 5.2 if
-you do not have GNU make available.</p>
-
-<p>See <a href="http://reality.sgi.com/ariel/freeware/"> 
-http://reality.sgi.com/ariel/freeware</a> for more information about using GCC on IRIX platforms.</p>
-
-
-<hr>
-<h3><a name="mips*-sgi-irix6">mips*-sgi-irix6</a></h3>
-
-<p>You must <i>not</i> use GAS on irix6 platforms; doing so will only cause problems.</p>
-
-<p>These systems don't have ranlib, which various components in GCC need; you
-should be able to avoid this problem by making a dummy script called ranlib
-which just exits with zero status and placing it in your path.</p>
-
-<p>GCC does not currently support generating O32 ABI binaries in the
-mips-sgi-irix6 configurations.  It used to be possible to create a GCC with O32 ABI only support by configuring it for the mips-sgi-irix5 target.  See the link below for details.</p>
-
-<p>GCC does not correctly pass/return structures which are
-smaller than 16 bytes and which are not 8 bytes. The problem is very
-involved and difficult to fix. It affects a number of other targets also,
-but IRIX 6 is affected the most, because it is a 64 bit target, and 4 byte
-structures are common. The exact problem is that structures are being padded
-at the wrong end, e.g. a 4 byte structure is loaded into the lower 4 bytes
-of the register when it should be loaded into the upper 4 bytes of the
-register. </p>
-
-<p>GCC is consistent with itself, but not consistent with the SGI C compiler
-[and the SGI supplied runtime libraries], so the only failures that can
-happen are when there are library functions that take/return such
-structures. There are very few such library functions. I can only recall
-seeing two of them: inet_ntoa, and semctl. </p>
-
-<p>See <a href="http://reality.sgi.com/ariel/freeware/"> 
-http://reality.sgi.com/ariel/freeware</a> for more information about using GCC on IRIX platforms.</p>
-
-
-<hr>
-<h3><a name="powerpc-*-linux-gnu*">powerpc-*-linux-gnu*</a></h3>
-
-<p>You will need 
-<a href="ftp://ftp.varesearch.com/pub/support/hjl/binutils">binutils-2.9.4.0.8</a> or newer for a working GCC. It is strongly recommended to recompile binutils
-if you initially built it with gcc-2.7.2.x.</p>
-
-
-<hr>
-<h3><a name="*-*-solaris*">*-*-solaris*</a></h3>
-
-<p>Starting with Solaris, Sun does not ship a C compiler any more. To
-bootstrap and install GCC you first have to install a pre-built
-compiler, for example from <a href="http://www.sunfreeware.com/">
-http://www.sunfreeware.com</a>.</p>
-
-<p>Sun as 4.X is broken in that it cannot cope with long symbol names.
-A typical error message might look similiar to the following:
-<BLOCKQUOTE><CODE>
-/usr/ccs/bin/as: "/var/tmp/ccMsw135.s", line 11041: error: can't compute      
-value of an expression involving an external symbol.
-</CODE></BLOCKQUOTE>
-See the <a href="../faq.html#squangle">How to work around too long C++
-symbol names?</a> FAQ entry for further information.</p>
-
-<p>Sun make in all known Solaris 1 (SunOS 4) and Solaris 2 releases has a
-broken <i>VPATH</i> mechanism, which means you must either:
-<ul>
-  <li>Use GNU make (recommended), <em>or:</em></li>
-  <li>Always build in the source directory, <em>or:</em></li>
-  <li><em>(For GCC 2.95.1 only)</em>
-      apply the patches mentioned at
-      <a href="http://www.gnu.org/software/gcc/egcstensions.html#sun-make">
-      http://www.gnu.org/software/gcc/egcstensions.html#sun-make</a>.</li>
-</ul></p>
-
-
-<hr>
-<h3><a name="sparc-sun-solaris*">sparc-sun-solaris*</a></h3>
-
-<p>binutils 2.9.1 has known bugs on this platform. We recommend to use the
-vendor tools (Sun as, Sun ld) until these have been fixed.</p>
-
-
-<hr>
-<h3><a name="sparc-sun-solaris2.7">sparc-sun-solaris2.7</a></h3>
-
-<p>Sun patch 107058-01 (1999-01-13) for SPARC Solaris 7 triggers a bug in
-the dynamic linker.  This problem (Sun bug 4210064) affects GCC 2.8
-and later, including all EGCS releases.  Sun formerly recommended
-107058-01 for all Solaris 7 users, but around 1999-09-01 it started to
-recommend it only for people who use Sun's compilers.</p>
-  
-<p>Here are some workarounds to this problem:
-<ul>
-  <li>Do not install Sun patch 107058-01 until after Sun releases a
-  complete patch for bug 4210064.  This is the simplest course to take,
-  unless you must also use Sun's C compiler.  Unfortunately 107058-01
-  is preinstalled on some new Solaris-based hosts, so you may have to
-  back it out.</li>
-  
-<li>Copy the original, unpatched Solaris 7
-  <code>/usr/ccs/bin/as</code> into
-  <code>/usr/local/lib/gcc-lib/sparc-sun-solaris2.7/2.95.1/as</code>,
-  adjusting the latter name to fit your local conventions and software
-  version numbers.</li>
-
-<li>Install Sun patch 106950-03 (1999-05-25) or later.  Nobody with
-  both 107058-01 and 106950-03 installed has reported the bug with GCC
-  and Sun's dynamic linker.  This last course of action is riskiest,
-  for two reasons.  First, you must install 106950 on all hosts that
-  run code generated by GCC; it doesn't suffice to install it only on
-  the hosts that run GCC itself.  Second, Sun says that 106950-03 is
-  only a partial fix for bug 4210064, but Sun doesn't know whether the
-  partial fix is adequate for GCC.  Revision -08 or later should fix
-  the bug, but (as of 1999-10-06) it is still being tested.</li>
-</ul> 
-</p>
-
-
-<hr>
-<h3><a name="sunv5">Sun V5.0 Compiler Bugs</a></h3>
-The Sun V5.0 compilers are known to mis-compile GCC, which in turn causes
-GCC to fail its bootstrap comparison test.  We expect to have a workaround
-ready in time for GCC 2.95.2.
-
-
-<hr>
-<h3><a name="sparc-sun-sunos*">sparc-sun-sunos*</a></h3>
-
-<p>A bug in the SunOS4 linker will cause it to crash when linking
--fPIC compiled objects (and will therefore not allow you to build
-shared libraries).</p>
-
-<p>To fix this problem you can either use the most recent version of
-binutils or get the latest SunOS4 linker patch (patch ID 100170-10)
-from Sun's patch site.</p>
-
-
-<hr>
-<h3><a name="sparc-unknown-linux-gnulibc1">sparc-unknown-linux-gnulibc1</a></h3>
-
-<p>It has been reported that you might need 
-<a href="ftp://ftp.yggdrasil.com/private/hjl">binutils-2.8.1.0.23</a>
-for this platform, too.</p>
-
-
-<hr>
-<h3><a name="sparc64-*-*">sparc64-*-*</a></h3>
-
-<p>GCC version 2.95 is not able to compile code correctly for <code>sparc64</code> targets.  Users of the Linux kernel, at least, can use the <code>sparc32</code> program to start up a new shell invocation with an environment that causes <code>configure</code> to recognize (via <code>uname -a</code>) the system as <code>sparc-*-*</code> instead.</p>
-
-
-<hr>
-<h3><a name="win+os2"></a>GCC with Windows or OS/2</h3>
-
-<p>GCC does not currently support Windows, either natively or with the
-cygwin32 dll.  However Mumit Khan has been working on supporting Windows
-with GCC.  You should check out his site if you're interested in Windows
-support.
-<a href="http://www.xraylith.wisc.edu/~khan/software/gnu-win32/">GNU Win32 related projects</a></p>
-
-<p>GCC does not currently support OS/2.  However, Andrew Zabolotny has been
-working on a generic os/2 port with pgcc.  The current code code can be found
-at <a href="http://www.goof.com/pcg/os2/">http://www.goof.com/pcg/os2/</a>.</p>
-
-
-<hr>
-<h3><a name="elf_targets">all ELF targets (SVR4, Solaris, etc.)</a></h3>
-
-<p>C++ support is significantly better on ELF targets if you use the GNU
-linker; duplicate copies of inlines, vtables and template instantiations
-will be discarded automatically.</p>
-
-
-<hr>
-<p><a href="./index.html">Return to the GCC Installation page</a></p>
-<p><i>Last modified on October 17, 1999.</i></p>
-
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/TEST gcc/install/TEST
--- gcc-2.95.2/install/TEST	1999-10-25 18:02:13.000000000 +1000
+++ gcc/install/TEST	1970-01-01 10:00:00.000000000 +1000
@@ -1,13 +0,0 @@
-
-                   Installation Instructions: Testing GCC
-                                      
-   The testsuite has been temporarily removed from the gcc distributions
-   until the copyright status of some tests can be determined. It is
-   hoped that the testsuite will be included in the gcc releases again
-   soon.
-   
-   Until the testsuite is included it is impossible to run the testsuite.
-   Sorry.
-     _________________________________________________________________
-   
-   _Last modified on July 15, 1999._
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/install/test.html gcc/install/test.html
--- gcc-2.95.2/install/test.html	1999-10-25 18:02:12.000000000 +1000
+++ gcc/install/test.html	1970-01-01 10:00:00.000000000 +1000
@@ -1,21 +0,0 @@
-<html>
-<head>
-<title>Installation Instructions: Testing GCC</title>
-</head>
-
-<body>
-<h1 align="center">Installation Instructions: Testing GCC</h1>
-
-<p>The testsuite has been temporarily removed from the gcc distributions
-until the copyright status of some tests can be determined.  It is hoped
-that the testsuite will be included in the gcc releases again soon.
-
-<p>Until the testsuite is included it is impossible to run the testsuite.
-Sorry.
-
-
-<hr>
-<i>Last modified on July 15, 1999.</i>
-
-</body>
-</html>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libio/config/nto.mt gcc/libio/config/nto.mt
--- gcc-2.95.2/libio/config/nto.mt	1970-01-01 10:00:00.000000000 +1000
+++ gcc/libio/config/nto.mt	2001-06-20 04:35:40.000000000 +1000
@@ -0,0 +1,7 @@
+# Flags to pass to gen-params when building _G_config.h.
+# For example: G_CONFIG_ARGS = size_t="unsigned long"
+G_CONFIG_ARGS = size_t="unsigned long" off_t="unsigned long" \
+	clock_t="unsigned int" dev_t="unsigned int" \
+	ino_t="int" mode_t="unsigned int" nlink_t="unsigned int" \
+	time_t="int" wchar_t="unsigned short" wint_t="unsigned short" \
+	fpos_t="unsigned long"
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libio/configure.in gcc/libio/configure.in
--- gcc-2.95.2/libio/configure.in	1999-06-29 12:31:46.000000000 +1000
+++ gcc/libio/configure.in	2001-03-01 05:24:47.000000000 +1000
@@ -60,6 +60,7 @@
   *-sco3.2v[45]*)   frags=sco4.mt ;;
   *-isc*)        frags=isc.mt ;;
   *-netware*)    frags=netware.mt ;;
+  *-nto-*)    frags=nto.mt ;;
   *)             frags=${target_cpu}.mt ;;
 esac
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libio/dbz/dbzmain.c gcc/libio/dbz/dbzmain.c
--- gcc-2.95.2/libio/dbz/dbzmain.c	1998-02-01 22:20:13.000000000 +1000
+++ gcc/libio/dbz/dbzmain.c	2001-03-01 04:55:11.000000000 +1000
@@ -19,7 +19,7 @@
 #define	STREQ(a, b)	(*(a) == *(b) && strcmp((a), (b)) == 0)
 
 #ifndef lint
-static char RCSid[] = "$Header: /egcs/carton/cvsfiles/egcs/./libio/dbz/dbzmain.c,v 1.1.1.1 1997/08/21 22:58:23 jason Exp $";
+static char RCSid[] = "$Header: /cvs/tools/gcc/libio/dbz/dbzmain.c,v 1.1.1.1 2001/02/28 18:55:11 keith Exp $";
 #endif
 
 char *progname;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libio/dbz/fake.c gcc/libio/dbz/fake.c
--- gcc-2.95.2/libio/dbz/fake.c	1997-08-22 08:58:23.000000000 +1000
+++ gcc/libio/dbz/fake.c	2001-03-01 04:55:11.000000000 +1000
@@ -13,7 +13,7 @@
 #define	STREQ(a, b)	(*(a) == *(b) && strcmp((a), (b)) == 0)
 
 #ifndef lint
-static char RCSid[] = "$Header: /rel/cvsfiles/devo/libio/dbz/fake.c,v 1.2 1993/10/25 20:02:42 bothner Exp $";
+static char RCSid[] = "$Header: /cvs/tools/gcc/libio/dbz/fake.c,v 1.1.1.1 2001/02/28 18:55:11 keith Exp $";
 #endif
 
 int midonly = 0;		/* just message ids, rest not realistic */
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libio/stdio/ChangeLog.old gcc/libio/stdio/ChangeLog.old
--- gcc-2.95.2/libio/stdio/ChangeLog.old	1997-08-22 09:14:36.000000000 +1000
+++ gcc/libio/stdio/ChangeLog.old	1970-01-01 10:00:00.000000000 +1000
@@ -1,141 +0,0 @@
-Thu Jun 24 12:34:43 1993  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* configure.in (TARGETLIB):  Fix libio.a -> libstdio++.a.
-
-Fri May 28 16:05:20 1993  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* stdio.h:  Don't define NULL as (void*)0, if __cplusplus,
-	unless g++.
-
-Mon Apr 26 12:47:43 1993  Ian Lance Taylor  (ian@cygnus.com)
-
-	* tmpnam.C: Don't include unnecessary header files.
-
-Fri Oct 16 17:27:39 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* fseek.C, stdio.h:  fseek() returns int, not long.
-	* stdio.h:  Define size_t with typedef, not macro.
-	* stdio.h:  Use renamed __std_filebuf_0 etc instead of
-	old names  _cin_sbuf (etc).  (See ../strstrbufs.C.)
-	* stdio.h, fprintf.C, printf.C:  Implement non-macro versions
-	of stdin/stdout/stderr, for use by debuggers.
-
-Mon Aug 17 15:26:23 1992  Mike Stump  (mrs@rtl.cygnus.com)
-
-	* setbuf.C (setbuf), setvbuf.C (setvbuf): Fix typo.  fp should be
-	stream.
-
-Mon Aug 10 19:22:50 1992  Per Bothner  (bothner@cygnus.com)
-
-	* setbuf.C, setvbuf.C:  Stylistic change:  Use
-	FILE_to_streambuf macro instead of __validfp + cast.
-	* setbuf.C (setbuf):  Turn off linebuffering.
-
-Mon Aug 10 11:40:22 1992  Ian Lance Taylor  (ian@dumbest.cygnus.com)
-
-	* Makefile.in: always create installation directories.
-
-Mon Jul 20 14:56:39 1992  Mike Stump  (mrs@cygnus.com)
-
-	* fread.c (fread), fwrite.C (fwrite), tmpnam.C (tempnam):
-	Cast a void * to a char *, since it is not a standard
-	conversion.
-
-Fri Jun 26 12:06:47 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* stdio.h:  Declare Posix stuff even without _POSIX_SOURCE
-	unless __STRICT_ANSI__ is defined.
-	* fflush.C:  Use streambuf::sync() rather than overflow(EOF),
-	since that seems likely to be more consistent with Posix
-	(though only your language lawyer can tell for sure).
-
-Wed Jun 17 17:02:30 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* Makefile.in:  Fix *clean rules.
-	* stdio.h:  Protect prototypes for the sake of K&R compilers.
-
-Thu Jun  4 12:01:05 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* stdio.h: Fix typo: tmpname -> tmpnam.
-
-	* remove.C, rename.C:  Remove redundant prototypes
-	for link() and unlink().
-
-Wed Jun  3 17:00:15 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* fgetpos.C, fsetpos.C, gets.C, perror.C, puts.C, remove.C,
-	rename.C, tmpfile.C, tmpnam.C:  New files, adding the
-	remaining pieces of ANSI functionality.
-	* stdio.h:  Add new functions and macros.
-	* Makefile.in:  Add new file.
-	* fputs.C (fputs):  Fix return value according to ANSI.
-	* ftell.C (ftell):  Make sure errno is set on an error
-	(if not set by lower-level routines), as required by ANSI.
-
-Sun May 31 14:05:07 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* Makefile.in:  Use  CFLAGS, not MINUS_G.
-
-Thu May 28 13:52:27 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* stdio.h:  #include <stdarg.h> if _G_config.h tells us we need to.
-	* vfscanf.C, vscanf.C, vsscanf.C:  Use _G_va_list
-	instead of va_list, to be consistent.
-
-Thu May 14 12:43:35 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* Makefile.in:  Define IO_DIR (needed by depend rules).
-
-Wed May  6 15:40:46 1992  Per Bothner  (bothner@rtl.cygnus.com)
-
-	* Makefile.in:  Delete $(TARGETLIB) before runing ar.
-	* fseek.C:  fseek() should return 0 on success, not
-	the new position.
-
-Mon Apr 20 14:33:09 1992  Per Bothner  (bothner@cygnus.com)
-
-	* popen.C:  New file, defines popen() and pclose() using procbufs.
-	* Makefile.in, stdio.h:  Add popen.
-
-Fri Apr 17 09:13:04 1992  Per Bothner  (bothner at PersSony)
-
-	* configure.in: No longer needed.
-	* stdio.C:  Removed __underflow and __overflow; now in libio.a.
-	* fflush.C:  Add FILE*->streambuf* cast, for new __overflow.
-	* stdio.h: Use __underflow and __overflow in libio.a.
-
-Wed Feb 26 11:56:04 1992  Per Bothner  (bothner at cygnus.com)
-
-	* freopen.C, sscanf.C, vfscanf.C, vsprintf.C: Removed
-	redundant 'extern "C"' (or just plain 'extern')	before
-	function definitions.
-	* stdio.h:  Try to clean up some system-specific
-	stuff by getting parameters from _G_config.h.
-	*  vprintf.C, vsprintf.C: Use _G_va_list, not _STDIO_VA
-
-Tue Feb  4 13:26:12 1992  Per Bothner  (bothner at cygnus.com)
-
-	* Makefile.in:  Rename library to libstdio++.a,
-	and add 'install' rule.
-	* fread.C:  Fix to return correct count.
-	* fwrite.C:  Pull out stuff from BSD; just use streambuf::sputn.
-	* stdio.C, fflush.c:  Use new streambuf::flush_all() method.
-	* stdio.h, hvfprintf.C, vprintf.C, vsprintf.C:
-	Define _STDIO_VA and use it instead of va_list.
-	(Using va_list causes namespace problems.)
-
-Thu Jan 16 17:04:26 1992  Per Bothner  (bothner at cygnus.com)
-
-	* *printf.C:  Change __vsbprintf(sb ...) to sb->vform(...).
-	* *scanf.C:  Change __vsbscanf(sb ...) to sb->vscan(...).
-	* emulate.C:  Removed unused function __stdio_check_offset.
-
-Fri Jan  3 16:12:18 1992  Per Bothner  (bothner at cygnus.com)
-
-	* Makefile.in:  Make fit better with rest of libg++ Makefiles.
-
-Thu Jan  2 22:31:04 1992  John Gilmore  (gnu at cygnus.com)
-
-	* Makefile.in, configure.in:  Create.
-	* Makefile:  Remove.
-	* ChangeLog:  Create.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libstdc++/cmath gcc/libstdc++/cmath
--- gcc-2.95.2/libstdc++/cmath	1997-08-22 08:58:32.000000000 +1000
+++ gcc/libstdc++/cmath	2001-05-26 04:40:38.000000000 +1000
@@ -37,10 +37,12 @@
 float tanh (float);
 #endif
 
+#ifndef __QNXNTO__
 inline float  abs (float  x) { return fabs (x); }
 #if ! _G_MATH_H_INLINES /* hpux and SCO define this in math.h */
 inline double abs (double x) { return fabs (x); }
 #endif
+#endif
 
 #if 0
 double pow(double, int);
@@ -69,7 +71,9 @@
 long double tan  (long double);
 long double tanh (long double);
 #endif
+#ifndef __QNXNTO__
 inline long double abs (long double x) { return fabs (x); }
+#endif
 
 } // extern "C++"
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libstdc++/config/nto.ml gcc/libstdc++/config/nto.ml
--- gcc-2.95.2/libstdc++/config/nto.ml	1970-01-01 10:00:00.000000000 +1000
+++ gcc/libstdc++/config/nto.ml	2001-05-26 04:40:38.000000000 +1000
@@ -0,0 +1,11 @@
+# Elf with shared libm, so we can link it into the shared libstdc++.
+
+ARLIB   = libstdc++.a.2.$(VERSION)
+MARLINK = libstdc++.a.2.`echo $(VERSION) | sed 's/\([0-9]*[.][0-9]*\).*/\1/'`
+SHLIB   = libstdc++.so.2.$(VERSION)
+MSHLINK = libstdc++.so.2.`echo $(VERSION) | sed 's/\([0-9]*[.][0-9]*\).*/\1/'`
+
+LIBS    = $(ARLIB) marlink $(ARLINK) $(SHLIB) mshlink $(SHLINK)
+SHFLAGS = -Wl,-soname,$(MSHLINK)
+SHDEPS  = -lm
+DEPLIBS = ../$(SHLIB)
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libstdc++/config/nto.mt gcc/libstdc++/config/nto.mt
--- gcc-2.95.2/libstdc++/config/nto.mt	1970-01-01 10:00:00.000000000 +1000
+++ gcc/libstdc++/config/nto.mt	2001-03-01 05:24:47.000000000 +1000
@@ -0,0 +1,2 @@
+# tell we want the mt-safe version
+MT_CFLAGS = -D_IO_MTSAFE_IO -D_PTHREADS
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libstdc++/configure.in gcc/libstdc++/configure.in
--- gcc-2.95.2/libstdc++/configure.in	1999-06-08 09:28:10.000000000 +1000
+++ gcc/libstdc++/configure.in	2001-03-01 05:24:47.000000000 +1000
@@ -74,6 +74,7 @@
     *-*-freebsd2*)	;;
     *-*-freebsd*)	frags="${frags} freebsd.ml" ;;
     *-*-linux*)		frags="${frags} linux.ml" ;;
+    *-nto-*)		frags="${frags} nto.ml" ;;
     *-*-openbsd*)		frags="${frags} openbsd.ml" ;;
     *-*-sysv[45]*|*-*-udk*)	frags="${frags} elf.ml" ;;
     *-*-solaris*)	frags="${frags} sol2shm.ml" ;;
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/libstdc++/std/std_valarray.h gcc/libstdc++/std/std_valarray.h
--- gcc-2.95.2/libstdc++/std/std_valarray.h	1999-06-05 19:44:56.000000000 +1000
+++ gcc/libstdc++/std/std_valarray.h	2001-03-01 05:24:48.000000000 +1000
@@ -62,9 +62,11 @@
 #endif /* not GNU C.  */
 #endif /* alloca not defined.  */
 
+#ifndef __QNXNTO__
 extern "C" {
     void* alloca(size_t);
 }
+#endif
 
 
 extern "C++" {
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/.#Makefile.in.1.1.1.1 gcc/.#Makefile.in.1.1.1.1
--- gcc-2.95.2/.#Makefile.in.1.1.1.1	1970-01-01 10:00:00.000000000 +1000
+++ gcc/.#Makefile.in.1.1.1.1	2005-09-21 09:37:22.000000000 +1000
@@ -0,0 +1,1857 @@
+#
+# Makefile for directory with subdirs to build.
+#   Copyright (C) 1990, 91, 92, 93, 94, 95, 96, 97, 1998
+#   Free Software Foundation
+#
+# This file is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+# 
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+# 
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#
+
+srcdir = .
+
+prefix = /usr/local
+exec_prefix = $(prefix)
+
+bindir=${exec_prefix}/bin
+sbindir=${exec_prefix}/sbin
+libexecdir=${exec_prefix}/libexec
+datadir=${prefix}/share
+sysconfdir=${prefix}/etc
+sharedstatedir=${prefix}/com
+localstatedir=${prefix}/var
+libdir=${exec_prefix}/lib
+includedir=${prefix}/include
+oldincludedir=/usr/include
+infodir=${prefix}/info
+mandir=${prefix}/man
+gxx_include_dir=${includedir}/g++
+
+tooldir = $(exec_prefix)/$(target_alias)
+build_tooldir = $(exec_prefix)/$(target_alias)
+
+
+program_transform_name =
+
+man1dir = $(mandir)/man1
+man2dir = $(mandir)/man2
+man3dir = $(mandir)/man3
+man4dir = $(mandir)/man4
+man5dir = $(mandir)/man5
+man6dir = $(mandir)/man6
+man7dir = $(mandir)/man7
+man8dir = $(mandir)/man8
+man9dir = $(mandir)/man9
+infodir = $(prefix)/info
+includedir = $(prefix)/include
+# Directory in which the compiler finds executables, libraries, etc.
+libsubdir = $(libdir)/gcc-lib/$(target_alias)/$(gcc_version)
+GDB_NLM_DEPS = 
+
+SHELL = /bin/sh
+
+# INSTALL_PROGRAM_ARGS is changed by configure.in to use -x for a
+# cygwin32 host.
+INSTALL_PROGRAM_ARGS =
+
+INSTALL = $(SHELL) $$s/install-sh -c
+INSTALL_PROGRAM = $(INSTALL) $(INSTALL_PROGRAM_ARGS)
+INSTALL_SCRIPT = $(INSTALL)
+INSTALL_DATA = $(INSTALL) -m 644
+
+INSTALL_DOSREL = install-dosrel-fake
+
+AS = as
+AR = ar
+AR_FLAGS = rc
+CC = cc
+
+# Special variables passed down in EXTRA_GCC_FLAGS.  They are defined
+# here so that they can be overridden by Makefile fragments.
+HOST_CC = $(CC_FOR_BUILD)
+HOST_PREFIX = 
+HOST_PREFIX_1 = loser-
+
+# These flag values are normally overridden by the configure script.
+CFLAGS = -g
+CXXFLAGS = -g -O2
+
+LIBCFLAGS = $(CFLAGS)
+CFLAGS_FOR_TARGET = $(CFLAGS)
+LDFLAGS_FOR_TARGET = 
+LIBCFLAGS_FOR_TARGET = $(CFLAGS_FOR_TARGET)
+PICFLAG = 
+PICFLAG_FOR_TARGET = 
+
+CHILLFLAGS = $(CFLAGS)
+CHILL_LIB = -lchill
+CXX = c++
+
+# Use -O2 to stress test the compiler.
+LIBCXXFLAGS = $(CXXFLAGS) -fno-implicit-templates
+CXXFLAGS_FOR_TARGET = $(CXXFLAGS)
+LIBCXXFLAGS_FOR_TARGET = $(CXXFLAGS_FOR_TARGET) -fno-implicit-templates
+
+RANLIB = ranlib
+
+DLLTOOL = dlltool
+WINDRES = windres
+
+NM = nm
+
+LD = ld
+
+# Not plain GZIP, since gzip looks there for extra command-line options.
+GZIPPROG = gzip
+
+# These values are substituted by configure.
+DEFAULT_YACC = yacc
+DEFAULT_LEX = lex
+DEFAULT_M4 = m4
+
+BISON = `if [ -f $$r/bison/bison ] ; then \
+	    echo $$r/bison/bison -L $$s/bison/ ; \
+	 else \
+	    echo bison ; \
+	 fi`
+
+YACC = `if [ -f $$r/bison/bison ] ; then \
+	    echo $$r/bison/bison -y -L $$s/bison/ ; \
+	elif [ -f $$r/byacc/byacc ] ; then \
+	    echo $$r/byacc/byacc ; \
+	else \
+	    echo ${DEFAULT_YACC} ; \
+	fi`
+
+LEX = `if [ -f $$r/flex/flex ] ; \
+	then echo $$r/flex/flex ; \
+	else echo ${DEFAULT_LEX} ; fi`
+
+M4 = `if [ -f $$r/m4/m4 ] ; \
+	then echo $$r/m4/m4 ; \
+	else echo ${DEFAULT_M4} ; fi`
+
+MAKEINFO = `if [ -f $$r/texinfo/makeinfo/Makefile ] ; \
+	then echo $$r/texinfo/makeinfo/makeinfo ; \
+	else echo makeinfo ; fi`
+
+# This just becomes part of the MAKEINFO definition passed down to
+# sub-makes.  It lets flags be given on the command line while still
+# using the makeinfo from the object tree.
+MAKEINFOFLAGS =
+
+EXPECT = `if [ -f $$r/expect/expect ] ; \
+	then echo $$r/expect/expect ; \
+	else echo expect ; fi`
+
+RUNTEST = `if [ -f $$s/dejagnu/runtest ] ; \
+	then echo $$s/dejagnu/runtest ; \
+	else echo runtest ; fi`
+
+
+# compilers to use to create programs which must be run in the build
+# environment.
+CC_FOR_BUILD = $(CC)
+CXX_FOR_BUILD = $(CXX)
+
+SUBDIRS = "this is set via configure, don't edit this"
+OTHERS = 
+
+# This is set by the configure script to the list of directories which
+# should be built using the target tools.
+TARGET_CONFIGDIRS = libiberty libgloss newlib libio librx libstdc++ libg++ winsup opcodes libstub cygmon libf2c libchill libobjc
+
+# Target libraries are put under this directory:
+# Changed by configure to $(target_alias) if cross.
+TARGET_SUBDIR = .
+
+# This is set by the configure script to the arguments passed to configure.
+CONFIG_ARGUMENTS = 
+
+# This is set by configure to REALLY_SET_LIB_PATH if --enable-shared
+# was used.
+SET_LIB_PATH =
+
+# This is the name of the environment variable used for the path to
+# the libraries.  This may be changed by configure.in.
+RPATH_ENVVAR = LD_LIBRARY_PATH
+
+# configure.in sets SET_LIB_PATH to this if --enable-shared was used.
+REALLY_SET_LIB_PATH = \
+  if [ x"$$$(RPATH_ENVVAR)" != x ]; then \
+    $(RPATH_ENVVAR)=$$r/bfd:$$r/opcodes:$$$(RPATH_ENVVAR); \
+  else \
+    $(RPATH_ENVVAR)=$$r/bfd:$$r/opcodes; \
+  fi; \
+  export $(RPATH_ENVVAR);
+
+ALL = all.normal
+INSTALL_TARGET = installdirs \
+	install-gcc \
+	$(INSTALL_MODULES) \
+	$(INSTALL_TARGET_MODULES) \
+	$(INSTALL_X11_MODULES) \
+	$(INSTALL_DOSREL)
+
+INSTALL_TARGET_CROSS = installdirs \
+	install-gcc-cross \
+	$(INSTALL_MODULES) \
+	$(INSTALL_TARGET_MODULES) \
+	$(INSTALL_X11_MODULES) \
+	$(INSTALL_DOSREL)
+
+CC_FOR_TARGET = ` \
+  if [ -f $$r/gcc/xgcc ] ; then \
+    if [ -f $$r/$(TARGET_SUBDIR)/newlib/Makefile ] ; then \
+      if [ -f $$r/$(TARGET_SUBDIR)/winsup/Makefile ] ; then \
+        echo $$r/gcc/xgcc -B$$r/gcc/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$(build_tooldir)/bin/ -L$$r/$(TARGET_SUBDIR)/winsup -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \
+      else \
+        echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \
+      fi; \
+    else \
+      echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/; \
+    fi; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(CC); \
+    else \
+      t='$(program_transform_name)'; echo gcc | sed -e 's/x/x/' $$t; \
+    fi; \
+  fi`
+
+# If CC_FOR_TARGET is not overriden on the command line, then this
+# variable is passed down to the gcc Makefile, where it is used to
+# build libgcc2.a.  We define it here so that it can itself be
+# overridden on the command line.
+GCC_FOR_TARGET = $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -I$(build_tooldir)/include
+
+CHILL_FOR_TARGET = ` \
+  if [ -f $$r/gcc/xgcc ] ; then \
+    echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -L$$r/gcc/ch/runtime/; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(CC); \
+    else \
+      t='$(program_transform_name)'; echo gcc | sed -e 's/x/x/' $$t; \
+    fi; \
+  fi`
+
+CXX_FOR_TARGET = ` \
+  if [ -f $$r/gcc/xgcc ] ; then \
+    if [ -f $$r/$(TARGET_SUBDIR)/newlib/Makefile ] ; then \
+      if [ -f $$r/$(TARGET_SUBDIR)/winsup/Makefile ] ; then \
+        echo $$r/gcc/xgcc -B$$r/gcc/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$(build_tooldir)/bin/ -L$$r/winsup -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \
+      else \
+        echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \
+      fi; \
+    else \
+      echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/; \
+    fi; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(CXX); \
+    else \
+      t='$(program_transform_name)'; echo c++ | sed -e 's/x/x/' $$t; \
+    fi; \
+  fi`
+
+AS_FOR_TARGET = ` \
+  if [ -f $$r/gas/as-new ] ; then \
+    echo $$r/gas/as-new ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(AS); \
+    else \
+       t='$(program_transform_name)'; echo as | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+LD_FOR_TARGET = ` \
+  if [ -f $$r/ld/ld-new ] ; then \
+    echo $$r/ld/ld-new ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(LD); \
+    else \
+       t='$(program_transform_name)'; echo ld | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+DLLTOOL_FOR_TARGET = ` \
+  if [ -f $$r/binutils/dlltool ] ; then \
+    echo $$r/binutils/dlltool ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(DLLTOOL); \
+    else \
+       t='$(program_transform_name)'; echo dlltool | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+WINDRES_FOR_TARGET = ` \
+  if [ -f $$r/binutils/windres ] ; then \
+    echo $$r/binutils/windres ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(WINDRES); \
+    else \
+       t='$(program_transform_name)'; echo windres | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+AR_FOR_TARGET = ` \
+  if [ -f $$r/binutils/ar ] ; then \
+    echo $$r/binutils/ar ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(AR); \
+    else \
+       t='$(program_transform_name)'; echo ar | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+RANLIB_FOR_TARGET = ` \
+  if [ -f $$r/binutils/ranlib ] ; then \
+    echo $$r/binutils/ranlib ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(RANLIB); \
+    else \
+       t='$(program_transform_name)'; echo ranlib | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+NM_FOR_TARGET = ` \
+  if [ -f $$r/binutils/nm-new ] ; then \
+    echo $$r/binutils/nm-new ; \
+  else \
+    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+      echo $(NM); \
+    else \
+       t='$(program_transform_name)'; echo nm | sed -e 's/x/x/' $$t ; \
+    fi; \
+  fi`
+
+# The first rule in the file had better be this one.  Don't put any above it.
+# This lives here to allow makefile fragments to contain dependencies.
+all: all.normal
+.PHONY: all
+
+# These can be overridden by config/mt-*.
+# The _TARGET_ is because they're specified in mt-foo.
+# The _HOST_ is because they're programs that run on the host.
+EXTRA_TARGET_HOST_ALL_MODULES =
+EXTRA_TARGET_HOST_INSTALL_MODULES =
+EXTRA_TARGET_HOST_CHECK_MODULES =
+
+#### host and target specific makefile fragments come in here.
+###
+
+# Flags to pass down to all sub-makes.
+# Please keep these in alphabetical order.
+BASE_FLAGS_TO_PASS = \
+	"AR_FLAGS=$(AR_FLAGS)" \
+	"AR_FOR_TARGET=$(AR_FOR_TARGET)" \
+	"AS_FOR_TARGET=$(AS_FOR_TARGET)" \
+	"BISON=$(BISON)" \
+	"CC_FOR_BUILD=$(CC_FOR_BUILD)" \
+	"CC_FOR_TARGET=$(CC_FOR_TARGET)" \
+	"CFLAGS=$(CFLAGS)" \
+	"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)" \
+	"CHILLFLAGS=$(CHILLFLAGS)" \
+	"CHILL_FOR_TARGET=$(CHILL_FOR_TARGET)" \
+	"CHILL_LIB=$(CHILL_LIB)" \
+	"CXX_FOR_BUILD=$(CXX_FOR_BUILD)" \
+	"CXXFLAGS=$(CXXFLAGS)" \
+	"CXXFLAGS_FOR_TARGET=$(CXXFLAGS_FOR_TARGET)" \
+	"CXX_FOR_TARGET=$(CXX_FOR_TARGET)" \
+	"DLLTOOL_FOR_TARGET=$(DLLTOOL_FOR_TARGET)" \
+	"INSTALL=$(INSTALL)" \
+	"INSTALL_DATA=$(INSTALL_DATA)" \
+	"INSTALL_PROGRAM=$(INSTALL_PROGRAM)" \
+	"INSTALL_SCRIPT=$(INSTALL_SCRIPT)" \
+	"LDFLAGS=$(LDFLAGS)" \
+	"LEX=$(LEX)" \
+	"LD_FOR_TARGET=$(LD_FOR_TARGET)" \
+	"LIBCFLAGS=$(LIBCFLAGS)" \
+	"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)" \
+	"LIBCXXFLAGS=$(LIBCXXFLAGS)" \
+	"LIBCXXFLAGS_FOR_TARGET=$(LIBCXXFLAGS_FOR_TARGET)" \
+	"M4=$(M4)" \
+	"MAKE=$(MAKE)" \
+	"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)" \
+	"NM_FOR_TARGET=$(NM_FOR_TARGET)" \
+	"RANLIB_FOR_TARGET=$(RANLIB_FOR_TARGET)" \
+	"RPATH_ENVVAR=$(RPATH_ENVVAR)" \
+	"SHELL=$(SHELL)" \
+	"EXPECT=$(EXPECT)" \
+	"RUNTEST=$(RUNTEST)" \
+	"RUNTESTFLAGS=$(RUNTESTFLAGS)" \
+	"TARGET_SUBDIR=$(TARGET_SUBDIR)" \
+	"WINDRES_FOR_TARGET=$(WINDRES_FOR_TARGET)" \
+	"YACC=$(YACC)" \
+	"bindir=$(bindir)" \
+	"datadir=$(datadir)" \
+	"exec_prefix=$(exec_prefix)" \
+	"includedir=$(includedir)" \
+	"infodir=$(infodir)" \
+	"libdir=$(libdir)" \
+	"libexecdir=$(libexecdir)" \
+	"lispdir=$(lispdir)" \
+	"localstatedir=$(localstatedir)" \
+	"mandir=$(mandir)" \
+	"oldincludedir=$(oldincludedir)" \
+	"prefix=$(prefix)" \
+	"sbindir=$(sbindir)" \
+	"sharedstatedir=$(sharedstatedir)" \
+	"sysconfdir=$(sysconfdir)" \
+	"tooldir=$(tooldir)" \
+	"build_tooldir=$(build_tooldir)" \
+	"gxx_include_dir=$(gxx_include_dir)" \
+	"gcc_version=$(gcc_version)" \
+	"gcc_version_trigger=$(gcc_version_trigger)" \
+	"target_alias=$(target_alias)" \
+	"libsubdir=$(libsubdir)"
+
+# Flags to pass down to most sub-makes, in which we're building with
+# the host environment.
+# If any variables are added here, they must be added to do-*, below.
+EXTRA_HOST_FLAGS = \
+	'AR=$(AR)' \
+	'AS=$(AS)' \
+	'CC=$(CC)' \
+	'CXX=$(CXX)' \
+	'DLLTOOL=$(DLLTOOL)' \
+	'LD=$(LD)' \
+	'NM=$(NM)' \
+	'RANLIB=$(RANLIB)' \
+	'WINDRES=$(WINDRES)'
+
+FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_HOST_FLAGS)
+
+# Flags that are concerned with the location of the X11 include files
+# and library files
+#
+# NOTE: until the top-level is getting the values via autoconf, it only
+# causes problems to have this top-level Makefile overriding the autoconf-set
+# values in child directories.  Only variables that don't conflict with
+# autoconf'ed ones should be passed by X11_FLAGS_TO_PASS for now.
+#
+X11_FLAGS_TO_PASS = \
+	'X11_EXTRA_CFLAGS=$(X11_EXTRA_CFLAGS)' \
+	'X11_EXTRA_LIBS=$(X11_EXTRA_LIBS)'
+
+# Flags to pass down to makes which are built with the target environment.
+# The double $ decreases the length of the command line; the variables
+# are set in BASE_FLAGS_TO_PASS, and the sub-make will expand them.
+# If any variables are added here, they must be added to do-*, below.
+EXTRA_TARGET_FLAGS = \
+	'AR=$$(AR_FOR_TARGET)' \
+	'AS=$$(AS_FOR_TARGET)' \
+	'CC=$$(CC_FOR_TARGET)' \
+	'CFLAGS=$$(CFLAGS_FOR_TARGET)' \
+	'CXX=$$(CXX_FOR_TARGET)' \
+	'CXXFLAGS=$$(CXXFLAGS_FOR_TARGET)' \
+	'DLLTOOL=$$(DLLTOOL_FOR_TARGET)' \
+	'LD=$$(LD_FOR_TARGET)' \
+	'LIBCFLAGS=$$(LIBCFLAGS_FOR_TARGET)' \
+	'LIBCXXFLAGS=$$(LIBCXXFLAGS_FOR_TARGET)' \
+	'NM=$$(NM_FOR_TARGET)' \
+	'RANLIB=$$(RANLIB_FOR_TARGET)' \
+	'WINDRES=$$(WINDRES_FOR_TARGET)'
+
+TARGET_FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_TARGET_FLAGS)
+
+# Flags to pass down to gcc.  gcc builds a library, libgcc.a, so it
+# unfortunately needs the native compiler and the target ar and
+# ranlib.
+# If any variables are added here, they must be added to do-*, below.
+# The HOST_* variables are a special case, which are used for the gcc
+# cross-building scheme.
+EXTRA_GCC_FLAGS = \
+	'AR=$(AR)' \
+	'AS=$(AS)' \
+	'CC=$(CC)' \
+	'CXX=$(CXX)' \
+	'DLLTOOL=$$(DLLTOOL_FOR_TARGET)' \
+	'HOST_CC=$(CC_FOR_BUILD)' \
+	'HOST_PREFIX=$(HOST_PREFIX)' \
+	'HOST_PREFIX_1=$(HOST_PREFIX_1)' \
+	'NM=$(NM)' \
+	'RANLIB=$(RANLIB)' \
+	'WINDRES=$$(WINDRES_FOR_TARGET)' \
+	"GCC_FOR_TARGET=$(GCC_FOR_TARGET) $(TARGET_CFLAGS)" \
+	"`echo 'LANGUAGES=$(LANGUAGES)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'STMP_FIXPROTO=$(STMP_FIXPROTO)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'LIMITS_H_TEST=$(LIMITS_H_TEST)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'LIBGCC1_TEST=$(LIBGCC1_TEST)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'LIBGCC2_CFLAGS=$(LIBGCC2_CFLAGS)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'LIBGCC2_DEBUG_CFLAGS=$(LIBGCC2_DEBUG_CFLAGS)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'LIBGCC2_INCLUDES=$(LIBGCC2_INCLUDES)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'ENQUIRE=$(ENQUIRE)' | sed -e s/.*=$$/XFOO=/`" \
+	"`echo 'BOOT_CFLAGS=$(BOOT_CFLAGS)' | sed -e s/.*=$$/XFOO=/`"
+
+GCC_FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_GCC_FLAGS)
+
+# This is a list of the targets for all of the modules which are compiled
+# using $(FLAGS_TO_PASS).
+ALL_MODULES = \
+	all-apache \
+	all-ash \
+	all-autoconf \
+	all-automake \
+	all-bash \
+	all-bfd \
+	all-binutils \
+	all-bison \
+	all-byacc \
+	all-bzip2 \
+	all-cvssrc \
+	all-db \
+	all-dejagnu \
+	all-diff \
+	all-dosutils \
+	all-etc \
+	all-fileutils \
+	all-findutils \
+	all-find \
+	all-flex \
+	all-gas \
+	all-gawk \
+	all-gettext \
+	all-gnuserv \
+	all-gprof \
+	all-grep \
+	all-grez \
+	all-gzip \
+	all-hello \
+	all-indent \
+	all-inet \
+	all-intl \
+	all-ispell \
+	all-itcl \
+	all-ld \
+	all-libgui \
+	all-libiberty \
+	all-m4 \
+	all-make \
+	all-mmalloc \
+	all-opcodes \
+	all-patch \
+	all-perl \
+	all-prms \
+	all-rcs \
+	all-readline \
+	all-release \
+	all-recode \
+	all-sed \
+	all-send-pr \
+	all-shellutils \
+	all-sim \
+	all-snavigator \
+	all-tar \
+	all-tcl \
+	all-texinfo \
+	all-textutils \
+	all-tgas \
+	all-time \
+	all-uudecode \
+	all-wdiff \
+	all-zip \
+	$(EXTRA_TARGET_HOST_ALL_MODULES)
+
+# This is a list of the check targets for all of the modules which are
+# compiled using $(FLAGS_TO_PASS).
+#
+# The list is in two parts.  The first lists those tools which
+# are tested as part of the host's native tool-chain, and not
+# tested in a cross configuration.
+NATIVE_CHECK_MODULES = \
+	check-bison \
+	check-byacc \
+	check-flex \
+	check-zip
+
+CROSS_CHECK_MODULES = \
+	check-apache \
+	check-ash \
+	check-autoconf \
+	check-automake \
+	check-bash \
+	check-bfd \
+	check-binutils \
+	check-bzip2 \
+	check-cvssrc \
+	check-db \
+	check-dejagnu \
+	check-diff \
+	check-etc \
+	check-fileutils \
+	check-findutils \
+	check-find \
+	check-gas \
+	check-gawk \
+	check-gettext \
+	check-gnuserv \
+	check-gprof \
+	check-grep \
+	check-gzip \
+	check-hello \
+	check-indent \
+	check-inet \
+	check-intl \
+	check-ispell \
+	check-itcl \
+	check-ld \
+	check-libgui \
+	check-libiberty \
+	check-libtool \
+	check-m4 \
+	check-make \
+	check-mmcheckoc \
+	check-opcodes \
+	check-patch \
+	check-perl \
+	check-prms \
+	check-rcs \
+	check-readline \
+	check-recode \
+	check-sed \
+	check-send-pr \
+	check-shellutils \
+	check-snaviagor \
+	check-sim \
+	check-tar \
+	check-tcl \
+	check-texinfo \
+	check-textutils \
+	check-tgas \
+	check-time \
+	check-uudecode \
+	check-wdiff \
+	$(EXTRA_TARGET_HOST_CHECK_MODULES)
+
+CHECK_MODULES=$(NATIVE_CHECK_MODULES) $(CROSS_CHECK_MODULES)
+
+# This is a list of the install targets for all of the modules which are
+# compiled using $(FLAGS_TO_PASS).
+# We put install-opcodes before install-binutils because the installed
+# binutils might be on PATH, and they might need the shared opcodes
+# library.
+# We put install-tcl before install-itcl because itcl wants to run a
+# program on installation which uses the Tcl libraries.
+INSTALL_MODULES = \
+	install-apache \
+	install-ash \
+	install-autoconf \
+	install-automake \
+	install-bash \
+	install-bfd \
+	install-bzip2 \
+	install-opcodes \
+	install-binutils \
+	install-bison \
+	install-byacc \
+	install-cvssrc \
+	install-db \
+	install-dejagnu \
+	install-diff \
+	install-dosutils \
+	install-etc \
+	install-fileutils \
+	install-findutils \
+	install-find \
+	install-flex \
+	install-gas \
+	install-gawk \
+	install-gettext \
+	install-gnuserv \
+	install-gprof \
+	install-grep \
+	install-grez \
+	install-gzip \
+	install-hello \
+	install-indent \
+	install-inet \
+	install-intl \
+	install-ispell \
+	install-tcl \
+	install-itcl \
+	install-ld \
+	install-libgui \
+	install-libiberty \
+	install-libtool \
+	install-m4 \
+	install-make \
+	install-mmalloc \
+	install-patch \
+	install-perl \
+	install-prms \
+	install-rcs \
+	install-readline \
+	install-recode \
+	install-sed \
+	install-send-pr \
+	install-shellutils \
+	install-sim \
+	install-snavigator \
+	install-tar \
+	install-texinfo \
+	install-textutils \
+	install-tgas \
+	install-time \
+	install-uudecode \
+	install-wdiff \
+	install-zip \
+	$(EXTRA_TARGET_HOST_INSTALL_MODULES)
+
+# This is a list of the targets for all of the modules which are compiled
+# using $(X11_FLAGS_TO_PASS).
+ALL_X11_MODULES = \
+	all-emacs \
+	all-emacs19 \
+	all-gdb \
+	all-expect \
+	all-gash \
+	all-guile \
+	all-tclX \
+	all-tk \
+	all-tix
+
+# This is a list of the check targets for all of the modules which are
+# compiled using $(X11_FLAGS_TO_PASS).
+CHECK_X11_MODULES = \
+	check-emacs \
+	check-gdb \
+	check-guile \
+	check-expect \
+	check-gash \
+	check-tclX \
+	check-tk \
+	check-tix
+
+# This is a list of the install targets for all the modules which are
+# compiled using $(X11_FLAGS_TO_PASS).
+INSTALL_X11_MODULES = \
+	install-emacs \
+	install-emacs19 \
+	install-gdb \
+	install-guile \
+	install-expect \
+	install-gash \
+	install-tclX \
+	install-tk \
+	install-tix
+
+# This is a list of the targets for all of the modules which are compiled
+# using $(TARGET_FLAGS_TO_PASS).
+ALL_TARGET_MODULES = \
+	all-target-libio \
+	all-target-libstdc++ \
+	all-target-librx \
+	all-target-libg++ \
+	all-target-newlib \
+	all-target-libf2c \
+	all-target-libchill \
+	all-target-libobjc \
+	all-target-winsup \
+	all-target-libgloss \
+	all-target-libiberty \
+	all-target-gperf \
+	all-target-examples \
+	all-target-libstub \
+	all-target-libjava \
+	all-target-zlib \
+	all-target-boehm-gc \
+	all-target-qthreads \
+	all-target-cygmon
+
+# This is a list of the configure targets for all of the modules which
+# are compiled using the target tools.
+CONFIGURE_TARGET_MODULES = \
+	configure-target-libio \
+	configure-target-libstdc++ \
+	configure-target-librx \
+	configure-target-libg++ \
+	configure-target-newlib \
+	configure-target-libf2c \
+	configure-target-libchill \
+	configure-target-libobjc \
+	configure-target-winsup \
+	configure-target-libgloss \
+	configure-target-libiberty \
+	configure-target-gperf \
+	configure-target-examples \
+	configure-target-libstub \
+	configure-target-libjava \
+	configure-target-zlib \
+	configure-target-boehm-gc \
+	configure-target-qthreads \
+	configure-target-cygmon
+
+# This is a list of the check targets for all of the modules which are
+# compiled using $(TARGET_FLAGS_TO_PASS).
+CHECK_TARGET_MODULES = \
+	check-target-libio \
+	check-target-libstdc++ \
+	check-target-libg++ \
+	check-target-newlib \
+	check-target-libf2c \
+	check-target-libchill \
+	check-target-libobjc \
+	check-target-winsup \
+	check-target-libiberty \
+	check-target-libjava \
+	check-target-zlib \
+	check-target-boehm-gc \
+	check-target-qthreads \
+	check-target-gperf
+
+# This is a list of the install targets for all of the modules which are
+# compiled using $(TARGET_FLAGS_TO_PASS).
+INSTALL_TARGET_MODULES = \
+	install-target-libio \
+	install-target-libstdc++ \
+	install-target-libg++ \
+	install-target-newlib \
+	install-target-libf2c \
+	install-target-libchill \
+	install-target-libobjc \
+	install-target-winsup \
+	install-target-libgloss \
+	install-target-libiberty \
+	install-target-bsp \
+	install-target-libjava \
+	install-target-zlib \
+	install-target-boehm-gc \
+	install-target-qthreads \
+	install-target-gperf
+
+# This is a list of the targets for which we can do a clean-{target}.
+CLEAN_MODULES = \
+	clean-apache \
+	clean-ash \
+	clean-autoconf \
+	clean-automake \
+	clean-bash \
+	clean-bfd \
+	clean-binutils \
+	clean-bison \
+	clean-byacc \
+	clean-bzip2 \
+	clean-cvssrc \
+	clean-db \
+	clean-dejagnu \
+	clean-diff \
+	clean-dosutils \
+	clean-etc \
+	clean-fileutils \
+	clean-findutils \
+	clean-find \
+	clean-flex \
+	clean-gas \
+	clean-gawk \
+	clean-gettext \
+	clean-gnuserv \
+	clean-gprof \
+	clean-grep \
+	clean-grez \
+	clean-gzip \
+	clean-hello \
+	clean-indent \
+	clean-inet \
+	clean-intl \
+	clean-ispell \
+	clean-itcl \
+	clean-ld \
+	clean-libgui \
+	clean-libiberty \
+	clean-libtool \
+	clean-m4 \
+	clean-make \
+	clean-mmalloc \
+	clean-opcodes \
+	clean-patch \
+	clean-perl \
+	clean-prms \
+	clean-rcs \
+	clean-readline \
+	clean-release \
+	clean-recode \
+	clean-sed \
+	clean-send-pr \
+	clean-shellutils \
+	clean-sim \
+	clean-snavigator \
+	clean-tar \
+	clean-tcl \
+	clean-texinfo \
+	clean-textutils \
+	clean-tgas \
+	clean-time \
+	clean-uudecode \
+	clean-wdiff \
+	clean-zip
+
+
+# All of the target modules that can be cleaned
+CLEAN_TARGET_MODULES = \
+	clean-target-libio \
+	clean-target-libstdc++ \
+	clean-target-librx \
+	clean-target-libg++ \
+	clean-target-newlib \
+	clean-target-libf2c \
+	clean-target-libchill \
+	clean-target-libobjc \
+	clean-target-winsup \
+	clean-target-libgloss \
+	clean-target-libiberty \
+	clean-target-gperf \
+	clean-target-examples \
+	clean-target-libstub \
+	clean-target-libjava \
+	clean-target-zlib \
+	clean-target-boehm-gc \
+	clean-target-qthreads \
+	clean-target-cygmon
+
+# All of the x11 modules that can be cleaned
+CLEAN_X11_MODULES = \
+	clean-emacs \
+	clean-emacs19 \
+	clean-gdb \
+	clean-expect \
+	clean-gash \
+	clean-guile \
+	clean-tclX \
+	clean-tk \
+	clean-tix
+
+# The first rule in the file had better be this one.  Don't put any above it.
+all: all.normal
+.PHONY: all
+
+# The target built for a native build.
+.PHONY: all.normal
+all.normal: \
+	$(ALL_MODULES) \
+	$(ALL_X11_MODULES) \
+	$(ALL_TARGET_MODULES) \
+	all-gcc
+
+# Do a target for all the subdirectories.  A ``make do-X'' will do a
+# ``make X'' in all subdirectories (because, in general, there is a
+# dependency (below) of X upon do-X, a ``make X'' will also do this,
+# but it may do additional work as well).
+# This target ensures that $(BASE_FLAGS_TO_PASS) appears only once,
+# because it is so large that it can easily overflow the command line
+# length limit on some systems.
+DO_X = \
+	do-clean \
+	do-distclean \
+	do-dvi \
+	do-info \
+	do-install-info \
+	do-installcheck \
+	do-mostlyclean \
+	do-maintainer-clean \
+	do-TAGS
+.PHONY: $(DO_X)
+$(DO_X):
+	@target=`echo $@ | sed -e 's/^do-//'`; \
+	r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd`; export s; \
+	$(SET_LIB_PATH) \
+	for i in $(SUBDIRS) -dummy-; do \
+	  if [ -f ./$$i/Makefile ]; then \
+	    case $$i in \
+	    gcc) \
+	      for flag in $(EXTRA_GCC_FLAGS); do \
+		eval `echo "$$flag" | sed -e "s|^\([^=]*\)=\(.*\)|\1='\2'|"`; \
+	      done; \
+	      ;; \
+	    *) \
+	      for flag in $(EXTRA_HOST_FLAGS); do \
+		eval `echo "$$flag" | sed -e "s|^\([^=]*\)=\(.*\)|\1='\2'|"`; \
+	      done; \
+	      ;; \
+	    esac ; \
+	    export AR AS CC CXX LD NM RANLIB DLLTOOL WINDRES; \
+	    if (cd ./$$i; \
+	        $(MAKE) $(BASE_FLAGS_TO_PASS) "AR=$${AR}" "AS=$${AS}" \
+			"CC=$${CC}" "CXX=$${CXX}" "LD=$${LD}" "NM=$${NM}" \
+			"RANLIB=$${RANLIB}" \
+			"DLLTOOL=$${DLLTOOL}" "WINDRES=$${WINDRES}" \
+			$${target}); \
+	    then true; else exit 1; fi; \
+	  else true; fi; \
+	done
+	@target=`echo $@ | sed -e 's/^do-//'`; \
+	r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd`; export s; \
+	$(SET_LIB_PATH) \
+	for i in $(TARGET_CONFIGDIRS) -dummy-; do \
+	  if [ -f $(TARGET_SUBDIR)/$$i/Makefile ]; then \
+	    for flag in $(EXTRA_TARGET_FLAGS); do \
+		eval `echo "$$flag" | sed -e "s|^\([^=]*\)=\(.*\)|\1='\2'|"`; \
+	    done; \
+	    export AR AS CC CXX LD NM RANLIB DLLTOOL WINDRES; \
+	    if (cd $(TARGET_SUBDIR)/$$i; \
+	        $(MAKE) $(BASE_FLAGS_TO_PASS) "AR=$${AR}" "AS=$${AS}" \
+			"CC=$${CC}" "CXX=$${CXX}" "LD=$${LD}" "NM=$${NM}" \
+			"RANLIB=$${RANLIB}" \
+			"DLLTOOL=$${DLLTOOL}" "WINDRES=$${WINDRES}" \
+			$${target}); \
+	    then true; else exit 1; fi; \
+	  else true; fi; \
+	done
+
+# Here are the targets which correspond to the do-X targets.
+
+.PHONY: info installcheck dvi install-info
+.PHONY: clean distclean mostlyclean maintainer-clean realclean
+.PHONY: local-clean local-distclean local-maintainer-clean
+info: do-info
+installcheck: do-installcheck
+dvi: do-dvi
+
+# Make sure makeinfo is built before we do a `make info'.
+do-info: all-texinfo
+
+install-info: do-install-info dir.info
+	s=`cd $(srcdir); pwd`; export s; \
+	if [ -f dir.info ] ; then \
+	  $(INSTALL_DATA) dir.info $(infodir)/dir.info ; \
+	else true ; fi
+
+local-clean:
+	-rm -f *.a TEMP errs core *.o *~ \#* TAGS *.E *.log
+
+local-distclean:
+	-rm -f Makefile config.status config.cache mh-frag mt-frag
+	-if [ "$(TARGET_SUBDIR)" != "." ]; then \
+	  rm -rf $(TARGET_SUBDIR); \
+	else true; fi
+
+local-maintainer-clean:
+	@echo "This command is intended for maintainers to use;"
+	@echo "it deletes files that may require special tools to rebuild."
+
+clean: do-clean local-clean
+mostlyclean: do-mostlyclean local-clean
+distclean: do-distclean local-clean local-distclean
+maintainer-clean: local-maintainer-clean do-maintainer-clean local-clean 
+maintainer-clean: local-distclean
+realclean: maintainer-clean
+
+# This rule is used to clean specific modules.
+.PHONY: $(CLEAN_MODULES) $(CLEAN_X11_MODULES) clean-gcc
+$(CLEAN_MODULES) $(CLEAN_X11_MODULES) clean-gcc:
+	@dir=`echo $@ | sed -e 's/clean-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; $(MAKE) $(FLAGS_TO_PASS) clean); \
+	else \
+	  true; \
+	fi
+
+.PHONY: $(CLEAN_TARGET_MODULES)
+$(CLEAN_TARGET_MODULES):
+	@dir=`echo $@ | sed -e 's/clean-target-//'`; \
+	rm -f $(TARGET_SUBDIR)/$${dir}/multilib.out $(TARGET_SUBDIR)/$${dir}/tmpmulti.out; \
+	if [ -f $(TARGET_SUBDIR)/$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $(TARGET_SUBDIR)/$${dir}; $(MAKE) $(TARGET_FLAGS_TO_PASS) clean); \
+	else \
+	  true; \
+	fi
+
+clean-target: $(CLEAN_TARGET_MODULES)
+
+# Check target.
+
+.PHONY: check
+check: $(CHECK_MODULES) \
+	$(CHECK_TARGET_MODULES) \
+	$(CHECK_X11_MODULES) \
+	check-gcc
+
+# Automated reporting of test results.
+
+warning.log: build.log
+	$(srcdir)/contrib/warn_summary build.log > $@
+
+mail-report.log:
+	if test x'$(BOOT_CFLAGS)' != x''; then \
+	    BOOT_CFLAGS='$(BOOT_CFLAGS)'; export BOOT_CFLAGS; \
+	fi; \
+	$(srcdir)/contrib/test_summary -t >$@
+	chmod +x $@
+	echo If you really want to send e-mail, run ./$@ now
+
+mail-report-with-warnings.log: warning.log
+	if test x'$(BOOT_CFLAGS)' != x''; then \
+	    BOOT_CFLAGS='$(BOOT_CFLAGS)'; export BOOT_CFLAGS; \
+	fi; \
+	$(srcdir)/contrib/test_summary -t -i warning.log >$@
+	chmod +x $@
+	echo If you really want to send e-mail, run ./$@ now
+
+# Installation targets.
+
+.PHONY: install install-cross uninstall source-vault binary-vault vault-install
+install: $(INSTALL_TARGET) 
+install-cross: $(INSTALL_TARGET_CROSS) 
+
+uninstall:
+	@echo "the uninstall target is not supported in this tree"
+
+source-vault:
+	$(MAKE) -f ./release/Build-A-Release \
+		host=$(host_alias) source-vault
+
+binary-vault:
+	$(MAKE) -f ./release/Build-A-Release \
+		host=$(host_alias) target=$(target_alias)
+
+vault-install:
+	@if [ -f ./release/vault-install ] ; then \
+	  ./release/vault-install $(host_alias) $(target_alias) ; \
+	else \
+	  true ; \
+	fi
+
+.PHONY: install.all
+install.all: install-no-fixedincludes
+	@if [ -f ./gcc/Makefile ] ; then \
+		r=`pwd` ; export r ; \
+		$(SET_LIB_PATH) \
+		(cd ./gcc; \
+		$(MAKE) $(FLAGS_TO_PASS) install-headers) ; \
+	else \
+		true ; \
+	fi
+
+# inet-install is used because the I*Net wants DejaGNU installed but
+# not built.  Similarly, gzip is built but not installed.
+inet-install:
+	$(MAKE) INSTALL_MODULES="`echo $(INSTALL_MODULES) | sed -e 's/install-dejagnu//' -e 's/install-gzip//'`" install
+
+# install-no-fixedincludes is used because Cygnus can not distribute
+# the fixed header files.
+.PHONY: install-no-fixedincludes
+install-no-fixedincludes: \
+	installdirs \
+	$(INSTALL_MODULES) \
+	$(INSTALL_TARGET_MODULES) \
+	$(INSTALL_X11_MODULES) \
+	gcc-no-fixedincludes 
+
+# Install the gcc headers files, but not the fixed include files,
+# which Cygnus is not allowed to distribute.  This rule is very
+# dependent on the workings of the gcc Makefile.in.
+.PHONY: gcc-no-fixedincludes
+gcc-no-fixedincludes:
+	@if [ -f ./gcc/Makefile ]; then \
+	  rm -rf gcc/tmp-include; \
+	  mv gcc/include gcc/tmp-include 2>/dev/null; \
+	  mkdir gcc/include; \
+	  cp $(srcdir)/gcc/gsyslimits.h gcc/include/syslimits.h; \
+	  touch gcc/stmp-fixinc gcc/include/fixed; \
+	  rm -f gcc/stmp-headers gcc/stmp-int-hdrs; \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd` ; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd ./gcc; \
+	   $(MAKE) $(GCC_FLAGS_TO_PASS) install); \
+	  rm -rf gcc/include; \
+	  mv gcc/tmp-include gcc/include 2>/dev/null; \
+	else true; fi
+
+# This rule is used to build the modules which use FLAGS_TO_PASS.  To
+# build a target all-X means to cd to X and make all.
+#
+# all-gui, and all-libproc are handled specially because
+# they are still experimental, and if they fail to build, that
+# shouldn't stop "make all".
+.PHONY: $(ALL_MODULES) all-gui all-libproc
+$(ALL_MODULES) all-gui all-libproc:
+	@dir=`echo $@ | sed -e 's/all-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; $(MAKE) $(FLAGS_TO_PASS) all); \
+	else \
+	  true; \
+	fi
+
+# These rules are used to check the modules which use FLAGS_TO_PASS.
+# To build a target check-X means to cd to X and make check.  Some
+# modules are only tested in a native toolchain.
+
+.PHONY: $(CHECK_MODULES) $(NATIVE_CHECK_MODULES) $(CROSS_CHECK_MODULES)
+$(NATIVE_CHECK_MODULES):
+	@if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
+	  dir=`echo $@ | sed -e 's/check-//'`; \
+	  if [ -f ./$${dir}/Makefile ] ; then \
+	    r=`pwd`; export r; \
+	    s=`cd $(srcdir); pwd`; export s; \
+	    $(SET_LIB_PATH) \
+	    (cd $${dir}; $(MAKE) $(FLAGS_TO_PASS) check); \
+	  else \
+	    true; \
+	  fi; \
+	fi
+
+$(CROSS_CHECK_MODULES):
+	@dir=`echo $@ | sed -e 's/check-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; $(MAKE) $(FLAGS_TO_PASS) check); \
+	else \
+	  true; \
+	fi
+
+# This rule is used to install the modules which use FLAGS_TO_PASS.
+# To build a target install-X means to cd to X and make install.
+.PHONY: $(INSTALL_MODULES)
+$(INSTALL_MODULES): installdirs
+	@dir=`echo $@ | sed -e 's/install-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; $(MAKE) $(FLAGS_TO_PASS) install); \
+	else \
+	  true; \
+	fi
+
+# This rule is used to configure the modules which are built with the
+# target tools.
+.PHONY: $(CONFIGURE_TARGET_MODULES)
+$(CONFIGURE_TARGET_MODULES):
+	@dir=`echo $@ | sed -e 's/configure-target-//'`; \
+	if [ -d $(TARGET_SUBDIR)/$${dir} ]; then \
+	  r=`pwd`; export r; \
+	  $(CC_FOR_TARGET) --print-multi-lib > $(TARGET_SUBDIR)/$${dir}/tmpmulti.out 2> /dev/null; \
+	  if [ -s $(TARGET_SUBDIR)/$${dir}/tmpmulti.out ]; then \
+	    if [ -f $(TARGET_SUBDIR)/$${dir}/multilib.out ]; then \
+	      if cmp $(TARGET_SUBDIR)/$${dir}/multilib.out $(TARGET_SUBDIR)/$${dir}/tmpmulti.out > /dev/null; then \
+		rm -f $(TARGET_SUBDIR)/$${dir}/tmpmulti.out; \
+	      else \
+		echo "Multilibs changed for $${dir}, reconfiguring"; \
+		rm -f $(TARGET_SUBDIR)/$${dir}/multilib.out $(TARGET_SUBDIR)/$${dir}/Makefile; \
+		mv $(TARGET_SUBDIR)/$${dir}/tmpmulti.out $(TARGET_SUBDIR)/$${dir}/multilib.out; \
+	      fi; \
+	    else \
+	      mv $(TARGET_SUBDIR)/$${dir}/tmpmulti.out $(TARGET_SUBDIR)/$${dir}/multilib.out; \
+	    fi; \
+	  fi; \
+	fi; exit 0	# break command into two pieces
+	@dir=`echo $@ | sed -e 's/configure-target-//'`; \
+	if [ ! -d $(TARGET_SUBDIR) ]; then \
+	  true; \
+	elif [ -f $(TARGET_SUBDIR)/$${dir}/Makefile ] ; then \
+	  true; \
+	elif echo " $(TARGET_CONFIGDIRS) " | grep " $${dir} " >/dev/null 2>&1; then \
+	  if [ -d $(srcdir)/$${dir} ]; then \
+	    [ -d $(TARGET_SUBDIR)/$${dir} ] || mkdir $(TARGET_SUBDIR)/$${dir};\
+	    r=`pwd`; export r; \
+	    s=`cd $(srcdir); pwd`; export s; \
+	    $(SET_LIB_PATH) \
+	    AR="$(AR_FOR_TARGET)"; export AR; \
+	    AS="$(AS_FOR_TARGET)"; export AS; \
+	    CC="$(CC_FOR_TARGET)"; export CC; \
+	    CFLAGS="$(CFLAGS_FOR_TARGET)"; export CFLAGS; \
+	    CXX="$(CXX_FOR_TARGET)"; export CXX; \
+	    CXXFLAGS="$(CXXFLAGS_FOR_TARGET)"; export CXXFLAGS; \
+	    DLLTOOL="$(DLLTOOL_FOR_TARGET)"; export DLLTOOL; \
+	    LD="$(LD_FOR_TARGET)"; export LD; \
+            LDFLAGS="$(LDFLAGS_FOR_TARGET)"; export LDFLAGS; \
+	    NM="$(NM_FOR_TARGET)"; export NM; \
+	    RANLIB="$(RANLIB_FOR_TARGET)"; export RANLIB; \
+	    WINDRES="$(WINDRES_FOR_TARGET)"; export WINDRES; \
+	    echo Configuring in $(TARGET_SUBDIR)/$${dir}; \
+	    cd $(TARGET_SUBDIR)/$${dir}; \
+	    case $(srcdir) in \
+	    /*) \
+	      topdir=$(srcdir) ;; \
+	    *) \
+	      case "$(TARGET_SUBDIR)" in \
+	      .) topdir="../$(srcdir)" ;; \
+	      *) topdir="../../$(srcdir)" ;; \
+	      esac ;; \
+	    esac; \
+	    if [ "$(srcdir)" = "." ] ; then \
+	      if [ "$(TARGET_SUBDIR)" != "." ] ; then \
+		if $(SHELL) $$s/symlink-tree $${topdir}/$${dir} "no-such-file" ; then \
+		  if [ -f Makefile ]; then \
+		    if $(MAKE) distclean; then \
+		      true; \
+		    else \
+		      exit 1; \
+		    fi; \
+		  else \
+		    true; \
+		  fi; \
+		else \
+		  exit 1; \
+		fi; \
+	      else \
+		true; \
+	      fi; \
+	      srcdiroption="--srcdir=."; \
+	      libsrcdir="."; \
+	    else \
+	      srcdiroption="--srcdir=$${topdir}/$${dir}"; \
+	      libsrcdir="$$s/$${dir}"; \
+	    fi; \
+	    if [ -f $${libsrcdir}/configure ] ; then \
+	      rm -f no-such-file skip-this-dir; \
+	      CONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \
+		$(CONFIG_ARGUMENTS) $${srcdiroption} \
+		--with-target-subdir="$(TARGET_SUBDIR)"; \
+	    else \
+	      rm -f no-such-file skip-this-dir; \
+	      CONFIG_SITE=no-such-file $(SHELL) $$s/configure \
+		$(CONFIG_ARGUMENTS) $${srcdiroption} \
+		--with-target-subdir="$(TARGET_SUBDIR)"; \
+	    fi; \
+	    if [ -f skip-this-dir ] ; then \
+	      sh skip-this-dir; \
+	      rm -f skip-this-dir; \
+	      cd ..; rmdir $${dir} || true; \
+	    else \
+	      true; \
+	    fi; \
+	  else \
+	    true; \
+	  fi; \
+	else \
+	  true; \
+	fi
+
+# This rule is used to build the modules which use TARGET_FLAGS_TO_PASS.
+# To build a target all-X means to cd to X and make all.
+.PHONY: $(ALL_TARGET_MODULES)
+$(ALL_TARGET_MODULES):
+	@dir=`echo $@ | sed -e 's/all-target-//'`; \
+	if [ -f $(TARGET_SUBDIR)/$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $(TARGET_SUBDIR)/$${dir}; $(MAKE) $(TARGET_FLAGS_TO_PASS) all); \
+	else \
+	  true; \
+	fi
+
+# This rule is used to check the modules which use TARGET_FLAGS_TO_PASS.
+# To build a target install-X means to cd to X and make install.
+.PHONY: $(CHECK_TARGET_MODULES)
+$(CHECK_TARGET_MODULES):
+	@dir=`echo $@ | sed -e 's/check-target-//'`; \
+	if [ -f $(TARGET_SUBDIR)/$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $(TARGET_SUBDIR)/$${dir};$(MAKE) $(TARGET_FLAGS_TO_PASS) check);\
+	else \
+	  true; \
+	fi
+
+# This rule is used to install the modules which use
+# TARGET_FLAGS_TO_PASS.  To build a target install-X means to cd to X
+# and make install.
+.PHONY: $(INSTALL_TARGET_MODULES)
+$(INSTALL_TARGET_MODULES): installdirs
+	@dir=`echo $@ | sed -e 's/install-target-//'`; \
+	if [ -f $(TARGET_SUBDIR)/$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $(TARGET_SUBDIR)/$${dir}; \
+	    $(MAKE) $(TARGET_FLAGS_TO_PASS) install); \
+	else \
+	  true; \
+	fi
+
+# This rule is used to build the modules which use X11_FLAGS_TO_PASS.
+# To build a target all-X means to cd to X and make all.
+.PHONY: $(ALL_X11_MODULES)
+$(ALL_X11_MODULES):
+	@dir=`echo $@ | sed -e 's/all-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; \
+	   $(MAKE) $(FLAGS_TO_PASS) $(X11_FLAGS_TO_PASS) all); \
+	else \
+	  true; \
+	fi
+
+# This rule is used to check the modules which use X11_FLAGS_TO_PASS.
+# To build a target check-X means to cd to X and make all.
+.PHONY: $(CHECK_X11_MODULES)
+$(CHECK_X11_MODULES):
+	@dir=`echo $@ | sed -e 's/check-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; \
+	   $(MAKE) $(FLAGS_TO_PASS) $(X11_FLAGS_TO_PASS) check); \
+	else \
+	  true; \
+	fi
+
+# This rule is used to install the modules which use X11_FLAGS_TO_PASS.
+# To build a target install-X means to cd to X and make install.
+.PHONY: $(INSTALL_X11_MODULES)
+$(INSTALL_X11_MODULES): installdirs
+	@dir=`echo $@ | sed -e 's/install-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; \
+	   $(MAKE) $(FLAGS_TO_PASS) $(X11_FLAGS_TO_PASS) install); \
+	else \
+	  true; \
+	fi
+
+# gcc is the only module which uses GCC_FLAGS_TO_PASS.
+.PHONY: all-gcc
+all-gcc:
+	@if [ -f ./gcc/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) all); \
+	else \
+	  true; \
+	fi
+
+# Building GCC uses some tools for rebuilding "source" files
+# like texinfo, bison/byacc, etc.  So we must depend on those.
+#
+# While building GCC, it may be necessary to run various target
+# programs like the assembler, linker, etc.  So we depend on
+# those too.
+#
+# In theory, on an SMP all those dependencies can be resolved
+# in parallel.
+#
+.PHONY: bootstrap bootstrap-lean bootstrap2 bootstrap2-lean bootstrap3 bootstrap3-lean bootstrap4 bootstrap4-lean
+bootstrap bootstrap-lean bootstrap2 bootstrap2-lean bootstrap3 bootstrap3-lean bootstrap4 bootstrap4-lean: all-texinfo all-bison all-byacc all-binutils all-gas all-ld
+	@r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd`; export s; \
+	$(SET_LIB_PATH) \
+	echo "Bootstrapping the compiler"; \
+	cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) $@
+	@r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd`; export s; \
+	case "$@" in \
+	  *bootstrap4-lean ) \
+			msg="Comparing stage3 and stage4 of the compiler"; \
+	  		compare=compare3-lean ;; \
+	  *bootstrap4 ) msg="Comparing stage3 and stage4 of the compiler"; \
+	  		compare=compare3 ;; \
+	  *-lean )	msg="Comparing stage2 and stage3 of the compiler"; \
+	  		compare=compare-lean ;; \
+	  * )		msg="Comparing stage2 and stage3 of the compiler"; \
+	  		compare=compare ;; \
+	esac; \
+	$(SET_LIB_PATH) \
+	echo "$$msg"; \
+	cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) $$compare
+	@r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd` ; export s; \
+	$(SET_LIB_PATH) \
+	echo "Building runtime libraries"; \
+	$(MAKE) $(BASE_FLAGS_TO_PASS) all
+
+.PHONY: cross
+cross: all-texinfo all-bison all-byacc all-binutils all-gas all-ld
+	@r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd`; export s; \
+	$(SET_LIB_PATH) \
+	echo "Building the C and C++ compiler"; \
+	cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) LANGUAGES="c c++"
+	@r=`pwd`; export r; \
+	s=`cd $(srcdir); pwd` ; export s; \
+	$(SET_LIB_PATH) \
+	echo "Building runtime libraries"; \
+	$(MAKE) $(BASE_FLAGS_TO_PASS) all LANGUAGES="c c++"
+
+.PHONY: check-gcc
+check-gcc:
+	@if [ -f ./gcc/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) check); \
+	else \
+	  true; \
+	fi
+
+.PHONY: install-gcc
+install-gcc:
+	@if [ -f ./gcc/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) install); \
+	else \
+	  true; \
+	fi
+
+.PHONY: install-gcc-cross
+install-gcc-cross:
+	@if [ -f ./gcc/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd gcc; $(MAKE) $(GCC_FLAGS_TO_PASS) LANGUAGES="c c++" install); \
+	else \
+	  true; \
+	fi
+# EXPERIMENTAL STUFF
+# This rule is used to install the modules which use FLAGS_TO_PASS.
+# To build a target install-X means to cd to X and make install.
+.PHONY: install-dosrel
+install-dosrel: installdirs info
+	@dir=`echo $@ | sed -e 's/install-//'`; \
+	if [ -f ./$${dir}/Makefile ] ; then \
+	  r=`pwd`; export r; \
+	  s=`cd $(srcdir); pwd`; export s; \
+	  $(SET_LIB_PATH) \
+	  (cd $${dir}; $(MAKE) $(FLAGS_TO_PASS) install); \
+	else \
+	  true; \
+	fi
+
+install-dosrel-fake:
+
+
+# This is a list of inter-dependencies among modules.
+all-apache:
+all-ash:
+all-autoconf: all-m4 all-texinfo
+all-automake: all-m4 all-texinfo
+all-bash:
+all-bfd: all-libiberty all-intl
+all-binutils: all-libiberty all-opcodes all-bfd all-flex all-bison all-byacc all-intl
+all-bison: all-texinfo
+configure-target-boehm-gc: configure-target-newlib configure-target-qthreads
+all-target-boehm-gc: configure-target-boehm-gc
+all-byacc:
+all-bzip2:
+all-cvssrc:
+configure-target-cygmon: $(ALL_GCC)
+all-target-cygmon: configure-target-cygmon all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-libstub
+all-db:
+all-dejagnu: all-tcl all-expect all-tk
+all-diff: all-libiberty
+all-emacs:
+all-emacs19: all-bison all-byacc
+all-etc:
+configure-target-examples: $(ALL_GCC)
+all-target-examples: configure-target-examples
+all-expect: all-tcl all-tk
+all-fileutils: all-libiberty
+all-findutils:
+all-find:
+all-flex: all-libiberty all-bison all-byacc
+all-gas: all-libiberty all-opcodes all-bfd all-intl
+all-gash: all-tcl
+all-gawk:
+ALL_GCC = all-gcc
+all-gcc: all-bison all-byacc all-binutils all-gas all-ld
+all-bootstrap: all-libiberty all-bison all-byacc all-binutils all-gas all-ld
+GDB_TK = all-tk all-tcl all-itcl all-tix all-libgui
+all-gdb: all-libiberty all-opcodes all-bfd all-mmalloc all-readline all-bison all-byacc all-sim $(gdbnlmrequirements) $(GDB_TK)
+all-gettext:
+all-gnuserv:
+configure-target-gperf: $(ALL_GCC)
+all-target-gperf: configure-target-gperf all-target-libiberty all-target-libstdc++
+all-gprof: all-libiberty all-bfd all-opcodes all-intl
+all-grep: all-libiberty
+all-grez: all-libiberty all-bfd all-opcodes
+all-gui: all-gdb all-libproc all-target-librx
+all-guile:
+all-gzip: all-libiberty
+all-hello: all-libiberty
+all-indent:
+all-inet: all-tcl all-send-pr all-perl
+all-intl:
+all-ispell: all-emacs19
+all-itcl: all-tcl all-tk
+all-ld: all-libiberty all-bfd all-opcodes all-bison all-byacc all-flex all-intl
+configure-target-libg++: $(ALL_GCC) configure-target-librx
+all-target-libg++: configure-target-libg++ all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-librx all-target-libstdc++
+configure-target-libgloss: $(ALL_GCC)
+all-target-libgloss: configure-target-libgloss configure-target-newlib
+configure-target-libio: $(ALL_GCC)
+all-target-libio: configure-target-libio all-gas all-ld all-gcc all-target-libiberty all-target-newlib
+check-target-libio: all-target-libstdc++
+all-libgui: all-tcl all-tk all-itcl
+all-libiberty:
+configure-target-libjava: $(ALL_GCC) configure-target-zlib configure-target-boehm-gc configure-target-qthreads configure-target-newlib
+all-target-libjava: configure-target-libjava all-gcc all-zip all-target-newlib all-target-zlib all-target-boehm-gc all-target-qthreads
+configure-target-librx: $(ALL_GCC) configure-target-newlib
+all-target-librx: configure-target-librx
+configure-target-libstdc++: $(ALL_GCC)
+all-target-libstdc++: configure-target-libstdc++ all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio
+configure-target-libstub: $(ALL_GCC)
+all-target-libstub: configure-target-libstub
+all-libtool:
+all-target-libf2c: configure-target-libf2c all-gas all-ld all-gcc all-target-libiberty all-target-newlib
+all-target-libchill: configure-target-libchill all-gas all-ld all-gcc all-target-libiberty all-target-newlib
+all-target-libobjc: configure-target-libobjc all-gas all-ld all-gcc all-target-libiberty all-target-newlib
+all-m4: all-libiberty
+all-make: all-libiberty
+all-mmalloc:
+configure-target-newlib: $(ALL_GCC)
+all-target-newlib: configure-target-newlib all-binutils all-gas all-gcc
+all-opcodes: all-bfd all-libiberty
+all-patch: all-libiberty
+all-perl:
+all-prms: all-libiberty
+configure-target-qthreads: configure-target-newlib
+all-target-qthreads: configure-target-qthreads
+all-rcs:
+all-readline:
+all-recode: all-libiberty
+all-sed: all-libiberty
+all-send-pr: all-prms
+all-shellutils:
+all-sim: all-libiberty all-bfd all-opcodes all-readline
+all-snavigator: all-tcl all-tk all-itcl all-db all-grep all-libgui
+all-tar: all-libiberty
+all-tcl:
+all-tclX: all-tcl all-tk
+all-tk: all-tcl
+all-texinfo: all-libiberty
+all-textutils:
+all-tgas: all-libiberty all-bfd all-opcodes
+all-time:
+all-tix: all-tcl all-tk
+all-wdiff:
+all-target-winsup: all-target-newlib all-target-libiberty all-target-libio configure-target-winsup 
+configure-target-winsup: configure-target-newlib
+all-uudecode: all-libiberty
+all-zip:
+configure-target-zlib: $(ALL_GCC)
+all-target-zlib: configure-target-zlib
+configure-target-libiberty: $(ALL_GCC)
+all-target-libiberty: configure-target-libiberty all-gcc all-ld all-target-newlib
+all-target: $(ALL_TARGET_MODULES)
+install-target: $(INSTALL_TARGET_MODULES)
+
+### other supporting targets
+
+MAKEDIRS= \
+	$(prefix) \
+	$(exec_prefix)
+.PHONY: installdirs
+installdirs: mkinstalldirs
+	$(SHELL) $(srcdir)/mkinstalldirs $(MAKEDIRS)
+
+dir.info: do-install-info
+	if [ -f $(srcdir)/texinfo/gen-info-dir ] ; then \
+	  $(srcdir)/texinfo/gen-info-dir $(infodir) $(srcdir)/texinfo/dir.info-template > dir.info.new ; \
+	  mv -f dir.info.new dir.info ; \
+	else true ; \
+	fi
+
+dist:
+	@echo "Building a full distribution of this tree isn't done"
+	@echo "via 'make dist'.  Check out the etc/ subdirectory" 
+
+etags tags: TAGS
+
+# Right now this just builds TAGS in each subdirectory.  emacs19 has the
+# ability to use several tags files at once, so there is probably no need
+# to combine them into one big TAGS file (like CVS 1.3 does).  We could
+# (if we felt like it) have this Makefile write a piece of elisp which
+# the user could load to tell emacs19 where all the TAGS files we just
+# built are.
+TAGS: do-TAGS
+
+# with the gnu make, this is done automatically.
+
+Makefile: Makefile.in configure.in $(host_makefile_frag) $(target_makefile_frag) $(gcc_version_trigger)
+	$(SHELL) ./config.status
+
+#
+# Support for building net releases
+
+# Files in devo used in any net release.
+# ChangeLog omitted because it may refer to files which are not in this
+# distribution (perhaps it would be better to include it anyway).
+DEVO_SUPPORT= README Makefile.in configure configure.in \
+	config.guess config.if config.sub config move-if-change \
+	mpw-README mpw-build.in mpw-config.in mpw-configure mpw-install \
+	COPYING COPYING.LIB install-sh config-ml.in symlink-tree \
+	mkinstalldirs ltconfig ltmain.sh missing ylwrap
+
+# Files in devo/etc used in any net release.
+# ChangeLog omitted because it may refer to files which are not in this
+# distribution (perhaps it would be better to include it anyway).
+ETC_SUPPORT= Makefile.in configure configure.in standards.texi \
+	make-stds.texi standards.info*
+
+# When you use `make setup-dirs' or `make taz' you should always redefine
+# this macro.
+SUPPORT_FILES = list-of-support-files-for-tool-in-question
+
+.PHONY: taz
+
+taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) \
+  texinfo/texinfo.tex texinfo/gpl.texinfo texinfo/lgpl.texinfo
+	# Take out texinfo from a few places
+	sed -e '/^all\.normal: /s/\all-texinfo //' \
+	    -e '/^	install-texinfo /d' \
+	<Makefile.in >tmp
+	mv -f tmp Makefile.in
+	#
+	./configure sun4
+	[ -z "$(CONFIGURE_TARGET_MODULES)" ] \
+	  || $(MAKE) $(CONFIGURE_TARGET_MODULES) ALL_GCC="" \
+	    CC_FOR_TARGET="$(CC)" CXX_FOR_TARGET="$(CXX)"
+	# Make links, and run "make diststuff" or "make info" when needed.
+	rm -rf proto-toplev ; mkdir proto-toplev
+	set -e ; dirs="$(TOOL) $(DEVO_SUPPORT) $(SUPPORT_FILES)" ; \
+	for d in $$dirs ; do \
+	  if [ -d $$d ]; then \
+	    if [ ! -f $$d/Makefile ] ; then true ; \
+	    elif grep '^diststuff:' $$d/Makefile >/dev/null ; then \
+		(cd $$d ; $(MAKE) diststuff ) || exit 1 ; \
+	    elif grep '^info:' $$d/Makefile >/dev/null ; then \
+	        (cd $$d ; $(MAKE) info ) || exit 1 ; \
+	    fi ; \
+	    if [ -d $$d/proto-$$d.dir ]; then \
+	      ln -s ../$$d/proto-$$d.dir proto-toplev/$$d ; \
+	    else \
+	      ln -s ../$$d proto-toplev/$$d ; \
+	    fi ; \
+	  else ln -s ../$$d proto-toplev/$$d ; fi ; \
+	done
+	cd etc ; $(MAKE) info
+	$(MAKE) distclean
+	#
+	mkdir proto-toplev/etc
+	(cd proto-toplev/etc; \
+	 for i in $(ETC_SUPPORT); do \
+		ln -s ../../etc/$$i . ; \
+	 done)
+	#
+	# Take out texinfo from configurable dirs
+	rm proto-toplev/configure.in
+	sed -e '/^host_tools=/s/texinfo //' \
+	    <configure.in >proto-toplev/configure.in
+	#
+	mkdir proto-toplev/texinfo
+	ln -s ../../texinfo/texinfo.tex		proto-toplev/texinfo/
+	ln -s ../../texinfo/gpl.texinfo		proto-toplev/texinfo/
+	ln -s ../../texinfo/lgpl.texinfo	proto-toplev/texinfo/
+	if test -r texinfo/util/tex3patch ; then \
+	  mkdir proto-toplev/texinfo/util && \
+	  ln -s ../../../texinfo/util/tex3patch	proto-toplev/texinfo/util ; \
+	else true; fi
+	chmod -R og=u . || chmod og=u `find . -print`
+	if grep AM_INIT_AUTOMAKE $(TOOL)/configure.in >/dev/null 2>&1; then \
+	  ver=`sed < $(TOOL)/configure.in -n 's/AM_INIT_AUTOMAKE[^,]*, *\([^)]*\))/\1/p'`; \
+	else \
+	  ver=`sed <$(TOOL)/Makefile.in -n 's/^VERSION *= *//p'`; \
+	fi; \
+	$(MAKE) -f Makefile.in do-tar-gz TOOL=$(TOOL) VER=$$ver
+
+do-tar-gz:
+	echo "==> Making $(TOOL)-$(VER).tar.gz"
+	-rm -f $(TOOL)-$(VER)
+	ln -s proto-toplev $(TOOL)-$(VER)
+	tar cfh $(TOOL)-$(VER).tar $(TOOL)-$(VER)
+	$(GZIPPROG) -v -9 $(TOOL)-$(VER).tar
+
+TEXINFO_SUPPORT= texinfo/texinfo.tex texinfo/gpl.texinfo texinfo/lgpl.texinfo
+DIST_SUPPORT= $(DEVO_SUPPORT) $(TEXINFO_SUPPORT)
+
+.PHONY: gas.tar.gz
+GAS_SUPPORT_DIRS= bfd include libiberty opcodes intl setup.com makefile.vms
+gas.tar.gz: $(DIST_SUPPORT) $(GAS_SUPPORT_DIRS) gas
+	$(MAKE) -f Makefile.in taz TOOL=gas \
+		SUPPORT_FILES="$(GAS_SUPPORT_DIRS)"
+
+# The FSF "binutils" release includes gprof and ld.
+.PHONY: binutils.tar.gz
+BINUTILS_SUPPORT_DIRS= bfd gas include libiberty opcodes ld gprof intl setup.com makefile.vms
+binutils.tar.gz: $(DIST_SUPPORT) $(BINUTILS_SUPPORT_DIRS) binutils
+	$(MAKE) -f Makefile.in taz TOOL=binutils \
+		SUPPORT_FILES="$(BINUTILS_SUPPORT_DIRS) makeall.bat configure.bat"
+
+.PHONY: gas+binutils.tar.gz
+GASB_SUPPORT_DIRS= $(GAS_SUPPORT_DIRS) binutils ld gprof
+gas+binutils.tar.gz: $(DIST_SUPPORT) $(GASB_SUPPORT_DIRS) gas
+	$(MAKE) -f Makefile.in taz TOOL=gas \
+		SUPPORT_FILES="$(GASB_SUPPORT_DIRS) makeall.bat configure.bat"
+
+.PHONY: libg++.tar.gz
+LIBGXX_SUPPORT_DIRS=include libstdc++ libio librx libiberty
+libg++.tar.gz: $(DIST_SUPPORT) libg++
+	$(MAKE) -f Makefile.in taz TOOL=libg++ \
+		SUPPORT_FILES="$(LIBGXX_SUPPORT_DIRS)"
+
+GNATS_SUPPORT_DIRS=include libiberty send-pr
+gnats.tar.gz: $(DIST_SUPPORT) $(GNATS_SUPPORT_DIRS) gnats
+	$(MAKE) -f  Makefile.in taz TOOL=gnats \
+		SUPPORT_FILES="$(GNATS_SUPPORT_DIRS)"
+
+.PHONY: gdb.tar.gz
+GDB_SUPPORT_DIRS= bfd include libiberty mmalloc opcodes readline sim utils intl
+GDBTK_SUPPORT_DIRS= `if [ -d tcl -a -d tk ] ; then echo tcl tk ; fi`
+gdb.tar.gz: $(DIST_SUPPORT) $(GDB_SUPPORT_DIRS) gdb
+	$(MAKE) -f Makefile.in taz TOOL=gdb \
+		SUPPORT_FILES="$(GDB_SUPPORT_DIRS) $(GDBTK_SUPPORT_DIRS)"
+
+.PHONY: newlib.tar.gz
+NEWLIB_SUPPORT_DIRS=libgloss
+# taz configures for the sun4 target which won't configure newlib.
+# We need newlib configured so that the .info files are made.
+# Unfortunately, it is not enough to just configure newlib separately:
+# taz will build the .info files but since SUBDIRS won't contain newlib,
+# distclean won't be run (leaving Makefile, config.status, and the tmp files
+# used in building the .info files, eg: *.def, *.ref).
+# The problem isn't solvable however without a lot of extra work because
+# target libraries are built in subdir $(target_alias) which gets nuked during
+# the make distclean.  For now punt on the issue of shipping newlib info files
+# with newlib net releases and wait for a day when some native target (sun4?)
+# supports newlib (if only minimally).
+newlib.tar.gz: $(DIST_SUPPORT) $(NEWLIB_SUPPORT_DIRS) newlib
+	$(MAKE) -f Makefile.in taz TOOL=newlib \
+		SUPPORT_FILES="$(NEWLIB_SUPPORT_DIRS)" \
+		DEVO_SUPPORT="$(DEVO_SUPPORT) COPYING.NEWLIB" newlib
+
+.NOEXPORT:
+MAKEOVERRIDES=
+
+# end of Makefile.in
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/owner.qpg gcc/owner.qpg
--- gcc-2.95.2/owner.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/owner.qpg	2001-03-22 05:15:17.000000000 +1000
@@ -0,0 +1,10 @@
+<QPG:Generation>
+   <QPG:Responsible>
+      <QPG:Company>QNX Software Systems Ltd.</QPG:Company>
+      <QPG:Department>R+D</QPG:Department>
+      <QPG:Group>Tools</QPG:Group>
+      <QPG:Team>Tools</QPG:Team>
+      <QPG:Employee>Colin Burgess</QPG:Employee>
+      <QPG:EmailAddress>cburgess@qnx.com</QPG:EmailAddress>
+   </QPG:Responsible>
+</QPG:Generation>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-arm-libstdc++.qpg gcc/package-arm-libstdc++.qpg
--- gcc-2.95.2/package-arm-libstdc++.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-arm-libstdc++.qpg	2001-04-04 07:02:23.000000000 +1000
@@ -0,0 +1,98 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntoarm/ntoarm/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/le/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/be/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" -->
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/le/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/exceptions/be/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" -->
+<QPG:Add file="nto/ntoarm/ntoarm/pic/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoarm/ntoarm/pic/le/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/pic/be/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" -->
+<QPG:Add file="nto/ntoarm/ntoarm/le/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/be/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" -->
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntoarm/ntoarm/libio/_G_config.h" install="/usr/ntoarm/include/" />
+<QPG:Add file="nto/ntoarm/ntoarm/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/exceptions/" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/exceptions/pic/" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/le/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/exceptions/pic/le/" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/le/libiberty/libiberty.a" install="/usr/ntoarm/lib/exceptions/pic/le/" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/be/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/exceptions/pic/be/" -->
+<!-- QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/be/libiberty/libiberty.a" install="/usr/ntoarm/lib/exceptions/pic/be/" -->
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/pic/libiberty/libiberty.a" install="/usr/ntoarm/lib/exceptions/pic/" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/le/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/exceptions/le/" />
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/le/libiberty/libiberty.a" install="/usr/ntoarm/lib/exceptions/le/" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/exceptions/be/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/exceptions/be/" -->
+<!-- QPG:Add file="nto/ntoarm/ntoarm/exceptions/be/libiberty/libiberty.a" install="/usr/ntoarm/lib/exceptions/be/" -->
+<QPG:Add file="nto/ntoarm/ntoarm/exceptions/libiberty/libiberty.a" install="/usr/ntoarm/lib/exceptions/" />
+<QPG:Add file="nto/ntoarm/ntoarm/pic/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/pic/" />
+<QPG:Add file="nto/ntoarm/ntoarm/pic/le/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/pic/le/" />
+<QPG:Add file="nto/ntoarm/ntoarm/pic/le/libiberty/libiberty.a" install="/usr/ntoarm/lib/pic/le/" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/pic/be/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/pic/be/" -->
+<!-- QPG:Add file="nto/ntoarm/ntoarm/pic/be/libiberty/libiberty.a" install="/usr/ntoarm/lib/pic/be/" -->
+<QPG:Add file="nto/ntoarm/ntoarm/pic/libiberty/libiberty.a" install="/usr/ntoarm/lib/pic/" />
+<QPG:Add file="nto/ntoarm/ntoarm/le/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/le/" />
+<QPG:Add file="nto/ntoarm/ntoarm/le/libiberty/libiberty.a" install="/usr/ntoarm/lib/le/" />
+<!-- QPG:Add file="nto/ntoarm/ntoarm/be/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoarm/lib/be/" -->
+<!-- QPG:Add file="nto/ntoarm/ntoarm/be/libiberty/libiberty.a" install="/usr/ntoarm/lib/be/" -->
+<QPG:Add file="nto/ntoarm/ntoarm/libiberty/libiberty.a" install="/usr/ntoarm/lib/" />
+
+<!-- Last, all symbolic links -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/le/" filetype="symlink" linkto="../../../../../../../ntoarm/lib/exceptions/pic/le/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/le/" filetype="symlink" linkto="../../../../../../../ntoarm/lib/exceptions/pic/le/libstdc++.so.2.10" />
+<!-- QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/be/" filetype="symlink" linkto="../../../../../../../ntoarm/lib/exceptions/pic/be/libstdc++.a.2.10" -->
+<!-- QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/be/" filetype="symlink" linkto="../../../../../../../ntoarm/lib/exceptions/pic/be/libstdc++.so.2.10" -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/" filetype="symlink" linkto="../../../../../../ntoarm/lib/exceptions/pic/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/" filetype="symlink" linkto="../../../../../../ntoarm/lib/exceptions/pic/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/le/" filetype="symlink" linkto="../../../../../../ntoarm/lib/exceptions/le/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/le/" filetype="symlink" linkto="../../../../../../ntoarm/lib/exceptions/le/libstdc++.so.2.10" />
+<!-- QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/be/" filetype="symlink" linkto="../../../../../../ntoarm/lib/exceptions/be/libstdc++.a.2.10" -->
+<!-- QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/be/" filetype="symlink" linkto="../../../../../../ntoarm/lib/exceptions/be/libstdc++.so.2.10" -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntoarm/lib/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntoarm/lib/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/le/" filetype="symlink" linkto="../../../../../../ntoarm/lib/pic/le/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/le/" filetype="symlink" linkto="../../../../../../ntoarm/lib/pic/le/libstdc++.so.2.10" />
+<!-- QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/be/" filetype="symlink" linkto="../../../../../../ntoarm/lib/pic/be/libstdc++.a.2.10" -->
+<!-- QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/be/" filetype="symlink" linkto="../../../../../../ntoarm/lib/pic/be/libstdc++.so.2.10" -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/" filetype="symlink" linkto="../../../../../ntoarm/lib/pic/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/" filetype="symlink" linkto="../../../../../ntoarm/lib/pic/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/le/" filetype="symlink" linkto="../../../../../ntoarm/lib/le/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/le/" filetype="symlink" linkto="../../../../../ntoarm/lib/le/libstdc++.so.2.10" />
+<!-- QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/be/" filetype="symlink" linkto="../../../../../ntoarm/lib/be/libstdc++.a.2.10" -->
+<!-- QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/be/" filetype="symlink" linkto="../../../../../ntoarm/lib/be/libstdc++.so.2.10" -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/" filetype="symlink" linkto="../../../../ntoarm/lib/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoarm/2.95.2/" filetype="symlink" linkto="../../../../ntoarm/lib/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/exceptions/pic/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/exceptions/pic/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/exceptions/pic/le/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/exceptions/pic/le/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<!-- QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/exceptions/pic/be/" filetype="symlink" linkto="libstdc++.a.2.10.0" -->
+<!-- QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/exceptions/pic/be/" filetype="symlink" linkto="libstdc++.so.2.10.0" -->
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/exceptions/le/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/exceptions/le/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<!-- QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/exceptions/be/" filetype="symlink" linkto="libstdc++.a.2.10.0" -->
+<!-- QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/exceptions/be/" filetype="symlink" linkto="libstdc++.so.2.10.0" -->
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/pic/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/pic/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/pic/le/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/pic/le/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<!-- QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/pic/be/" filetype="symlink" linkto="libstdc++.a.2.10.0" -->
+<!-- QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/pic/be/" filetype="symlink" linkto="libstdc++.so.2.10.0" -->
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/le/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/le/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<!-- QPG:Add file="libstdc++.a.2.10" install="/usr/ntoarm/lib/be/" filetype="symlink" linkto="libstdc++.a.2.10.0" -->
+<!-- QPG:Add file="libstdc++.so.2.10" install="/usr/ntoarm/lib/be/" filetype="symlink" linkto="libstdc++.so.2.10.0" -->
+      </QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-arm.qpg gcc/package-arm.qpg
--- gcc-2.95.2/package-arm.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-arm.qpg	2001-04-19 00:45:46.000000000 +1000
@@ -0,0 +1,51 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntoarm/gcc/cc1" pinfo="cc1.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/cc1plus" pinfo="cc1plus.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/collect2" pinfo="collect2.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/cpp" pinfo="cpp.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/c++filt" pinfo="c++filt.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/protoize" pinfo="protoize.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/unprotoize" pinfo="unprotoize.pinfo" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/xgcc" pinfo="xgcc.pinfo" target="arm" proc="x86" />
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntoarm/gcc/g++" install="/usr/bin/ntoarm-g++" target="arm" proc="x86" />
+<QPG:Add file="gcc/cp/g++.1" install="/usr/man/man1/ntoarm-g++.1" target="arm" proc="x86" />
+<QPG:Add file="gcc/gcc.1" install="/usr/man/man1/ntoarm-gcc.1" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/specs" install="/usr/lib/gcc-lib/ntoarm/2.95.2/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/SYSCALLS.c.X" install="/usr/lib/gcc-lib/ntoarm/2.95.2/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/syslimits.h" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/typeinfo" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/exception" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/new" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/new.h" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/limits.h" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/float.h" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/README" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/include/fixed" install="/usr/lib/gcc-lib/ntoarm/2.95.2/include/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/exceptions/pic/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/exceptions/pic/le/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/le/" target="arm" proc="x86" />
+<!-- QPG:Add file="nto/ntoarm/gcc/exceptions/pic/be/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/pic/be/ "target="arm" proc="x86"  -->
+<QPG:Add file="nto/ntoarm/gcc/exceptions/le/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/le/" target="arm" proc="x86" />
+<!-- QPG:Add file="nto/ntoarm/gcc/exceptions/be/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/exceptions/be/" target="arm" proc="x86" -->
+<QPG:Add file="nto/ntoarm/gcc/pic/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/" target="arm" proc="x86" />
+<QPG:Add file="nto/ntoarm/gcc/pic/le/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/le/" target="arm" proc="x86" />
+<!-- QPG:Add file="nto/ntoarm/gcc/pic/be/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/pic/be/" target="arm" proc="x86" -->
+<QPG:Add file="nto/ntoarm/gcc/le/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/le/" target="arm" proc="x86" />
+<!-- QPG:Add file="nto/ntoarm/gcc/be/libgcc.a" install="/usr/lib/gcc-lib/ntoarm/2.95.2/be/" target="arm" proc="x86"  -->
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntoarmle.conf" install="/etc/qcc/" target="arm" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntoarmle++.conf" install="/etc/qcc/" target="arm" proc="x86" />
+
+<!-- Links -->
+<QPG:Add file="ntoarm-c++" install="/usr/bin/ntoarm-c++" filetype="symlink" linkto="ntoarm-g++" target="arm" proc="x86" />
+ 
+     </QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-common-libstdc++.qpg gcc/package-common-libstdc++.qpg
--- gcc-2.95.2/package-common-libstdc++.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-common-libstdc++.qpg	2001-04-04 07:02:23.000000000 +1000
@@ -0,0 +1,196 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- binaries -->
+<QPG:Add file="nto/ntox86/gcc/gcov" install="/usr/bin/" />
+<QPG:Add file="nto/ntox86/gcc/cpp" install="/usr/bin/" />
+<QPG:Add file="libstdc++/stl/PlotFile.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/SFile.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/builtinbuf.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/editbuf.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/floatio.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/fstream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/indstream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iolibio.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iomanip.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iostdio.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iostream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iostreamP.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/istream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/libio.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/libioP.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/ostream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/parsestream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/pfstream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/procbuf.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stdiostream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/streambuf.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/strfile.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/strstream.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cassert" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cctype" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cerrno" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cfloat" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/ciso646" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/climits" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/clocale" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cmath" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/complex" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/csetjmp" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/csignal" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cstdarg" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cstddef" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cstdio" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cstdlib" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cstring" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/ctime" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cwchar" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/cwctype" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/string" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stdexcept" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/algorithm" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/deque" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/functional" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/hash_map" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/hash_set" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iterator" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/list" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/map" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/memory" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/numeric" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/pthread_alloc" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/queue" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/rope" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/set" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/slist" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stack" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/utility" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/vector" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/fstream" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iomanip" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iostream" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/strstream" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iosfwd" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/bitset" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/valarray" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/complex.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/std/bastring.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/complext.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/dcomplex.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/fcomplex.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/gslice.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/gslice_array.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/indirect_array.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/ldcomplex.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/mask_array.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/slice.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/slice_array.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/std_valarray.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/straits.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/valarray_array.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/valarray_meta.h" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/bastring.cc" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/std/complext.cc" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/std/valarray_array.tcc" install="/usr/include/g++-3/std/" />
+<QPG:Add file="libstdc++/stl/algo.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/algobase.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/alloc.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/bvector.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/defalloc.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/deque.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/function.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/hash_map.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/hash_set.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/hashtable.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/heap.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/iterator.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/list.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/map.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/multimap.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/multiset.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/pair.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/pthread_alloc.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/rope.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/ropeimpl.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/set.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/slist.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stack.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_algo.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_algobase.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_alloc.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_bvector.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_config.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_construct.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_deque.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_function.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_hash_fun.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_hash_map.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_hash_set.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_hashtable.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_heap.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_iterator.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_list.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_map.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_multimap.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_multiset.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_numeric.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_pair.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_queue.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_raw_storage_iter.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_relops.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_rope.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_set.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_slist.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_stack.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_tempbuf.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_tree.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_uninitialized.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/stl_vector.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/tempbuf.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/tree.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/type_traits.h" install="/usr/include/g++-3/" />
+<QPG:Add file="libstdc++/stl/vector.h" install="/usr/include/g++-3/" />
+
+<QPG:Add file="nto/ntox86/gcc/cpp.info" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/cpp.info-1" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/cpp.info-2" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/cpp.info-3" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-1" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-10" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-11" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-12" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-13" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-14" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-15" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-16" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-17" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-18" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-19" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-2" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-20" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-21" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-22" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-23" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-24" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-25" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-26" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-27" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-28" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-29" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-3" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-30" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-4" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-5" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-6" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-7" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-8" install="/usr/info/" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-9" install="/usr/info/" />
+<QPG:Add file="gcc/cccp.1" install="/usr/man/man1/cccp.1" />
+<QPG:Add file="nto/ntox86/libiberty/libiberty.a" install="/usr/lib/libiberty.a" />
+</QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-common.qpg gcc/package-common.qpg
--- gcc-2.95.2/package-common.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-common.qpg	2001-04-19 00:26:41.000000000 +1000
@@ -0,0 +1,51 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- binaries -->
+<QPG:Add file="nto/ntox86/gcc/gcov" install="/usr/bin/" target="none" proc="none" />
+
+<QPG:Add file="nto/ntox86/gcc/cpp.info" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/cpp.info-1" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/cpp.info-2" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/cpp.info-3" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-1" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-10" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-11" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-12" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-13" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-14" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-15" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-16" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-17" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-18" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-19" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-2" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-20" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-21" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-22" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-23" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-24" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-25" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-26" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-27" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-28" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-29" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-3" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-30" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-4" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-5" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-6" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-7" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-8" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/gcc/gcc.info-9" install="/usr/info/" target="none" proc="none" />
+<QPG:Add file="gcc/cccp.1" install="/usr/man/man1/cccp.1" target="none" proc="none" />
+<QPG:Add file="nto/ntox86/libiberty/libiberty.a" install="/usr/lib/libiberty.a" target="none" proc="none" />
+
+<!-- Links -->
+<QPG:Add file="cpp" install="/usr/bin/" filetype="symlink" linkto="../lib/gcc-lib/ntox86/2.95.2/cpp" target="none" proc="none" />
+
+</QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-mips-libstdc++.qpg gcc/package-mips-libstdc++.qpg
--- gcc-2.95.2/package-mips-libstdc++.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-mips-libstdc++.qpg	2001-04-04 07:02:23.000000000 +1000
@@ -0,0 +1,71 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntomips/ntomips/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/exceptions/el/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/el/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/exceptions/el/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntomips/ntomips/el/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntomips/ntomips/libio/_G_config.h" install="/usr/ntomips/include/"/>
+<QPG:Add file="nto/ntomips/ntomips/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/qnxpic/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/qnxpic/exceptions/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/exceptions/el/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/qnxpic/exceptions/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/exceptions/el/libiberty/libiberty.a" install="/usr/ntomips/lib/qnxpic/exceptions/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/exceptions/libiberty/libiberty.a" install="/usr/ntomips/lib/qnxpic/exceptions/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/el/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/qnxpic/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/el/libiberty/libiberty.a" install="/usr/ntomips/lib/qnxpic/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/qnxpic/libiberty/libiberty.a" install="/usr/ntomips/lib/qnxpic/"/>
+<QPG:Add file="nto/ntomips/ntomips/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/exceptions/"/>
+<QPG:Add file="nto/ntomips/ntomips/exceptions/el/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/exceptions/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/exceptions/el/libiberty/libiberty.a" install="/usr/ntomips/lib/exceptions/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/exceptions/libiberty/libiberty.a" install="/usr/ntomips/lib/exceptions/"/>
+<QPG:Add file="nto/ntomips/ntomips/el/libstdc++/libstdc++.a.2.10.0" install="/usr/ntomips/lib/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/el/libiberty/libiberty.a" install="/usr/ntomips/lib/el/"/>
+<QPG:Add file="nto/ntomips/ntomips/libiberty/libiberty.a" install="/usr/ntomips/lib/"/>
+
+<!-- Last, all symbolic links -->
+<QPG:Add file="" install=" " filetype="symlink" linkto="" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/exceptions/el/" filetype="symlink" linkto="../../../../../../../ntomips/lib/qnxpic/exceptions/el/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/exceptions/el/" filetype="symlink" linkto="../../../../../../../ntomips/lib/qnxpic/exceptions/el/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/exceptions/" filetype="symlink" linkto="../../../../../../ntomips/lib/qnxpic/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/exceptions/" filetype="symlink" linkto="../../../../../../ntomips/lib/qnxpic/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/el/" filetype="symlink" linkto="../../../../../../ntomips/lib/qnxpic/el/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/el/" filetype="symlink" linkto="../../../../../../ntomips/lib/qnxpic/el/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/" filetype="symlink" linkto="../../../../../ntomips/lib/qnxpic/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/" filetype="symlink" linkto="../../../../../ntomips/lib/qnxpic/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/exceptions/el/" filetype="symlink" linkto="../../../../../../ntomips/lib/exceptions/el/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/exceptions/el/" filetype="symlink" linkto="../../../../../../ntomips/lib/exceptions/el/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntomips/lib/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntomips/lib/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/el/" filetype="symlink" linkto="../../../../../ntomips/lib/el/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/el/" filetype="symlink" linkto="../../../../../ntomips/lib/el/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/" filetype="symlink" linkto="../../../../ntomips/lib/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntomips/2.95.2/" filetype="symlink" linkto="../../../../ntomips/lib/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/qnxpic/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/qnxpic/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/qnxpic/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/qnxpic/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/qnxpic/exceptions/el/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/qnxpic/exceptions/el/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/qnxpic/el/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/qnxpic/el/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/exceptions/el/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/exceptions/el/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntomips/lib/el/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntomips/lib/el/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+   </QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-mips.qpg gcc/package-mips.qpg
--- gcc-2.95.2/package-mips.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-mips.qpg	2001-05-04 01:45:47.000000000 +1000
@@ -0,0 +1,49 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntomips/gcc/cc1" pinfo="cc1.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/cc1plus" pinfo="cc1plus.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/collect2" pinfo="collect2.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/cpp" pinfo="cpp.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/c++filt" pinfo="c++filt.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/protoize" pinfo="protoize.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/unprotoize" pinfo="unprotoize.pinfo" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/xgcc" pinfo="xgcc.pinfo" target="mips" proc="x86" />
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntomips/gcc/g++" install="/usr/bin/ntomips-g++" target="mips" proc="x86" />
+<QPG:Add file="gcc/cp/g++.1" install="/usr/man/man1/ntomips-g++.1" target="mips" proc="x86" />
+<QPG:Add file="gcc/gcc.1" install="/usr/man/man1/ntomips-gcc.1" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/specs" install="/usr/lib/gcc-lib/ntomips/2.95.2/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/SYSCALLS.c.X" install="/usr/lib/gcc-lib/ntomips/2.95.2/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/syslimits.h" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/typeinfo" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/exception" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/ "target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/new" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/new.h" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/limits.h" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/float.h" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/README" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/include/fixed" install="/usr/lib/gcc-lib/ntomips/2.95.2/include/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/qnxpic/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/qnxpic/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/exceptions/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/qnxpic/exceptions/el/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/exceptions/el/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/qnxpic/el/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/qnxpic/el/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/exceptions/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/exceptions/el/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/exceptions/el/" target="mips" proc="x86" />
+<QPG:Add file="nto/ntomips/gcc/el/libgcc.a" install="/usr/lib/gcc-lib/ntomips/2.95.2/el/" target="mips" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntomipsle.conf" install="/etc/qcc/" target="mips" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntomipsle++.conf" install="/etc/qcc/" target="mips" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntomipsbe.conf" install="/etc/qcc/" target="mips" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntomipsbe++.conf" install="/etc/qcc/" target="mips" proc="x86" />
+
+<!-- Links -->
+<QPG:Add file="ntomips-c++" install="/usr/bin/ntomips-c++" filetype="symlink" linkto="ntomips-g++" target="mips" proc="x86" />
+
+   </QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-ppc-libstdc++.qpg gcc/package-ppc-libstdc++.qpg
--- gcc-2.95.2/package-ppc-libstdc++.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-ppc-libstdc++.qpg	2001-04-04 07:02:23.000000000 +1000
@@ -0,0 +1,71 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntoppc/ntoppc/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/pic/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/pic/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/pic/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/pic/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntoppc/ntoppc/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+
+
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntoppc/ntoppc/libio/_G_config.h" install="/usr/ntoppc/include/" />
+<QPG:Add file="nto/ntoppc/ntoppc/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/nof/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/pic/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/nof/pic/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/pic/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/nof/pic/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/pic/exceptions/libiberty/libiberty.a" install="/usr/ntoppc/lib/nof/pic/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/pic/libiberty/libiberty.a" install="/usr/ntoppc/lib/nof/pic/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/nof/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/exceptions/libiberty/libiberty.a" install="/usr/ntoppc/lib/nof/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/nof/libiberty/libiberty.a" install="/usr/ntoppc/lib/nof/" />
+<QPG:Add file="nto/ntoppc/ntoppc/pic/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/pic/" />
+<QPG:Add file="nto/ntoppc/ntoppc/pic/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/pic/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/pic/exceptions/libiberty/libiberty.a" install="/usr/ntoppc/lib/pic/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/pic/libiberty/libiberty.a" install="/usr/ntoppc/lib/pic/" />
+<QPG:Add file="nto/ntoppc/ntoppc/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntoppc/lib/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/exceptions/libiberty/libiberty.a" install="/usr/ntoppc/lib/exceptions/" />
+<QPG:Add file="nto/ntoppc/ntoppc/libiberty/libiberty.a" install="/usr/ntoppc/lib/" />
+
+<!-- Last, all symbolic links -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/pic/exceptions/" filetype="symlink" linkto="../../../../../../../ntoppc/lib/nof/pic/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/pic/exceptions/" filetype="symlink" linkto="../../../../../../../ntoppc/lib/nof/pic/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/pic/" filetype="symlink" linkto="../../../../../../ntoppc/lib/nof/pic/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/pic/" filetype="symlink" linkto="../../../../../../ntoppc/lib/nof/pic/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/exceptions/" filetype="symlink" linkto="../../../../../../ntoppc/lib/nof/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/exceptions/" filetype="symlink" linkto="../../../../../../ntoppc/lib/nof/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/" filetype="symlink" linkto="../../../../../ntoppc/lib/nof/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/" filetype="symlink" linkto="../../../../../ntoppc/lib/nof/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/pic/exceptions/" filetype="symlink" linkto="../../../../../../ntoppc/lib/pic/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/pic/exceptions/" filetype="symlink" linkto="../../../../../../ntoppc/lib/pic/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/pic/" filetype="symlink" linkto="../../../../../ntoppc/lib/pic/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/pic/" filetype="symlink" linkto="../../../../../ntoppc/lib/pic/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntoppc/lib/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntoppc/lib/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" filetype="symlink" linkto="../../../../ntoppc/lib/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" filetype="symlink" linkto="../../../../ntoppc/lib/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/nof/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/nof/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/nof/pic/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/nof/pic/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/nof/pic/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/nof/pic/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/nof/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/nof/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/pic/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/pic/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/pic/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/pic/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntoppc/lib/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntoppc/lib/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+</QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-ppc.qpg gcc/package-ppc.qpg
--- gcc-2.95.2/package-ppc.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-ppc.qpg	2001-05-02 22:32:40.000000000 +1000
@@ -0,0 +1,50 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntoppc/gcc/cc1" pinfo="cc1.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/cc1plus" pinfo="cc1plus.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/collect2" pinfo="collect2.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/cpp" pinfo="cpp.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/c++filt" pinfo="c++filt.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/protoize" pinfo="protoize.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/unprotoize" pinfo="unprotoize.pinfo" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/xgcc" pinfo="xgcc.pinfo" target="ppc" proc="x86" />
+
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntoppc/gcc/g++" install="/usr/bin/ntoppc-g++" target="ppc" proc="x86" />
+<QPG:Add file="gcc/cp/g++.1" install="/usr/man/man1/ntoppc-g++.1" target="ppc" proc="x86" />
+<QPG:Add file="gcc/gcc.1" install="/usr/man/man1/ntoppc-gcc.1" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/crtbeginC++.o" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/crtendC++.o" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/specs" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/SYSCALLS.c.X" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/syslimits.h" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/ppc-asm.h" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/typeinfo" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/exception" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/new" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/new.h" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/limits.h" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/float.h" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/README" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/include/fixed" install="/usr/lib/gcc-lib/ntoppc/2.95.2/include/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/nof/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/nof/pic/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/pic/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/nof/pic/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/pic/exceptions/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/nof/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/nof/exceptions/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/pic/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/pic/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/pic/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/pic/exceptions/" target="ppc" proc="x86" />
+<QPG:Add file="nto/ntoppc/gcc/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntoppc/2.95.2/exceptions/" target="ppc" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntoppcbe.conf" install="/etc/qcc/" target="ppc" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntoppcbe++.conf" install="/etc/qcc/" target="ppc" proc="x86" />
+
+<!-- Links -->
+<QPG:Add file="ntoppc-c++" install="/usr/bin/ntoppc-c++" filetype="symlink" linkto="ntoppc-g++" target="ppc" proc="x86" />
+
+</QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-sh-libstdc++.qpg gcc/package-sh-libstdc++.qpg
--- gcc-2.95.2/package-sh-libstdc++.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-sh-libstdc++.qpg	2001-04-04 07:02:23.000000000 +1000
@@ -0,0 +1,8 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+         <!-- All binaries and shared objects that need pinfo files -->
+      </QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-sh.qpg gcc/package-sh.qpg
--- gcc-2.95.2/package-sh.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-sh.qpg	2001-04-19 00:45:46.000000000 +1000
@@ -0,0 +1,50 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntosh/gcc/cc1" pinfo="cc1.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/cc1plus" pinfo="cc1plus.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/collect2" pinfo="collect2.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/cpp" pinfo="cpp.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/c++filt" pinfo="c++filt.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/protoize" pinfo="protoize.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/unprotoize" pinfo="unprotoize.pinfo" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/xgcc" pinfo="xgcc.pinfo" target="sh" proc="x86" />
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntosh/gcc/g++" install="/usr/bin/ntosh-g++" target="sh" proc="x86" />
+<QPG:Add file="gcc/cp/g++.1" install="/usr/man/man1/ntosh-g++.1" target="sh" proc="x86" />
+<QPG:Add file="gcc/gcc.1" install="/usr/man/man1/ntosh-gcc.1" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/specs" install="/usr/lib/gcc-lib/ntosh/2.95.2/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/crtbeginC++.o" install="/usr/lib/gcc-lib/ntosh/2.95.2/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/crtendC++.o" install="/usr/lib/gcc-lib/ntosh/2.95.2/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/SYSCALLS.c.X" install="/usr/lib/gcc-lib/ntosh/2.95.2/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/syslimits.h" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/typeinfo" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/exception" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/new" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/new.h" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/limits.h" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/float.h" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/README" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/include/fixed" install="/usr/lib/gcc-lib/ntosh/2.95.2/include/" target="sh" proc="x86"/>
+<QPG:Add file="nto/ntosh/gcc/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/" target="sh" proc="x86"/>
+<QPG:Add file="nto/ntosh/gcc/fexceptions/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/fexceptions/" target="sh" proc="x86"/>
+<QPG:Add file="nto/ntosh/gcc/fpic/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/fpic/" target="sh" proc="x86"/>
+<QPG:Add file="nto/ntosh/gcc/fpic/fexceptions/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/fpic/fexceptions/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/ml/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/ml/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/ml/fexceptions/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/ml/fexceptions/" target="sh" proc="x86"/>
+<QPG:Add file="nto/ntosh/gcc/ml/fpic/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/ml/fpic/" target="sh" proc="x86" />
+<QPG:Add file="nto/ntosh/gcc/ml/fpic/fexceptions/libgcc.a" install="/usr/lib/gcc-lib/ntosh/2.95.2/ml/fpic/fexceptions/" target="sh" proc="x86"/>
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntoshle.conf" install="/etc/qcc/" target="sh" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntoshle++.conf" install="/etc/qcc/" target="sh" proc="x86" />
+
+<!-- Links -->
+<QPG:Add file="ntosh-c++" install="/usr/bin/ntosh-c++" filetype="symlink" linkto="ntosh-g++" target="sh" proc="x86" />
+
+
+  </QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-x86-libstdc++.qpg gcc/package-x86-libstdc++.qpg
--- gcc-2.95.2/package-x86-libstdc++.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-x86-libstdc++.qpg	2001-04-04 07:02:23.000000000 +1000
@@ -0,0 +1,29 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntox86/ntox86/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+<QPG:Add file="nto/ntox86/ntox86/exceptions/libstdc++/libstdc++.so.2.10.0" pinfo="libstdc++.so.2.10.0.pinfo" />
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntox86/ntox86/libio/_G_config.h" install="/usr/ntox86/include/" />
+<QPG:Add file="nto/ntox86/ntox86/libstdc++/libstdc++.a.2.10.0" install="/usr/ntox86/lib/" />
+<QPG:Add file="nto/ntox86/ntox86/exceptions/libstdc++/libstdc++.a.2.10.0" install="/usr/ntox86/lib/exceptions/" />
+<QPG:Add file="nto/ntox86/ntox86/exceptions/libiberty/libiberty.a" install="/usr/ntox86/lib/exceptions/" />
+<QPG:Add file="nto/ntox86/ntox86/libiberty/libiberty.a" install="/usr/ntox86/lib/" />
+
+<!-- Last, all symbolic links -->
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntox86/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntox86/lib/exceptions/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntox86/2.95.2/exceptions/" filetype="symlink" linkto="../../../../../ntox86/lib/exceptions/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a" install="/usr/lib/gcc-lib/ntox86/2.95.2/" filetype="symlink" linkto="../../../../ntox86/lib/libstdc++.a.2.10" />
+<QPG:Add file="libstdc++.so" install="/usr/lib/gcc-lib/ntox86/2.95.2/" filetype="symlink" linkto="../../../../ntox86/lib/libstdc++.so.2.10" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntox86/lib/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntox86/lib/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+<QPG:Add file="libstdc++.a.2.10" install="/usr/ntox86/lib/exceptions/" filetype="symlink" linkto="libstdc++.a.2.10.0" />
+<QPG:Add file="libstdc++.so.2.10" install="/usr/ntox86/lib/exceptions/" filetype="symlink" linkto="libstdc++.so.2.10.0" />
+</QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/package-x86.qpg gcc/package-x86.qpg
--- gcc-2.95.2/package-x86.qpg	1970-01-01 10:00:00.000000000 +1000
+++ gcc/package-x86.qpg	2001-05-02 22:32:20.000000000 +1000
@@ -0,0 +1,50 @@
+<QPG:Generation>
+   <QPG:Owner file="owner.qpg"/>
+   <QPG:Values>
+      <QPG:Files>
+<!-- All binaries and shared objects that need pinfo files -->
+<QPG:Add file="nto/ntox86/gcc/cc1" pinfo="cc1.pinfo" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/cc1plus" pinfo="cc1plus.pinfo" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/collect2" pinfo="collect2.pinfo" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/cpp" pinfo="cpp.pinfo" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/c++filt" pinfo="c++filt.pinfo"  target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/protoize" pinfo="protoize.pinfo" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/unprotoize" pinfo="unprotoize.pinfo" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/xgcc" pinfo="xgcc.pinfo"  target="x86" proc="x86" />
+
+<!-- Next, all real files -->
+<QPG:Add file="nto/ntox86/gcc/g++" install="/usr/bin/ntox86-g++" target="x86" proc="x86" />
+<QPG:Add file="gcc/cp/g++.1" install="/usr/man/man1/ntox86-g++.1" target="x86" proc="x86" />
+<QPG:Add file="gcc/gcc.1" install="/usr/man/man1/ntox86-gcc.1" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/crtbeginC++.o" install="/usr/lib/gcc-lib/ntox86/2.95.2/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/crtendC++.o" install="/usr/lib/gcc-lib/ntox86/2.95.2/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/specs" install="/usr/lib/gcc-lib/ntox86/2.95.2/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/SYSCALLS.c.X" install="/usr/lib/gcc-lib/ntox86/2.95.2/"  target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/syslimits.h" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/typeinfo" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/exception" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/new" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/new.h" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/limits.h" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/float.h" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/README" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/include/fixed" install="/usr/lib/gcc-lib/ntox86/2.95.2/include/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/libgcc.a" install="/usr/lib/gcc-lib/ntox86/2.95.2/" target="x86" proc="x86" />
+<QPG:Add file="nto/ntox86/gcc/exceptions/libgcc.a" install="/usr/lib/gcc-lib/ntox86/2.95.2/exceptions/" target="x86" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntox86.conf" install="/etc/qcc/" target="x86" proc="x86" />
+<QPG:Add file="../../utils/q/qcc/conf.new/gcc_ntox86++.conf" install="/etc/qcc/" target="x86" proc="x86" />
+<QPG:Add file="/etc/qcc/default_ntox86" install="/etc/qcc/" target="x86" proc="x86" />
+
+<!-- Links -->
+<QPG:Add file="ntox86-c++" install="/usr/bin/ntox86-c++" filetype="symlink" linkto="ntox86-g++" target="x86" proc="x86" />
+<QPG:Add file="gcc" install="/usr/bin/" filetype="symlink" linkto="ntox86-gcc" target="x86" proc="x86" />
+<QPG:Add file="g++" install="/usr/bin/" filetype="symlink" linkto="ntox86-g++" target="x86" proc="x86" />
+<QPG:Add file="c++" install="/usr/bin/" filetype="symlink" linkto="ntox86-c++" target="x86" proc="x86" />
+<QPG:Add file="c++filt" install="/usr/bin/" filetype="symlink" linkto="ntox86-c++filt"  target="x86" proc="x86" />
+<QPG:Add file="protoize" install="/usr/bin/" filetype="symlink" linkto="ntox86-protoize" target="x86" proc="x86" />
+<QPG:Add file="unprotoize" install="/usr/bin/" filetype="symlink" linkto="ntox86-unprotoize" target="x86" proc="x86" />
+</QPG:Files>
+   </QPG:Values>
+</QPG:Generation>
+
+
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/configure.in gcc/texinfo/configure.in
--- gcc-2.95.2/texinfo/configure.in	1999-07-01 21:47:14.000000000 +1000
+++ gcc/texinfo/configure.in	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 dnl Process this file with autoconf to produce a configure script.
-dnl $Id: configure.in,v 1.7 1998/03/26 10:30:41 law Exp $
+dnl $Id: configure.in,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 dnl
 AC_INIT(makeinfo/makeinfo.c)
 AC_PREREQ(2.12)dnl Minimum Autoconf version required.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/cygnus/texinfo.tex gcc/texinfo/cygnus/texinfo.tex
--- gcc-2.95.2/texinfo/cygnus/texinfo.tex	1998-03-25 04:05:29.000000000 +1000
+++ gcc/texinfo/cygnus/texinfo.tex	2001-03-01 04:55:13.000000000 +1000
@@ -1,4 +1,4 @@
-%$Id: texinfo.tex,v 1.1.1.1 1998/03/23 04:42:12 law Exp $
+%$Id: texinfo.tex,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 % Cover file to permit easy management of FSF texinfo.tex and use of
 % Cygnus local revisions.
 % First we get the official FSF one:
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/cygnus/texiplus.tex gcc/texinfo/cygnus/texiplus.tex
--- gcc-2.95.2/texinfo/cygnus/texiplus.tex	1998-03-25 04:05:30.000000000 +1000
+++ gcc/texinfo/cygnus/texiplus.tex	2001-03-01 04:55:13.000000000 +1000
@@ -2,7 +2,7 @@
 %% Cygnus revisions to texinfo.tex, TeX macros to handle texinfo files
 %   Copyright (C) 1991 Free Software Foundation, Inc.
 %% Maintained at Cygnus Support as: 
-%%$Id: texiplus.tex,v 1.1.1.1 1998/03/23 04:42:12 law Exp $
+%%$Id: texiplus.tex,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
   
 %This texi+.tex file is free software; you can redistribute it and/or
 %modify it under the terms of the GNU General Public License as
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/dir gcc/texinfo/dir
--- gcc-2.95.2/texinfo/dir	1998-03-25 04:05:03.000000000 +1000
+++ gcc/texinfo/dir	2001-03-01 04:55:13.000000000 +1000
@@ -1,4 +1,4 @@
-$Id: dir,v 1.2 1998/03/24 17:58:17 law Exp $
+$Id: dir,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 This is the file .../info/dir, which contains the topmost node of the
 Info hierarchy.  The first time you invoke Info you start off
 looking at that node, which is (dir)Top.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/dir-example gcc/texinfo/dir-example
--- gcc-2.95.2/texinfo/dir-example	1998-03-25 05:40:32.000000000 +1000
+++ gcc/texinfo/dir-example	2001-03-01 04:55:13.000000000 +1000
@@ -6,7 +6,7 @@
 If you have dir entries for Texinfo manuals you'd like to be added here,
   please send them to karl@gnu.org.
 
-$Id: dir-example,v 1.1.1.3 1998/03/24 18:19:30 law Exp $
+$Id: dir-example,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 
 File: dir,	Node: Top,	This is the top of the INFO tree.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/doc/info-stnd.texi gcc/texinfo/doc/info-stnd.texi
--- gcc-2.95.2/texinfo/doc/info-stnd.texi	1998-03-25 05:40:38.000000000 +1000
+++ gcc/texinfo/doc/info-stnd.texi	2001-03-01 04:55:13.000000000 +1000
@@ -9,7 +9,7 @@
 @synindex fn cp
 @synindex ky cp
 @comment %**end of header
-@comment $Id: info-stnd.texi,v 1.1.1.2 1998/03/24 18:20:36 law Exp $
+@comment $Id: info-stnd.texi,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 
 @dircategory Texinfo documentation system
 @direntry
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/doc/info.texi gcc/texinfo/doc/info.texi
--- gcc-2.95.2/texinfo/doc/info.texi	1998-03-25 05:40:40.000000000 +1000
+++ gcc/texinfo/doc/info.texi	2001-03-01 04:55:13.000000000 +1000
@@ -3,7 +3,7 @@
 @setfilename info.info
 @settitle Info 1.0
 @comment %**end of header 
-@comment $Id: info.texi,v 1.1.1.2 1998/03/24 18:20:37 law Exp $
+@comment $Id: info.texi,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 
 @dircategory Texinfo documentation system
 @direntry
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/doc/Makefile.am gcc/texinfo/doc/Makefile.am
--- gcc-2.95.2/texinfo/doc/Makefile.am	1998-03-25 05:40:35.000000000 +1000
+++ gcc/texinfo/doc/Makefile.am	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo/emacs.
-## $Id: Makefile.am,v 1.1.1.2 1998/03/24 18:20:38 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 ## Run automake in .. to produce Makefile.in from this.
 
 info_TEXINFOS = info-stnd.texi info.texi texinfo.txi
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/doc/texinfo.tex gcc/texinfo/doc/texinfo.tex
--- gcc-2.95.2/texinfo/doc/texinfo.tex	1998-03-25 05:40:41.000000000 +1000
+++ gcc/texinfo/doc/texinfo.tex	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 % texinfo.tex -- TeX macros to handle Texinfo files.
-% $Id: texinfo.tex,v 1.1.1.2 1998/03/24 18:20:39 law Exp $
+% $Id: texinfo.tex,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 %
 % Copyright (C) 1985, 86, 88, 90, 91, 92, 93, 94, 95, 96, 97, 98
 % Free Software Foundation, Inc.
@@ -44,7 +44,7 @@
 
 % This automatically updates the version number based on RCS.
 \def\deftexinfoversion$#1: #2 ${\def\texinfoversion{#2}}
-\deftexinfoversion$Revision: 1.1.1.2 $
+\deftexinfoversion$Revision: 1.1.1.1 $
 \message{Loading texinfo package [Version \texinfoversion]:}
 
 % If in a .fmt file, print the version number
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/doc/texinfo.texi gcc/texinfo/doc/texinfo.texi
--- gcc-2.95.2/texinfo/doc/texinfo.texi	1998-03-25 04:05:41.000000000 +1000
+++ gcc/texinfo/doc/texinfo.texi	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 \input texinfo.tex    @c -*-texinfo-*-
-@c $Id: texinfo.texi,v 1.1.1.1 1998/03/23 04:42:12 law Exp $
+@c $Id: texinfo.texi,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 @c %**start of header
 
 @c All text is ignored before the setfilename.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/doc/texinfo.txi gcc/texinfo/doc/texinfo.txi
--- gcc-2.95.2/texinfo/doc/texinfo.txi	1998-03-25 12:20:38.000000000 +1000
+++ gcc/texinfo/doc/texinfo.txi	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 \input texinfo.tex    @c -*-texinfo-*-
-@c $Id: texinfo.txi,v 1.50 1998/02/27 21:21:34 karl Exp $
+@c $Id: texinfo.txi,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 @c %**start of header
 
 @c All text is ignored before the setfilename.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/emacs/elisp-comp gcc/texinfo/emacs/elisp-comp
--- gcc-2.95.2/texinfo/emacs/elisp-comp	1998-03-25 04:05:49.000000000 +1000
+++ gcc/texinfo/emacs/elisp-comp	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 #!/bin/sh
-# $Id: elisp-comp,v 1.1.1.1 1997/08/21 22:57:57 jason Exp $
+# $Id: elisp-comp,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 # Trivial script to compile the Elisp files.
 setpath=${TMPDIR-/tmp}/elc.$$
 echo "(setq load-path (cons nil load-path))" > $setpath
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/emacs/Makefile.am gcc/texinfo/emacs/Makefile.am
--- gcc-2.95.2/texinfo/emacs/Makefile.am	1998-03-25 04:05:45.000000000 +1000
+++ gcc/texinfo/emacs/Makefile.am	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo/emacs.
-## $Id: Makefile.am,v 1.1.1.1 1998/03/23 04:42:12 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 ## Run automake in .. to produce Makefile.in from this.
 
 # Do not byte compile our Elisp files by default.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/clib.c gcc/texinfo/info/clib.c
--- gcc-2.95.2/texinfo/info/clib.c	1998-03-25 04:06:02.000000000 +1000
+++ gcc/texinfo/info/clib.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* clib.c: Functions which we normally expect to find in the C library.
-   $Id: clib.c,v 1.1.1.1 1997/08/21 22:57:59 jason Exp $
+   $Id: clib.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/dir.c gcc/texinfo/info/dir.c
--- gcc-2.95.2/texinfo/info/dir.c	1998-03-25 04:06:04.000000000 +1000
+++ gcc/texinfo/info/dir.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* dir.c -- How to build a special "dir" node from "localdir" files.
-   $Id: dir.c,v 1.1.1.2 1998/03/22 20:42:22 law Exp $
+   $Id: dir.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/display.c gcc/texinfo/info/display.c
--- gcc-2.95.2/texinfo/info/display.c	1998-03-25 04:06:05.000000000 +1000
+++ gcc/texinfo/info/display.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* display.c -- How to display Info windows.
-   $Id: display.c,v 1.1.1.2 1998/03/22 20:42:23 law Exp $
+   $Id: display.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/display.h gcc/texinfo/info/display.h
--- gcc-2.95.2/texinfo/info/display.h	1998-03-25 04:06:06.000000000 +1000
+++ gcc/texinfo/info/display.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* display.h -- How the display in Info is done.
-   $Id: display.h,v 1.1.1.2 1998/03/22 20:42:24 law Exp $
+   $Id: display.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/echo-area.c gcc/texinfo/info/echo-area.c
--- gcc-2.95.2/texinfo/info/echo-area.c	1998-03-25 05:40:46.000000000 +1000
+++ gcc/texinfo/info/echo-area.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* echo-area.c -- How to read a line in the echo area.
-   $Id: echo-area.c,v 1.1.1.2 1998/03/24 18:20:08 law Exp $
+   $Id: echo-area.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97, 98 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/echo-area.h gcc/texinfo/info/echo-area.h
--- gcc-2.95.2/texinfo/info/echo-area.h	1998-03-25 05:40:48.000000000 +1000
+++ gcc/texinfo/info/echo-area.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* echo-area.h -- Functions used in reading information from the echo area.
-   $Id: echo-area.h,v 1.1.1.2 1998/03/24 18:20:09 law Exp $
+   $Id: echo-area.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/filesys.c gcc/texinfo/info/filesys.c
--- gcc-2.95.2/texinfo/info/filesys.c	1998-03-25 05:40:49.000000000 +1000
+++ gcc/texinfo/info/filesys.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* filesys.c -- File system specific functions for hacking this system.
-   $Id: filesys.c,v 1.1.1.3 1998/03/24 18:20:10 law Exp $
+   $Id: filesys.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97, 98 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/filesys.h gcc/texinfo/info/filesys.h
--- gcc-2.95.2/texinfo/info/filesys.h	1998-03-25 04:06:17.000000000 +1000
+++ gcc/texinfo/info/filesys.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* filesys.h -- External declarations of functions and vars in filesys.c.
-   $Id: filesys.h,v 1.1.1.2 1998/03/22 20:42:28 law Exp $
+   $Id: filesys.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/footnotes.c gcc/texinfo/info/footnotes.c
--- gcc-2.95.2/texinfo/info/footnotes.c	1998-03-25 04:06:18.000000000 +1000
+++ gcc/texinfo/info/footnotes.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* footnotes.c -- Some functions for manipulating footnotes.
-   $Id: footnotes.c,v 1.1.1.2 1998/03/22 20:42:29 law Exp $
+   $Id: footnotes.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/footnotes.h gcc/texinfo/info/footnotes.h
--- gcc-2.95.2/texinfo/info/footnotes.h	1998-03-25 04:06:19.000000000 +1000
+++ gcc/texinfo/info/footnotes.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* footnotes.h -- Some functions for manipulating footnotes.
-   $Id: footnotes.h,v 1.1.1.2 1998/03/22 20:42:30 law Exp $
+   $Id: footnotes.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/gc.h gcc/texinfo/info/gc.h
--- gcc-2.95.2/texinfo/info/gc.h	1998-03-25 04:06:22.000000000 +1000
+++ gcc/texinfo/info/gc.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* gc.h -- Functions for garbage collecting unused node contents.
-   $Id: gc.h,v 1.1.1.2 1998/03/22 20:42:32 law Exp $
+   $Id: gc.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/indices.c gcc/texinfo/info/indices.c
--- gcc-2.95.2/texinfo/info/indices.c	1998-03-25 04:06:24.000000000 +1000
+++ gcc/texinfo/info/indices.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* indices.c -- Commands for dealing with an Info file Index.
-   $Id: indices.c,v 1.1.1.2 1998/03/22 20:42:33 law Exp $
+   $Id: indices.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/indices.h gcc/texinfo/info/indices.h
--- gcc-2.95.2/texinfo/info/indices.h	1998-03-25 04:06:25.000000000 +1000
+++ gcc/texinfo/info/indices.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* indices.h -- Functions defined in indices.c.
-   $Id: indices.h,v 1.1.1.2 1998/03/22 20:42:34 law Exp $
+   $Id: indices.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/info.c gcc/texinfo/info/info.c
--- gcc-2.95.2/texinfo/info/info.c	1998-03-25 05:40:51.000000000 +1000
+++ gcc/texinfo/info/info.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* info.c -- Display nodes of Info files in multiple windows.
-   $Id: info.c,v 1.1.1.3 1998/03/24 18:20:13 law Exp $
+   $Id: info.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 96, 97, 98 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/infodoc.c gcc/texinfo/info/infodoc.c
--- gcc-2.95.2/texinfo/info/infodoc.c	1998-03-25 04:06:33.000000000 +1000
+++ gcc/texinfo/info/infodoc.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* infodoc.c -- Functions which build documentation nodes.
-   $Id: infodoc.c,v 1.1.1.2 1998/03/22 20:42:39 law Exp $
+   $Id: infodoc.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/info.h gcc/texinfo/info/info.h
--- gcc-2.95.2/texinfo/info/info.h	1998-03-25 05:40:52.000000000 +1000
+++ gcc/texinfo/info/info.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* info.h -- Header file which includes all of the other headers.
-   $Id: info.h,v 1.1.1.3 1998/03/24 18:20:14 law Exp $
+   $Id: info.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/infomap.c gcc/texinfo/info/infomap.c
--- gcc-2.95.2/texinfo/info/infomap.c	1998-03-25 04:06:34.000000000 +1000
+++ gcc/texinfo/info/infomap.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* infomap.c -- Keymaps for Info.
-   $Id: infomap.c,v 1.1.1.2 1998/03/22 20:42:40 law Exp $
+   $Id: infomap.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/info-stnd.texi gcc/texinfo/info/info-stnd.texi
--- gcc-2.95.2/texinfo/info/info-stnd.texi	1998-03-25 04:06:26.000000000 +1000
+++ gcc/texinfo/info/info-stnd.texi	2001-03-01 04:55:14.000000000 +1000
@@ -9,7 +9,7 @@
 @synindex fn cp
 @synindex ky cp
 @comment %**end of header
-@comment $Id: info-stnd.texi,v 1.1.1.1 1997/08/21 22:58:01 jason Exp $
+@comment $Id: info-stnd.texi,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
 @dircategory Texinfo documentation system
 @direntry
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/info.texi gcc/texinfo/info/info.texi
--- gcc-2.95.2/texinfo/info/info.texi	1998-03-25 04:06:32.000000000 +1000
+++ gcc/texinfo/info/info.texi	2001-03-01 04:55:14.000000000 +1000
@@ -3,7 +3,7 @@
 @setfilename info.info
 @settitle Info 1.0
 @comment %**end of header 
-@comment $Id: info.texi,v 1.1.1.1 1997/08/21 22:58:02 jason Exp $
+@comment $Id: info.texi,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
 @ifinfo
 @c This is a dir.info fragment to support semi-automated addition of
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/info-utils.h gcc/texinfo/info/info-utils.h
--- gcc-2.95.2/texinfo/info/info-utils.h	1998-03-25 04:06:28.000000000 +1000
+++ gcc/texinfo/info/info-utils.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* info-utils.h -- Exported functions and variables from info-util.c.
-   $Id: info-utils.h,v 1.1.1.2 1998/03/22 20:42:36 law Exp $   
+   $Id: info-utils.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $   
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/makedoc.c gcc/texinfo/info/makedoc.c
--- gcc-2.95.2/texinfo/info/makedoc.c	1998-03-25 04:06:38.000000000 +1000
+++ gcc/texinfo/info/makedoc.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* makedoc.c -- Make doc.c and funs.h from input files.
-   $Id: makedoc.c,v 1.1.1.2 1998/03/22 20:42:43 law Exp $
+   $Id: makedoc.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/Makefile.am gcc/texinfo/info/Makefile.am
--- gcc-2.95.2/texinfo/info/Makefile.am	1998-03-25 05:40:42.000000000 +1000
+++ gcc/texinfo/info/Makefile.am	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo/info.
-## $Id: Makefile.am,v 1.1.1.2 1998/03/24 18:20:06 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 ## Run automake in .. to produce Makefile.in from this.
 
 noinst_PROGRAMS = makedoc
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/man.c gcc/texinfo/info/man.c
--- gcc-2.95.2/texinfo/info/man.c	1998-03-25 04:06:39.000000000 +1000
+++ gcc/texinfo/info/man.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /*  man.c: How to read and format man files.
-    $Id: man.c,v 1.5 1998/03/22 22:35:19 law Exp $
+    $Id: man.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1995, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/man.h gcc/texinfo/info/man.h
--- gcc-2.95.2/texinfo/info/man.h	1998-03-25 04:06:41.000000000 +1000
+++ gcc/texinfo/info/man.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* man.h: Defines and external function declarations for man.c.
-   $Id: man.h,v 1.1.1.2 1998/03/22 20:42:46 law Exp $
+   $Id: man.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/m-x.c gcc/texinfo/info/m-x.c
--- gcc-2.95.2/texinfo/info/m-x.c	1998-03-25 04:06:37.000000000 +1000
+++ gcc/texinfo/info/m-x.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* m-x.c -- Meta-X minibuffer reader.
-   $Id: m-x.c,v 1.1.1.2 1998/03/22 20:42:42 law Exp $
+   $Id: m-x.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/nodemenu.c gcc/texinfo/info/nodemenu.c
--- gcc-2.95.2/texinfo/info/nodemenu.c	1998-03-25 04:06:40.000000000 +1000
+++ gcc/texinfo/info/nodemenu.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* nodemenu.c -- Produce a menu of all visited nodes.
-   $Id: nodemenu.c,v 1.1.1.2 1998/03/22 20:42:47 law Exp $
+   $Id: nodemenu.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/nodes.h gcc/texinfo/info/nodes.h
--- gcc-2.95.2/texinfo/info/nodes.h	1998-03-25 04:06:43.000000000 +1000
+++ gcc/texinfo/info/nodes.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* nodes.h -- How we represent nodes internally.
-   $Id: nodes.h,v 1.1.1.2 1998/03/22 20:42:49 law Exp $
+   $Id: nodes.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/search.h gcc/texinfo/info/search.h
--- gcc-2.95.2/texinfo/info/search.h	1998-03-25 04:06:45.000000000 +1000
+++ gcc/texinfo/info/search.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* search.h -- Structure used to search large bodies of text, with bounds.
-   $Id: search.h,v 1.1.1.2 1998/03/22 20:42:51 law Exp $
+   $Id: search.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/session.c gcc/texinfo/info/session.c
--- gcc-2.95.2/texinfo/info/session.c	1998-03-25 05:40:53.000000000 +1000
+++ gcc/texinfo/info/session.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* session.c -- The user windowing interface to Info.
-   $Id: session.c,v 1.1.1.3 1998/03/24 18:20:15 law Exp $
+   $Id: session.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1993, 96, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/signals.h gcc/texinfo/info/signals.h
--- gcc-2.95.2/texinfo/info/signals.h	1998-03-25 04:06:49.000000000 +1000
+++ gcc/texinfo/info/signals.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* signals.h -- Header to include system dependent signal definitions.
-   $Id: signals.h,v 1.1.1.2 1998/03/22 20:42:55 law Exp $
+   $Id: signals.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/termdep.h gcc/texinfo/info/termdep.h
--- gcc-2.95.2/texinfo/info/termdep.h	1998-04-03 04:30:53.000000000 +1000
+++ gcc/texinfo/info/termdep.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* termdep.h -- System things that terminal.c depends on.
-   $Id: termdep.h,v 1.5 1998/03/24 19:40:54 law Exp $
+   $Id: termdep.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/terminal.c gcc/texinfo/info/terminal.c
--- gcc-2.95.2/texinfo/info/terminal.c	1998-03-25 05:40:55.000000000 +1000
+++ gcc/texinfo/info/terminal.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* terminal.c -- How to handle the physical terminal for Info.
-   $Id: terminal.c,v 1.1.1.3 1998/03/24 18:20:18 law Exp $
+   $Id: terminal.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1988, 89, 90, 91, 92, 93, 96, 97, 98
    Free Software Foundation, Inc.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/tilde.c gcc/texinfo/info/tilde.c
--- gcc-2.95.2/texinfo/info/tilde.c	1998-03-25 05:40:56.000000000 +1000
+++ gcc/texinfo/info/tilde.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* tilde.c -- Tilde expansion code (~/foo := $HOME/foo).
-   $Id: tilde.c,v 1.1.1.3 1998/03/24 18:20:19 law Exp $
+   $Id: tilde.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/variables.c gcc/texinfo/info/variables.c
--- gcc-2.95.2/texinfo/info/variables.c	1998-03-25 04:06:57.000000000 +1000
+++ gcc/texinfo/info/variables.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* variables.c -- How to manipulate user visible variables in Info.
-   $Id: variables.c,v 1.1.1.2 1998/03/22 20:43:01 law Exp $
+   $Id: variables.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/variables.h gcc/texinfo/info/variables.h
--- gcc-2.95.2/texinfo/info/variables.h	1998-03-25 04:06:58.000000000 +1000
+++ gcc/texinfo/info/variables.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* variables.h -- Description of user visible variables in Info.
-   $Id: variables.h,v 1.1.1.2 1998/03/22 20:43:02 law Exp $
+   $Id: variables.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/window.c gcc/texinfo/info/window.c
--- gcc-2.95.2/texinfo/info/window.c	1998-03-25 05:40:57.000000000 +1000
+++ gcc/texinfo/info/window.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* window.c -- Windows in Info.
-   $Id: window.c,v 1.1.1.3 1998/03/24 18:20:20 law Exp $
+   $Id: window.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/info/window.h gcc/texinfo/info/window.h
--- gcc-2.95.2/texinfo/info/window.h	1998-03-25 04:07:00.000000000 +1000
+++ gcc/texinfo/info/window.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* window.h -- Structure and flags used in manipulating Info windows.
-   $Id: window.h,v 1.1.1.2 1998/03/22 20:43:04 law Exp $
+   $Id: window.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    This file is part of GNU Info, a program for reading online documentation
    stored in Info format.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/lib/Makefile.am gcc/texinfo/lib/Makefile.am
--- gcc-2.95.2/texinfo/lib/Makefile.am	1998-03-25 05:41:15.000000000 +1000
+++ gcc/texinfo/lib/Makefile.am	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo/lib.
-## $Id: Makefile.am,v 1.1.1.2 1998/03/24 18:19:49 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 ## Run automake in .. to produce Makefile.in from this.
 
 noinst_LIBRARIES = libtxi.a
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/lib/system.h gcc/texinfo/lib/system.h
--- gcc-2.95.2/texinfo/lib/system.h	1999-07-01 10:44:57.000000000 +1000
+++ gcc/texinfo/lib/system.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* system.h: System-dependent declarations.  Include this first.
-   $Id: system.h,v 1.1.1.2 1998/03/24 18:19:53 law Exp $
+   $Id: system.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1997 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/libtxi/Makefile.in gcc/texinfo/libtxi/Makefile.in
--- gcc-2.95.2/texinfo/libtxi/Makefile.in	1998-03-25 04:07:40.000000000 +1000
+++ gcc/texinfo/libtxi/Makefile.in	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 # Makefile for GNU texinfo/libtxi.  -*- Indented-Text -*-
-# $Id: Makefile.in,v 1.4 1998/01/13 20:31:57 law Exp $
+# $Id: Makefile.in,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
 # Copyright (C) 1993, 96, 98 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/Makefile.am gcc/texinfo/Makefile.am
--- gcc-2.95.2/texinfo/Makefile.am	1999-06-25 07:05:55.000000000 +1000
+++ gcc/texinfo/Makefile.am	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo.
-## $Id: Makefile.am,v 1.5 1998/04/10 00:37:57 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 ## Process this file with automake to produce Makefile.in in all directories.
 
 # Be sure we're using the right version of Automake.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/makeinfo/Makefile.am gcc/texinfo/makeinfo/Makefile.am
--- gcc-2.95.2/texinfo/makeinfo/Makefile.am	1998-11-20 08:39:54.000000000 +1000
+++ gcc/texinfo/makeinfo/Makefile.am	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo/makeinfo.
-## $Id: Makefile.am,v 1.3 1998/03/24 19:41:22 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 ## Run automake in .. to produce Makefile.in from this.
 
 noinst_PROGRAMS = makeinfo
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/makeinfo/makeinfo.c gcc/texinfo/makeinfo/makeinfo.c
--- gcc-2.95.2/texinfo/makeinfo/makeinfo.c	1999-05-28 12:10:10.000000000 +1000
+++ gcc/texinfo/makeinfo/makeinfo.c	2001-03-01 05:24:48.000000000 +1000
@@ -1,5 +1,5 @@
 /* Makeinfo -- convert Texinfo source files into Info files.
-   $Id: makeinfo.c,v 1.11 1998/07/06 21:58:00 law Exp $
+   $Id: makeinfo.c,v 1.1.1.1 2001/02/28 19:24:48 keith Exp $
 
    Copyright (C) 1987, 92, 93, 94, 95, 96, 97, 98
    Free Software Foundation, Inc.
@@ -24,6 +24,10 @@
 #ifdef _AIX
  #pragma alloca
 #endif /* _AIX */
+/* dirty hack time */
+#ifdef __CYGWIN32__
+#define WIN32
+#endif
 
 int major_version = 1;
 int minor_version = 68;
@@ -1240,6 +1244,7 @@
   long file_size;
   int file = -1, count = 0;
   char *fullpath, *result, *get_file_info_in_path ();
+  int n;
 
   result = fullpath = (char *)NULL;
 
@@ -1608,8 +1613,8 @@
           strcpy (result, user_entry->pw_dir);
           strcat (result, &filename[i]);
         }
-    }
 #endif /* not WIN32 */
+    }
   return (result);
 }
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/makeinfo/makeinfo.h gcc/texinfo/makeinfo/makeinfo.h
--- gcc-2.95.2/texinfo/makeinfo/makeinfo.h	1998-03-25 04:07:56.000000000 +1000
+++ gcc/texinfo/makeinfo/makeinfo.h	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* makeinfo.h -- Declarations for Makeinfo.
-   $Id: makeinfo.h,v 1.1.1.2 1998/03/22 20:43:08 law Exp $
+   $Id: makeinfo.h,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1996, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/makeinfo/makeinfo.texi gcc/texinfo/makeinfo/makeinfo.texi
--- gcc-2.95.2/texinfo/makeinfo/makeinfo.texi	1998-03-25 04:07:55.000000000 +1000
+++ gcc/texinfo/makeinfo/makeinfo.texi	2001-03-01 04:55:14.000000000 +1000
@@ -4,7 +4,7 @@
 @set VERSION 1.61
 @paragraphindent none
 @comment %**start of header
-@comment $Id: makeinfo.texi,v 1.1.1.1 1997/08/21 22:58:08 jason Exp $
+@comment $Id: makeinfo.texi,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
 @ifinfo
 @format
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/makeinfo/multi.c gcc/texinfo/makeinfo/multi.c
--- gcc-2.95.2/texinfo/makeinfo/multi.c	1998-05-07 07:09:06.000000000 +1000
+++ gcc/texinfo/makeinfo/multi.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* multi.c -- multitable stuff for makeinfo.
-   $Id: multi.c,v 1.2 1998/03/24 18:07:57 law Exp $
+   $Id: multi.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1996, 97 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/mkinstalldirs gcc/texinfo/mkinstalldirs
--- gcc-2.95.2/texinfo/mkinstalldirs	1998-03-25 05:40:34.000000000 +1000
+++ gcc/texinfo/mkinstalldirs	2001-03-01 04:55:13.000000000 +1000
@@ -4,7 +4,7 @@
 # Created: 1993-05-16
 # Public domain
 
-# $Id: mkinstalldirs,v 1.1.1.2 1998/03/24 18:19:28 law Exp $
+# $Id: mkinstalldirs,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 
 errstatus=0
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/texinfo.tex gcc/texinfo/texinfo.tex
--- gcc-2.95.2/texinfo/texinfo.tex	1998-03-25 04:05:24.000000000 +1000
+++ gcc/texinfo/texinfo.tex	2001-03-01 04:55:13.000000000 +1000
@@ -1,5 +1,5 @@
 %% TeX macros to handle Texinfo files.
-%% $Id: texinfo.tex,v 1.2 1998/03/24 17:58:28 law Exp $
+%% $Id: texinfo.tex,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 
 %  Copyright (C) 1985, 86, 88, 90, 91, 92, 93,
 %                94, 95, 96, 97 Free Software Foundation, Inc.
@@ -36,7 +36,7 @@
 
 % This automatically updates the version number based on RCS.
 \def\deftexinfoversion$#1: #2 ${\def\texinfoversion{#2}}
-\deftexinfoversion$Revision: 1.2 $
+\deftexinfoversion$Revision: 1.1.1.1 $
 \message{Loading texinfo package [Version \texinfoversion]:}
 
 % If in a .fmt file, print the version number
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/texinfo.texi gcc/texinfo/texinfo.texi
--- gcc-2.95.2/texinfo/texinfo.texi	1998-03-25 04:05:26.000000000 +1000
+++ gcc/texinfo/texinfo.texi	2001-03-01 04:55:13.000000000 +1000
@@ -13,7 +13,7 @@
 @paragraphindent 2
 @finalout
 @comment %**end of header
-@comment $Id: texinfo.texi,v 1.2 1998/03/24 17:58:30 law Exp $
+@comment $Id: texinfo.texi,v 1.1.1.1 2001/02/28 18:55:13 keith Exp $
 
 @c Before release, run C-u C-c C-u C-a (texinfo-all-menus-update with a
 @c prefix arg).  This updates the node pointers, which texinfmt.el needs.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/util/gen-dir-node gcc/texinfo/util/gen-dir-node
--- gcc-2.95.2/texinfo/util/gen-dir-node	1998-03-25 04:08:43.000000000 +1000
+++ gcc/texinfo/util/gen-dir-node	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 #!/bin/sh
-# $Id: gen-dir-node,v 1.1.1.2 1998/03/22 20:43:12 law Exp $
+# $Id: gen-dir-node,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 # Generate the top-level Info node, given a directory of Info files
 # and (optionally) a skeleton file.  The output will be suitable for a
 # top-level dir file.  The skeleton file contains info topic names in the
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/util/install-info.c gcc/texinfo/util/install-info.c
--- gcc-2.95.2/texinfo/util/install-info.c	1998-03-25 05:41:39.000000000 +1000
+++ gcc/texinfo/util/install-info.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* install-info -- create Info directory entry(ies) for an Info file.
-   $Id: install-info.c,v 1.1.1.3 1998/03/24 18:20:30 law Exp $
+   $Id: install-info.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1996, 97, 98 Free Software Foundation, Inc.
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/util/Makefile.am gcc/texinfo/util/Makefile.am
--- gcc-2.95.2/texinfo/util/Makefile.am	1999-02-01 20:33:57.000000000 +1000
+++ gcc/texinfo/util/Makefile.am	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 ## Makefile.am for texinfo/util.
-## $Id: Makefile.am,v 1.3 1998/03/24 19:41:36 law Exp $
+## $Id: Makefile.am,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 ## Run automake in .. to produce Makefile.in from this.
 
 noinst_PROGRAMS = install-info texindex
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/util/mkinstalldirs gcc/texinfo/util/mkinstalldirs
--- gcc-2.95.2/texinfo/util/mkinstalldirs	1998-03-25 04:08:45.000000000 +1000
+++ gcc/texinfo/util/mkinstalldirs	2001-03-01 04:55:14.000000000 +1000
@@ -4,7 +4,7 @@
 # Created: 1993-05-16
 # Public domain
 
-# $Id: mkinstalldirs,v 1.1.1.1 1997/08/21 22:58:12 jason Exp $
+# $Id: mkinstalldirs,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
 errstatus=0
 
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/util/texi2dvi gcc/texinfo/util/texi2dvi
--- gcc-2.95.2/texinfo/util/texi2dvi	1998-03-25 05:41:41.000000000 +1000
+++ gcc/texinfo/util/texi2dvi	2001-03-01 04:55:14.000000000 +1000
@@ -1,6 +1,6 @@
 #! /bin/sh
 # texi2dvi --- smartly produce DVI files from texinfo sources
-# $Id: texi2dvi,v 1.1.1.3 1998/03/24 18:20:32 law Exp $
+# $Id: texi2dvi,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 #
 # Copyright (C) 1992, 93, 94, 95, 96, 97, 98 Free Software Foundation, Inc.
 #
@@ -45,7 +45,7 @@
 progname=`echo "$0" | sed -e 's/[^\/]*\///g'`
 
 # This string is expanded by rcs automatically when this file is checked out.
-rcs_revision='$Revision: 1.1.1.3 $'
+rcs_revision='$Revision: 1.1.1.1 $'
 version=`set - $rcs_revision; echo $2`
 
 # To prevent hairy quoting and escaping later.
diff -urN -x Entries -x Root -x Repository gcc-2.95.2/texinfo/util/texindex.c gcc/texinfo/util/texindex.c
--- gcc-2.95.2/texinfo/util/texindex.c	1998-03-25 05:41:42.000000000 +1000
+++ gcc/texinfo/util/texindex.c	2001-03-01 04:55:14.000000000 +1000
@@ -1,5 +1,5 @@
 /* Prepare TeX index dribble output into an actual index.
-   $Id: texindex.c,v 1.1.1.3 1998/03/24 18:20:31 law Exp $
+   $Id: texindex.c,v 1.1.1.1 2001/02/28 18:55:14 keith Exp $
 
    Copyright (C) 1987, 91, 92, 96, 97, 98 Free Software Foundation, Inc.
 
